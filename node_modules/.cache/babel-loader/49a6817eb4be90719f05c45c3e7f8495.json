{"ast":null,"code":"var _jsxFileName = \"/Users/salonibhogale/qhsearchui/src/Components/BrowseData.js\";\nimport React, { Component } from \"react\";\nimport Popup from \"./Shared/Popup.js\";\nimport Checkbox from \"./Shared/Checkbox.js\";\nimport extend from \"lodash/extend\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport Table from \"react-bootstrap/Table\";\nimport ShowMore from \"react-show-more\";\nimport { CSVLink } from \"react-csv\";\nimport { Button } from \"react-bootstrap\"; // import * as moment from \"moment\";\n// import { DateRangeFilter, DateRangeCalendar } from \"searchkit-datefilter\";\n\nimport { SearchkitManager, SearchkitProvider, SearchBox, RefinementListFilter, HierarchicalMenuFilter, HitsStats, HitItemProps, SortingSelector, NoHits, ResetFilters, RangeFilter, NumericRefinementListFilter, ViewSwitcherHits, ViewSwitcherToggle, DynamicRangeFilter, InputFilter, GroupedSelectedFilters, Layout, TopBar, InitialLoader, LayoutBody, LayoutResults, ActionBar, ActionBarRow, SideBar, SearchkitComponent, Pagination, ItemHistogramList } from \"searchkit\"; // import \"./index.css\";\n// const ES_HOST = process.env.ES_HOST || \"localhost\";\n// const ES_PORT = process.env.ES_PORT || 9300;\n\nconst host = \"http://localhost:9300/questions3\";\nconst searchkit = new SearchkitManager(host);\nfetch(\"http://localhost:9300/questions3/_search?size=2\").then(response => response.json()).then(jsonData => {\n  // jsonData is parsed json object received from url\n  console.log(jsonData.hits.hits);\n}).catch(error => {\n  // handle your errors here\n  console.error(error);\n});\n\nsearchkit.translateFunction = key => {\n  return {\n    \"pagination.next\": \"Next Page\",\n    \"pagination.previous\": \"Previous Page\"\n  }[key];\n};\n\nconsole.log(searchkit.query);\nvar filename = \"TCPD_QH.csv\";\nconsole.log(\"found searchkit results\");\n\nclass GetQuestionsTable extends React.Component {\n  render() {\n    const {\n      hits\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: \"100%\",\n        boxSizing: \"border-box\",\n        padding: 8\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      className: \"sk-table sk-table-striped\",\n      style: {\n        boxSizing: \"border-box\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"tbody\", {\n      style: {\n        display: \"block\",\n        width: \"1100px\",\n        overflow: \"auto\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }\n    }, \"LS Num\")), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }\n    }, \"Question\")), /*#__PURE__*/React.createElement(\"td\", {\n      style: {\n        align: \"right\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }\n    }, \"Answer\")), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }\n    }, \"Ministry\")), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }\n    }, \"Member\")), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }\n    }, \"Date\")), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }\n    }, \"Question Type\")), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }\n    }, \"Constituency Type\")), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }\n    }, \"Constituency\"))), hits.map(hit => /*#__PURE__*/React.createElement(\"tr\", {\n      key: hit._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }\n    }, hit._source.ls_no), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(ShowMore, {\n      lines: 3,\n      more: \">\",\n      less: \"<\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 19\n      }\n    }, hit._source.Question)), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(ShowMore, {\n      lines: 3,\n      more: \">\",\n      less: \"<\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 19\n      }\n    }, hit._source.clean_answers)), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 17\n      }\n    }, hit._source.ministry), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 17\n      }\n    }, hit._source.member), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 17\n      }\n    }, hit._source.date), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }\n    }, hit._source.starred_unstarred), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }\n    }, hit._source.constituency_type), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }\n    }, hit._source.constituency))))));\n  }\n\n}\n\nconst MovieHitsListItem = props => {\n  const {\n    bemBlocks,\n    result\n  } = props;\n  let splitname = result._source.member;\n  var split_names = splitname.toString().split(\",\").map((item, i) => {\n    return /*#__PURE__*/React.createElement(\"p\", {\n      key: i,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 14\n      }\n    }, item);\n  });\n  let splitparty = result._source.party;\n  var split_party = splitparty.toString().split(\",\").map((item, i) => {\n    return /*#__PURE__*/React.createElement(\"p\", {\n      key: i,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 14\n      }\n    }, item);\n  });\n  let splitctype = result._source.constituency_type;\n  var split_ctype = splitctype.toString().split(\",\").map((item, i) => {\n    return /*#__PURE__*/React.createElement(\"p\", {\n      key: i,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 14\n      }\n    }, item);\n  });\n  const source = extend({}, result._source, result.highlight);\n  return /*#__PURE__*/React.createElement(\"tr\", {\n    \"data-qa\": \"hit\",\n    className: bemBlocks.item().mix(bemBlocks.container(\"item\")),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: bemBlocks.item(\"subtitle\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 9\n    }\n  }, source.ls_no)), /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      width: \"150px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: bemBlocks.item(\"subtitle\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 9\n    }\n  }, source.starred_unstarred)), /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      width: \"150px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: bemBlocks.item(\"subtitle\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 9\n    }\n  }, split_names)), /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      width: \"150px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: bemBlocks.item(\"subtitle\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 9\n    }\n  }, split_party)), /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      width: \"150px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: bemBlocks.item(\"subtitle\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: bemBlocks.item(\"text\"),\n    dangerouslySetInnerHTML: {\n      __html: source.ministry\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      width: \"150px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: bemBlocks.item(\"subtitle\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: bemBlocks.item(\"text\"),\n    dangerouslySetInnerHTML: {\n      __html: source.date\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      width: \"150px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: bemBlocks.item(\"subtitle\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 9\n    }\n  }, split_ctype)), /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      width: \"250px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: bemBlocks.item(\"subtitle\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ShowMore, {\n    lines: 3,\n    more: \">\",\n    less: \"<\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: bemBlocks.item(\"text\"),\n    dangerouslySetInnerHTML: {\n      __html: source.Question\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 13\n    }\n  })))));\n}; // to display the hitstats correctly: '139 results found in 27ms'\n\n\nexport class FormattedHitsStats extends HitsStats {\n  render() {\n    var timeTaken = this.searchkit.getTime();\n    var hitsCount = this.searchkit.getHitsCount();\n    var checkdata = hitsCount;\n\n    if (checkdata >= 10000) {\n      checkdata = \"More than 10,000\";\n    }\n\n    var props = {\n      bemBlocks: this.bemBlocks,\n      translate: this.translate,\n      timeTaken: timeTaken,\n      hitsCount: hitsCount,\n      resultsFoundLabel: this.translate(\"hitstats.results_found\", {\n        timeTaken: timeTaken,\n        hitCount: checkdata.toLocaleString()\n      })\n    };\n    return React.createElement(this.props.component, props);\n  }\n\n}\nexport default class BrowseData extends Component {\n  constructor(props) {\n    super(props);\n\n    this.showTermsAndConditionsPopup = () => {\n      this.setState({\n        showTermsAndConditionsPopup: true\n      });\n    };\n\n    this.CloseTermsAndConditionsPopup = () => {\n      this.setState({\n        showTermsAndConditionsPopup: false\n      });\n      this.setState({\n        isDataDownloadable: false\n      });\n    };\n\n    this.CancelTermsAndConditionsPopup = () => {\n      this.setState({\n        isDataDownloadable: false\n      });\n      this.setState({\n        showTermsAndConditionsPopup: false\n      });\n    };\n\n    this.onAcceptTermsAndConditions = (key, checked) => {\n      this.setState({\n        isDataDownloadable: checked\n      });\n\n      if (checked) {\n        this.getAllData(searchkit.query);\n        console.log(\"fetching data now\");\n      }\n    };\n\n    this.state = {\n      showTermsAndConditionsPopup: false,\n      csvData: [],\n      isDataDownloadable: false,\n      change: 0\n    };\n  }\n\n  async getAllData(query) {\n    const elasticsearch = require(\"elasticsearch\");\n\n    console.log(\"ping elasticsearch\");\n    const elasticSearchClient = new elasticsearch.Client({\n      host: \"http://localhost:9300/\"\n    });\n    const result = await elasticSearchClient.search({\n      index: \"questions3\",\n      scroll: \"2m\",\n      size: 10000,\n      body: query.query\n    });\n\n    const retriever = async ({\n      data,\n      total,\n      scrollId\n    }) => {\n      if (data.length >= total) {\n        console.log(\"Condition is true\");\n        return data;\n      }\n\n      const result = await elasticSearchClient.scroll({\n        scroll: \"1m\",\n        scroll_id: scrollId\n      });\n      data = [...data, ...result.hits.hits];\n      return retriever({\n        total,\n        scrollId: result._scroll_id,\n        data\n      });\n    };\n\n    console.log(\"This is result here\");\n    console.log(result.hits.hits);\n    console.log(result);\n    console.log(\"End of result here\");\n    const final_data = retriever({\n      total: result.hits.total,\n      scrollId: result._scroll_id,\n      data: result.hits.hits\n    });\n    console.log(final_data);\n    var for_data = [];\n    final_data.then(function (result) {\n      for_data.push([\"ls_number\", \"ministry\", \"member\", \"party\", \"question_type\", \"question_text\"]);\n\n      for (var d = 0; d < result.length; d++) {\n        for_data.push([result[d]._source.ls_no, result[d]._source.ministry, result[d]._source.member, result[d]._source.party, result[d]._source.starred_unstarred, result[d]._source.Question, console.log(result[d]._source.party)]);\n      }\n\n      console.log(\"new data populated\");\n    }).then(() => {\n      this.setState({\n        csvData: for_data\n      });\n      this.setState({\n        change: this.state.change + 1\n      });\n      console.log(\"data mapped to csvData\");\n    });\n  }\n\n  render() {\n    var csvData = this.state.csvData;\n    var change = this.state.change;\n    var showTermsAndConditionsPopup = this.state.showTermsAndConditionsPopup;\n    var isDataDownloadable = this.state.isDataDownloadable;\n    const modalBody = /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 9\n      }\n    }, \"Parliamentary Questions portal is an online web interface provided by the Trivedi Centre for Political Data. In these terms of use of the data provided by the Centre, 'Data' includes all texts and compilations of data and other material presented within the application. The users are free to download, display or include the data in other products for non-commercial purposes at no cost subject to the following limitations:\"), /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 11\n      }\n    }, \"The user must include the citation for data they use. The user must not claim or imply that the Trivedi Centre for Political Data endorses the user's use of the data or use of the Centre's logo(s) or trademarks(s) in conjunction with the same.\"), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 11\n      }\n    }, \"The Centre makes no warranties with respect to the data and the user must agree that the Centre shall not be held responsible or liable to the user for any errors, omissions, misstatements and/or misrepresentations of the data though the user is encouraged to report the same to us (following the procedure elaborated upon within the 'Contact us' tab).\"), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 11\n      }\n    }, \"The Centre may record visits to the application without collecting the personal information of the users. The records shall be used for statistical reports only.\"), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 11\n      }\n    }, \"The user must agree that the use of data presented within the application can be seen as the acknowledgement of unconditionally accepting the Terms of Use presented by the Centre.\")), /*#__PURE__*/React.createElement(Checkbox, {\n      id: \"dd_accept_condition\",\n      label: \"I accept the terms and conditions mentioned here.\",\n      checked: this.state.isDataDownloadable,\n      onChange: this.onAcceptTermsAndConditions,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 400,\n        columnNumber: 9\n      }\n    }));\n    var buttonClass = isDataDownloadable ? \"btn-lg\" : \"btn-lg disabled\";\n    const modalFooter = /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 410,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      className: \"btn-lg\",\n      variant: \"primary\",\n      onClick: this.CancelTermsAndConditionsPopup,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 411,\n        columnNumber: 9\n      }\n    }, \"Cancel\"), /*#__PURE__*/React.createElement(CSVLink, {\n      className: buttonClass,\n      data: csvData,\n      filename: filename,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      className: buttonClass,\n      variant: \"primary\",\n      onClick: this.CloseTermsAndConditionsPopup,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 11\n      }\n    }, \"Download\")));\n    return (\n      /*#__PURE__*/\n      //   <div className=\"content overflow-auto\">\n      React.createElement(\"div\", {\n        className: \"browse-data\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 432,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(SearchkitProvider, {\n        searchkit: searchkit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 435,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Layout, {\n        size: \"l\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(TopBar, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 437,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"my-logo\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 438,\n          columnNumber: 15\n        }\n      }, \"Parliamentary Questions\"), /*#__PURE__*/React.createElement(SearchBox, {\n        autofocus: true,\n        searchOnChange: true,\n        prefixQueryFields: [\"Question^10\"] //   \"starred_unstarred^2\",\n        //   \"member\",\n        //   \"ministry^10\",\n        ,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 439,\n          columnNumber: 15\n        }\n      })), /*#__PURE__*/React.createElement(LayoutBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 449,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(SideBar, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 450,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(HierarchicalMenuFilter, {\n        fields: [\"ls_no\", \"month\", \"day\"],\n        title: \"Lok Sabha Number\",\n        id: \"ls_no\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 451,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(HierarchicalMenuFilter, {\n        fields: [\"starred_unstarred\"],\n        title: \"Question Type\",\n        id: \"starred_unstarred\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 457,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(HierarchicalMenuFilter, {\n        fields: [\"constituency\"],\n        title: \"Constituency \",\n        id: \"constituency\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 462,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(HierarchicalMenuFilter, {\n        fields: [\"ministry\"],\n        title: \"Ministry Names\",\n        id: \"ministry\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 468,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(RefinementListFilter, {\n        id: \"party\",\n        title: \"Party\",\n        field: \"party\",\n        size: 10,\n        operator: \"OR\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 474,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(RefinementListFilter, {\n        id: \"state\",\n        title: \"State\",\n        field: \"state\",\n        operator: \"AND\",\n        listComponent: ItemHistogramList,\n        size: 10,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 481,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(LayoutResults, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 491,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(ActionBar, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 492,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(ActionBarRow, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 493,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(HitsStats, {\n        component: FormattedHitsStats,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 494,\n          columnNumber: 21\n        }\n      })), /*#__PURE__*/React.createElement(ActionBarRow, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 497,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(GroupedSelectedFilters, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 498,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(ResetFilters, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 499,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 501,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        className: \"btn-lg\",\n        onClick: this.showTermsAndConditionsPopup,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 502,\n          columnNumber: 23\n        }\n      }, \" \", \"Download Data\"), showTermsAndConditionsPopup && /*#__PURE__*/React.createElement(Popup, {\n        id: \"tems_and_conditions_popup\",\n        show: showTermsAndConditionsPopup,\n        body: modalBody,\n        heading: /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 514,\n            columnNumber: 36\n          }\n        }, \"Terms and Conditions\"),\n        footer: modalFooter,\n        handleClose: this.CloseTermsAndConditionsPopup,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 510,\n          columnNumber: 25\n        }\n      })))), /*#__PURE__*/React.createElement(ViewSwitcherHits, {\n        hitsPerPage: 30,\n        highlightFields: [\"member\", \"ministry\", \"question\"],\n        sourceFilter: [\"ls_no\", \"Question\", \"starred_unstarred\", \"member\", \"party\", \"ministry\", \"date\", \"constituency\", \"constituency_type\", \"clean_answers\"],\n        hitComponents: [{\n          key: \"list\",\n          title: \"List\",\n          listComponent: GetQuestionsTable,\n          defaultOption: true\n        }],\n        scrollTo: \"body\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 522,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(NoHits, {\n        suggestionsField: \"ministry\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 548,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(InitialLoader, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 549,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(Pagination, {\n        showNumbers: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 550,\n          columnNumber: 17\n        }\n      }))))))\n    );\n  }\n\n}","map":{"version":3,"sources":["/Users/salonibhogale/qhsearchui/src/Components/BrowseData.js"],"names":["React","Component","Popup","Checkbox","extend","Table","ShowMore","CSVLink","Button","SearchkitManager","SearchkitProvider","SearchBox","RefinementListFilter","HierarchicalMenuFilter","HitsStats","HitItemProps","SortingSelector","NoHits","ResetFilters","RangeFilter","NumericRefinementListFilter","ViewSwitcherHits","ViewSwitcherToggle","DynamicRangeFilter","InputFilter","GroupedSelectedFilters","Layout","TopBar","InitialLoader","LayoutBody","LayoutResults","ActionBar","ActionBarRow","SideBar","SearchkitComponent","Pagination","ItemHistogramList","host","searchkit","fetch","then","response","json","jsonData","console","log","hits","catch","error","translateFunction","key","query","filename","GetQuestionsTable","render","props","width","boxSizing","padding","display","overflow","align","map","hit","_id","_source","ls_no","Question","clean_answers","ministry","member","date","starred_unstarred","constituency_type","constituency","MovieHitsListItem","bemBlocks","result","splitname","split_names","toString","split","item","i","splitparty","party","split_party","splitctype","split_ctype","source","highlight","mix","container","__html","FormattedHitsStats","timeTaken","getTime","hitsCount","getHitsCount","checkdata","translate","resultsFoundLabel","hitCount","toLocaleString","createElement","component","BrowseData","constructor","showTermsAndConditionsPopup","setState","CloseTermsAndConditionsPopup","isDataDownloadable","CancelTermsAndConditionsPopup","onAcceptTermsAndConditions","checked","getAllData","state","csvData","change","elasticsearch","require","elasticSearchClient","Client","search","index","scroll","size","body","retriever","data","total","scrollId","length","scroll_id","_scroll_id","final_data","for_data","push","d","modalBody","buttonClass","modalFooter","title","listComponent","defaultOption"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Popup from \"./Shared/Popup.js\";\nimport Checkbox from \"./Shared/Checkbox.js\";\nimport extend from \"lodash/extend\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport Table from \"react-bootstrap/Table\";\nimport ShowMore from \"react-show-more\";\nimport { CSVLink } from \"react-csv\";\nimport { Button } from \"react-bootstrap\";\n// import * as moment from \"moment\";\n// import { DateRangeFilter, DateRangeCalendar } from \"searchkit-datefilter\";\n\nimport {\n  SearchkitManager,\n  SearchkitProvider,\n  SearchBox,\n  RefinementListFilter,\n  HierarchicalMenuFilter,\n  HitsStats,\n  HitItemProps,\n  SortingSelector,\n  NoHits,\n  ResetFilters,\n  RangeFilter,\n  NumericRefinementListFilter,\n  ViewSwitcherHits,\n  ViewSwitcherToggle,\n  DynamicRangeFilter,\n  InputFilter,\n  GroupedSelectedFilters,\n  Layout,\n  TopBar,\n  InitialLoader,\n  LayoutBody,\n  LayoutResults,\n  ActionBar,\n  ActionBarRow,\n  SideBar,\n  SearchkitComponent,\n  Pagination,\n  ItemHistogramList,\n} from \"searchkit\";\n// import \"./index.css\";\n\n// const ES_HOST = process.env.ES_HOST || \"localhost\";\n// const ES_PORT = process.env.ES_PORT || 9300;\nconst host = \"http://localhost:9300/questions3\";\nconst searchkit = new SearchkitManager(host);\n\nfetch(\"http://localhost:9300/questions3/_search?size=2\")\n  .then((response) => response.json())\n  .then((jsonData) => {\n    // jsonData is parsed json object received from url\n    console.log(jsonData.hits.hits);\n  })\n  .catch((error) => {\n    // handle your errors here\n    console.error(error);\n  });\n\nsearchkit.translateFunction = (key) => {\n  return {\n    \"pagination.next\": \"Next Page\",\n    \"pagination.previous\": \"Previous Page\",\n  }[key];\n};\n\nconsole.log(searchkit.query);\nvar filename = \"TCPD_QH.csv\";\nconsole.log(\"found searchkit results\");\n\nclass GetQuestionsTable extends React.Component {\n  render() {\n    const { hits } = this.props;\n    return (\n      <div style={{ width: \"100%\", boxSizing: \"border-box\", padding: 8 }}>\n        <table\n          className=\"sk-table sk-table-striped\"\n          style={{\n            boxSizing: \"border-box\",\n          }}\n        >\n          <tbody\n            style={{ display: \"block\", width: \"1100px\", overflow: \"auto\" }}\n          >\n            <thead>\n              <td>\n                <b>LS Num</b>\n              </td>\n              <td>\n                <b>Question</b>\n              </td>\n              <td style={{ align: \"right\" }}>\n                <b>Answer</b>\n              </td>\n              <td>\n                <b>Ministry</b>\n              </td>\n              <td>\n                <b>Member</b>\n              </td>\n              <td>\n                <b>Date</b>\n              </td>\n              <td>\n                <b>Question Type</b>\n              </td>\n              <td>\n                <b>Constituency Type</b>\n              </td>\n              <td>\n                <b>Constituency</b>\n              </td>\n            </thead>\n\n            {hits.map((hit) => (\n              <tr key={hit._id}>\n                <td>{hit._source.ls_no}</td>\n                <td>\n                  <ShowMore lines={3} more=\">\" less=\"<\">\n                    {hit._source.Question}\n                  </ShowMore>\n                </td>\n                <td>\n                  <ShowMore lines={3} more=\">\" less=\"<\">\n                    {hit._source.clean_answers}\n                  </ShowMore>\n                </td>\n                <td>{hit._source.ministry}</td>\n                <td>{hit._source.member}</td>\n                <td>{hit._source.date}</td>\n                <td>{hit._source.starred_unstarred}</td>\n                <td>{hit._source.constituency_type}</td>\n                <td>{hit._source.constituency}</td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n\nconst MovieHitsListItem = (props) => {\n  const { bemBlocks, result } = props;\n  let splitname = result._source.member;\n  var split_names = splitname\n    .toString()\n    .split(\",\")\n    .map((item, i) => {\n      return <p key={i}>{item}</p>;\n    });\n\n  let splitparty = result._source.party;\n  var split_party = splitparty\n    .toString()\n    .split(\",\")\n    .map((item, i) => {\n      return <p key={i}>{item}</p>;\n    });\n\n  let splitctype = result._source.constituency_type;\n  var split_ctype = splitctype\n    .toString()\n    .split(\",\")\n    .map((item, i) => {\n      return <p key={i}>{item}</p>;\n    });\n\n  const source = extend({}, result._source, result.highlight);\n  return (\n    <tr\n      data-qa=\"hit\"\n      className={bemBlocks.item().mix(bemBlocks.container(\"item\"))}\n    >\n      <td>\n        <h3 className={bemBlocks.item(\"subtitle\")}>{source.ls_no}</h3>\n      </td>\n      <td style={{ width: \"150px\" }}>\n        <h3 className={bemBlocks.item(\"subtitle\")}>\n          {source.starred_unstarred}\n        </h3>\n      </td>\n\n      <td style={{ width: \"150px\" }}>\n        <h3 className={bemBlocks.item(\"subtitle\")}>{split_names}</h3>\n      </td>\n\n      <td style={{ width: \"150px\" }}>\n        <h3 className={bemBlocks.item(\"subtitle\")}>{split_party}</h3>\n      </td>\n\n      <td style={{ width: \"150px\" }}>\n        <h3 className={bemBlocks.item(\"subtitle\")}>\n          <div\n            className={bemBlocks.item(\"text\")}\n            dangerouslySetInnerHTML={{ __html: source.ministry }}\n          ></div>\n        </h3>\n      </td>\n      <td style={{ width: \"150px\" }}>\n        <h3 className={bemBlocks.item(\"subtitle\")}>\n          <div\n            className={bemBlocks.item(\"text\")}\n            dangerouslySetInnerHTML={{ __html: source.date }}\n          ></div>\n        </h3>\n      </td>\n      <td style={{ width: \"150px\" }}>\n        <h3 className={bemBlocks.item(\"subtitle\")}>{split_ctype}</h3>\n      </td>\n\n      <td style={{ width: \"250px\" }}>\n        <h3 className={bemBlocks.item(\"subtitle\")}>\n          <ShowMore lines={3} more=\">\" less=\"<\">\n            <div\n              className={bemBlocks.item(\"text\")}\n              dangerouslySetInnerHTML={{ __html: source.Question }}\n            ></div>\n          </ShowMore>\n        </h3>\n      </td>\n    </tr>\n  );\n};\n\n// to display the hitstats correctly: '139 results found in 27ms'\nexport class FormattedHitsStats extends HitsStats {\n  render() {\n    var timeTaken = this.searchkit.getTime();\n    var hitsCount = this.searchkit.getHitsCount();\n    var checkdata = hitsCount;\n    if (checkdata >= 10000) {\n      checkdata = \"More than 10,000\";\n    }\n\n    var props = {\n      bemBlocks: this.bemBlocks,\n      translate: this.translate,\n      timeTaken: timeTaken,\n      hitsCount: hitsCount,\n      resultsFoundLabel: this.translate(\"hitstats.results_found\", {\n        timeTaken: timeTaken,\n        hitCount: checkdata.toLocaleString(),\n      }),\n    };\n    return React.createElement(this.props.component, props);\n  }\n}\n\nexport default class BrowseData extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showTermsAndConditionsPopup: false,\n      csvData: [],\n      isDataDownloadable: false,\n      change: 0,\n    };\n  }\n\n  async getAllData(query) {\n    const elasticsearch = require(\"elasticsearch\");\n    console.log(\"ping elasticsearch\");\n    const elasticSearchClient = new elasticsearch.Client({\n      host: \"http://localhost:9300/\",\n    });\n\n    const result = await elasticSearchClient.search({\n      index: \"questions3\",\n      scroll: \"2m\",\n      size: 10000,\n      body: query.query,\n    });\n\n    const retriever = async ({ data, total, scrollId }) => {\n      if (data.length >= total) {\n        console.log(\"Condition is true\");\n        return data;\n      }\n\n      const result = await elasticSearchClient.scroll({\n        scroll: \"1m\",\n        scroll_id: scrollId,\n      });\n      data = [...data, ...result.hits.hits];\n      return retriever({\n        total,\n        scrollId: result._scroll_id,\n        data,\n      });\n    };\n    console.log(\"This is result here\");\n    console.log(result.hits.hits);\n    console.log(result);\n    console.log(\"End of result here\");\n\n    const final_data = retriever({\n      total: result.hits.total,\n      scrollId: result._scroll_id,\n      data: result.hits.hits,\n    });\n\n    console.log(final_data);\n    var for_data = [];\n    final_data\n      .then(function (result) {\n        for_data.push([\n          \"ls_number\",\n          \"ministry\",\n          \"member\",\n          \"party\",\n          \"question_type\",\n          \"question_text\",\n        ]);\n        for (var d = 0; d < result.length; d++) {\n          for_data.push([\n            result[d]._source.ls_no,\n            result[d]._source.ministry,\n            result[d]._source.member,\n            result[d]._source.party,\n            result[d]._source.starred_unstarred,\n            result[d]._source.Question,\n            console.log(result[d]._source.party),\n          ]);\n        }\n        console.log(\"new data populated\");\n      })\n      .then(() => {\n        this.setState({ csvData: for_data });\n        this.setState({ change: this.state.change + 1 });\n        console.log(\"data mapped to csvData\");\n      });\n  }\n\n  showTermsAndConditionsPopup = () => {\n    this.setState({ showTermsAndConditionsPopup: true });\n  };\n\n  CloseTermsAndConditionsPopup = () => {\n    this.setState({ showTermsAndConditionsPopup: false });\n    this.setState({ isDataDownloadable: false });\n  };\n\n  CancelTermsAndConditionsPopup = () => {\n    this.setState({ isDataDownloadable: false });\n    this.setState({ showTermsAndConditionsPopup: false });\n  };\n\n  onAcceptTermsAndConditions = (key, checked) => {\n    this.setState({ isDataDownloadable: checked });\n    if (checked) {\n      this.getAllData(searchkit.query);\n      console.log(\"fetching data now\");\n    }\n  };\n  render() {\n    var csvData = this.state.csvData;\n    var change = this.state.change;\n    var showTermsAndConditionsPopup = this.state.showTermsAndConditionsPopup;\n    var isDataDownloadable = this.state.isDataDownloadable;\n    const modalBody = (\n      <div>\n        <p>\n          Parliamentary Questions portal is an online web interface provided by\n          the Trivedi Centre for Political Data. In these terms of use of the\n          data provided by the Centre, 'Data' includes all texts and\n          compilations of data and other material presented within the\n          application. The users are free to download, display or include the\n          data in other products for non-commercial purposes at no cost subject\n          to the following limitations:\n        </p>\n        <ul>\n          <li>\n            The user must include the citation for data they use. The user must\n            not claim or imply that the Trivedi Centre for Political Data\n            endorses the user's use of the data or use of the Centre's logo(s)\n            or trademarks(s) in conjunction with the same.\n          </li>\n          <li>\n            The Centre makes no warranties with respect to the data and the user\n            must agree that the Centre shall not be held responsible or liable\n            to the user for any errors, omissions, misstatements and/or\n            misrepresentations of the data though the user is encouraged to\n            report the same to us (following the procedure elaborated upon\n            within the 'Contact us' tab).\n          </li>\n          <li>\n            The Centre may record visits to the application without collecting\n            the personal information of the users. The records shall be used for\n            statistical reports only.\n          </li>\n          <li>\n            The user must agree that the use of data presented within the\n            application can be seen as the acknowledgement of unconditionally\n            accepting the Terms of Use presented by the Centre.\n          </li>\n        </ul>\n\n        <Checkbox\n          id={\"dd_accept_condition\"}\n          label={\"I accept the terms and conditions mentioned here.\"}\n          checked={this.state.isDataDownloadable}\n          onChange={this.onAcceptTermsAndConditions}\n        />\n      </div>\n    );\n    var buttonClass = isDataDownloadable ? \"btn-lg\" : \"btn-lg disabled\";\n    const modalFooter = (\n      <div>\n        <Button\n          className=\"btn-lg\"\n          variant=\"primary\"\n          onClick={this.CancelTermsAndConditionsPopup}\n        >\n          Cancel\n        </Button>\n        <CSVLink className={buttonClass} data={csvData} filename={filename}>\n          <Button\n            className={buttonClass}\n            variant=\"primary\"\n            onClick={this.CloseTermsAndConditionsPopup}\n          >\n            Download\n            {/* {change} */}\n          </Button>\n        </CSVLink>\n      </div>\n    );\n    return (\n      //   <div className=\"content overflow-auto\">\n      <div className=\"browse-data\">\n        {/* <div className=\"row\"> */}\n        {/* <h2>Browse Data Page</h2> */}\n        <SearchkitProvider searchkit={searchkit}>\n          <Layout size=\"l\">\n            <TopBar>\n              <div className=\"my-logo\">Parliamentary Questions</div>\n              <SearchBox\n                autofocus={true}\n                searchOnChange={true}\n                prefixQueryFields={[\"Question^10\"]}\n                //   \"starred_unstarred^2\",\n                //   \"member\",\n                //   \"ministry^10\",\n              />\n            </TopBar>\n\n            <LayoutBody>\n              <SideBar>\n                <HierarchicalMenuFilter\n                  fields={[\"ls_no\", \"month\", \"day\"]}\n                  title=\"Lok Sabha Number\"\n                  id=\"ls_no\"\n                />\n\n                <HierarchicalMenuFilter\n                  fields={[\"starred_unstarred\"]}\n                  title=\"Question Type\"\n                  id=\"starred_unstarred\"\n                />\n                <HierarchicalMenuFilter\n                  fields={[\"constituency\"]}\n                  title=\"Constituency \"\n                  id=\"constituency\"\n                />\n\n                <HierarchicalMenuFilter\n                  fields={[\"ministry\"]}\n                  title=\"Ministry Names\"\n                  id=\"ministry\"\n                />\n\n                <RefinementListFilter\n                  id=\"party\"\n                  title=\"Party\"\n                  field=\"party\"\n                  size={10}\n                  operator=\"OR\"\n                />\n                <RefinementListFilter\n                  id=\"state\"\n                  title=\"State\"\n                  field=\"state\"\n                  operator=\"AND\"\n                  listComponent={ItemHistogramList}\n                  size={10}\n                />\n              </SideBar>\n\n              <LayoutResults>\n                <ActionBar>\n                  <ActionBarRow>\n                    <HitsStats component={FormattedHitsStats} />\n                  </ActionBarRow>\n\n                  <ActionBarRow>\n                    <GroupedSelectedFilters />\n                    <ResetFilters />\n\n                    <div>\n                      <Button\n                        className=\"btn-lg\"\n                        onClick={this.showTermsAndConditionsPopup}\n                      >\n                        {\" \"}\n                        Download Data\n                      </Button>\n                      {showTermsAndConditionsPopup && (\n                        <Popup\n                          id=\"tems_and_conditions_popup\"\n                          show={showTermsAndConditionsPopup}\n                          body={modalBody}\n                          heading={<p>Terms and Conditions</p>}\n                          footer={modalFooter}\n                          handleClose={this.CloseTermsAndConditionsPopup}\n                        />\n                      )}\n                    </div>\n                  </ActionBarRow>\n                </ActionBar>\n                <ViewSwitcherHits\n                  hitsPerPage={30}\n                  highlightFields={[\"member\", \"ministry\", \"question\"]}\n                  sourceFilter={[\n                    \"ls_no\",\n                    \"Question\",\n                    \"starred_unstarred\",\n                    \"member\",\n                    \"party\",\n                    \"ministry\",\n                    \"date\",\n                    \"constituency\",\n                    \"constituency_type\",\n                    \"clean_answers\",\n                  ]}\n                  hitComponents={[\n                    {\n                      key: \"list\",\n                      title: \"List\",\n                      listComponent: GetQuestionsTable,\n                      defaultOption: true,\n                    },\n                  ]}\n                  scrollTo=\"body\"\n                />\n\n                <NoHits suggestionsField={\"ministry\"} />\n                <InitialLoader />\n                <Pagination showNumbers={true} />\n              </LayoutResults>\n            </LayoutBody>\n          </Layout>\n        </SearchkitProvider>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}