{"ast":null,"code":"var _jsxFileName = \"/Users/salonibhogale/qhsearchui/src/Components/BrowseData.js\";\nimport React, { Component } from \"react\";\nimport Popup from \"./Shared/Popup.js\";\nimport Checkbox from \"./Shared/Checkbox.js\";\nimport extend from \"lodash/extend\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport Table from \"react-bootstrap/Table\";\nimport ShowMore from \"react-show-more\";\nimport { CSVLink } from \"react-csv\";\nimport { Button } from \"react-bootstrap\";\nimport { SearchkitManager, SearchkitProvider, SearchBox, RefinementListFilter, HierarchicalMenuFilter, HitsStats, HitItemProps, SortingSelector, NoHits, ResetFilters, RangeFilter, NumericRefinementListFilter, ViewSwitcherHits, ViewSwitcherToggle, DynamicRangeFilter, InputFilter, GroupedSelectedFilters, Layout, TopBar, InitialLoader, LayoutBody, LayoutResults, ActionBar, ActionBarRow, SideBar, SearchkitComponent, Pagination, ItemHistogramList } from \"searchkit\"; // import \"./index.css\";\n// const ES_HOST = process.env.ES_HOST || \"localhost\";\n// const ES_PORT = process.env.ES_PORT || 9300;\n\nconst host = \"http://localhost:9300/questions3\";\nconst searchkit = new SearchkitManager(host);\nfetch(\"http://localhost:9300/questions3/_search?size=2\").then(response => response.json()).then(jsonData => {\n  // jsonData is parsed json object received from url\n  console.log(jsonData.hits.hits);\n}).catch(error => {\n  // handle your errors here\n  console.error(error);\n});\n\nsearchkit.translateFunction = key => {\n  return {\n    \"pagination.next\": \"Next Page\",\n    \"pagination.previous\": \"Previous Page\"\n  }[key];\n};\n\nconsole.log(searchkit.query);\nvar filename = \"TCPD_QH.csv\";\nconsole.log(\"found searchkit results\");\n\nconst MovieHitsListItem = props => {\n  const {\n    bemBlocks,\n    result\n  } = props;\n  let splitname = result._source.member;\n  var split_names = splitname.toString().split(\",\").map((item, i) => {\n    return /*#__PURE__*/React.createElement(\"p\", {\n      key: i,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 14\n      }\n    }, item);\n  });\n  let splitparty = result._source.party;\n  var split_party = splitparty.toString().split(\",\").map((item, i) => {\n    return /*#__PURE__*/React.createElement(\"p\", {\n      key: i,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 14\n      }\n    }, item);\n  });\n  const source = extend({}, result._source, result.highlight);\n  return /*#__PURE__*/React.createElement(\"tr\", {\n    \"data-qa\": \"hit\",\n    className: bemBlocks.item().mix(bemBlocks.container(\"item\")),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      width: \"100px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: bemBlocks.item(\"subtitle\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }, source.ls_no)), /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      width: \"150px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: bemBlocks.item(\"subtitle\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  }, source.starred_unstarred)), /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      width: \"150px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: bemBlocks.item(\"subtitle\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }\n  }, split_names)), /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      width: \"150px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: bemBlocks.item(\"subtitle\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }\n  }, split_party)), /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      width: \"150px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: bemBlocks.item(\"subtitle\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: bemBlocks.item(\"text\"),\n    dangerouslySetInnerHTML: {\n      __html: source.ministry\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      width: \"400px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: bemBlocks.item(\"subtitle\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ShowMore, {\n    lines: 3,\n    more: \">\",\n    less: \"<\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: bemBlocks.item(\"text\"),\n    dangerouslySetInnerHTML: {\n      __html: source.Question\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }\n  })))));\n};\n\nexport class FormattedHitsStats extends HitsStats {\n  render() {\n    var timeTaken = this.searchkit.getTime();\n    var hitsCount = this.searchkit.getHitsCount();\n    var checkdata = hitsCount; // if (checkdata >= 10000) {\n    //   checkdata = \"More than 10,000\";\n    // }\n\n    var props = {\n      bemBlocks: this.bemBlocks,\n      translate: this.translate,\n      timeTaken: timeTaken,\n      hitsCount: hitsCount,\n      resultsFoundLabel: this.translate(\"hitstats.results_found\", {\n        timeTaken: timeTaken,\n        hitCount: checkdata.toLocaleString()\n      })\n    };\n    return React.createElement(this.props.component, props);\n  }\n\n}\nexport default class BrowseData extends Component {\n  constructor(props) {\n    super(props);\n\n    this.showTermsAndConditionsPopup = () => {\n      this.setState({\n        showTermsAndConditionsPopup: true\n      });\n    };\n\n    this.CloseTermsAndConditionsPopup = () => {\n      this.setState({\n        showTermsAndConditionsPopup: false\n      });\n      this.setState({\n        isDataDownloadable: false\n      });\n    };\n\n    this.CancelTermsAndConditionsPopup = () => {\n      this.setState({\n        isDataDownloadable: false\n      });\n      this.setState({\n        showTermsAndConditionsPopup: false\n      });\n    };\n\n    this.onAcceptTermsAndConditions = (key, checked) => {\n      this.setState({\n        isDataDownloadable: checked\n      });\n\n      if (checked) {\n        this.getAllData(searchkit.query);\n        console.log(\"fetching data now\");\n      }\n    };\n\n    this.state = {\n      showTermsAndConditionsPopup: false,\n      csvData: [],\n      isDataDownloadable: false,\n      change: 0\n    };\n  }\n\n  async getAllData(query) {\n    const elasticsearch = require(\"elasticsearch\");\n\n    const elasticSearchClient = new elasticsearch.Client({\n      host: \"http://localhost:9300/\"\n    });\n    const result = await elasticSearchClient.search({\n      index: \"questions3\",\n      scroll: \"2m\",\n      size: 10000,\n      body: query.query\n    });\n\n    const retriever = async ({\n      data,\n      total,\n      scrollId\n    }) => {\n      if (data.length >= total.value) {\n        return data;\n      }\n\n      const result = await elasticSearchClient.scroll({\n        scroll: \"1m\",\n        scroll_id: scrollId\n      });\n      data = [...data, ...result.hits.hits];\n      return retriever({\n        total,\n        scrollId: result._scroll_id,\n        data\n      });\n    };\n\n    const final_data = retriever({\n      total: result.hits.total,\n      scrollId: result._scroll_id,\n      data: result.hits.hits\n    });\n    var for_data = [];\n    final_data.then(function (result) {\n      for (var d = 0; d < result.length; d++) {\n        for_data.push([result[d]._source.ls_no, result[d]._source.ministry, result[d]._source.member, result[d]._source.party, result[d]._source.starred_unstarred, result[d]._source.Question]);\n      }\n\n      console.log(\"new data populated\");\n    }).then(() => {\n      this.setState({\n        csvData: for_data\n      });\n      this.setState({\n        change: this.state.change + 1\n      });\n      console.log(\"data mapped to csvData\");\n    });\n  }\n\n  render() {\n    var csvData = this.state.csvData;\n    var change = this.state.change;\n    var showTermsAndConditionsPopup = this.state.showTermsAndConditionsPopup;\n    var isDataDownloadable = this.state.isDataDownloadable;\n    const modalBody = /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 9\n      }\n    }, \"Parliamentary Questions portal is an online web interface provided by the Trivedi Centre for Political Data. In these terms of use of the data provided by the Centre, 'Data' includes all texts and compilations of data and other material presented within the application. The users are free to download, display or include the data in other products for non-commercial purposes at no cost subject to the following limitations:\"), /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 11\n      }\n    }, \"The user must include the citation for data they use. The user must not claim or imply that the Trivedi Centre for Political Data endorses the user's use of the data or use of the Centre's logo(s) or trademarks(s) in conjunction with the same.\"), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 11\n      }\n    }, \"The Centre makes no warranties with respect to the data and the user must agree that the Centre shall not be held responsible or liable to the user for any errors, omissions, misstatements and/or misrepresentations of the data though the user is encouraged to report the same to us (following the procedure elaborated upon within the 'Contact us' tab).\"), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 11\n      }\n    }, \"The Centre may record visits to the application without collecting the personal information of the users. The records shall be used for statistical reports only.\"), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 11\n      }\n    }, \"The user must agree that the use of data presented within the application can be seen as the acknowledgement of unconditionally accepting the Terms of Use presented by the Centre.\")), /*#__PURE__*/React.createElement(Checkbox, {\n      id: \"dd_accept_condition\",\n      label: \"I accept the terms and conditions mentioned here.\",\n      checked: this.state.isDataDownloadable,\n      onChange: this.onAcceptTermsAndConditions,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 9\n      }\n    }));\n    var buttonClass = isDataDownloadable ? \"btn-lg\" : \"btn-lg disabled\";\n    const modalFooter = /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      className: \"btn-lg\",\n      variant: \"primary\",\n      onClick: this.CancelTermsAndConditionsPopup,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 9\n      }\n    }, \"Cancel\"), /*#__PURE__*/React.createElement(CSVLink, {\n      className: buttonClass,\n      data: csvData,\n      filename: filename,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      className: buttonClass,\n      variant: \"primary\",\n      onClick: this.CloseTermsAndConditionsPopup,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 11\n      }\n    }, \"Download \", change)));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"content overflow-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"browse-data\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(SearchkitProvider, {\n      searchkit: searchkit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Layout, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(TopBar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"my-logo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 19\n      }\n    }, \"Parliamentary Questions\"), /*#__PURE__*/React.createElement(SearchBox, {\n      autofocus: true,\n      searchOnChange: true,\n      prefixQueryFields: [\"Question^1\", \"starred_unstarred^2\", \"member\", \"ministry^10\"],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(LayoutBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(SideBar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(HierarchicalMenuFilter, {\n      fields: [\"ls_no\"],\n      title: \"Lok Sabha Number\",\n      id: \"ls_no\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(HierarchicalMenuFilter, {\n      fields: [\"starred_unstarred\"],\n      title: \"Question Type\",\n      id: \"starred_unstarred\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(HierarchicalMenuFilter, {\n      fields: [\"ministry\"],\n      title: \"Ministry Names\",\n      id: \"ministry\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(InputFilter, {\n      id: \"question_type\",\n      searchThrottleTime: 500,\n      title: \"Question Type\",\n      placeholder: \"Search question type\",\n      searchOnChange: true,\n      queryFields: [\"starred_unstarred\"],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(RefinementListFilter, {\n      id: \"party\",\n      title: \"Party\",\n      field: \"party\",\n      size: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(RefinementListFilter, {\n      id: \"state\",\n      title: \"state\",\n      field: \"state\",\n      operator: \"AND\",\n      listComponent: ItemHistogramList,\n      size: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(LayoutResults, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(ActionBar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(ActionBarRow, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(HitsStats, {\n      component: FormattedHitsStats,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(ActionBarRow, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(GroupedSelectedFilters, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(ResetFilters, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      className: \"btn-lg\",\n      onClick: this.showTermsAndConditionsPopup,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 394,\n        columnNumber: 27\n      }\n    }, \" \", \"Download Data\"), showTermsAndConditionsPopup && /*#__PURE__*/React.createElement(Popup, {\n      id: \"tems_and_conditions_popup\",\n      show: showTermsAndConditionsPopup,\n      body: modalBody,\n      heading: /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 40\n        }\n      }, \"Terms and Conditions\"),\n      footer: modalFooter,\n      handleClose: this.CloseTermsAndConditionsPopup,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 402,\n        columnNumber: 29\n      }\n    })))), /*#__PURE__*/React.createElement(Table, {\n      striped: true,\n      bordered: true,\n      hover: true,\n      size: \"sm\" // style={{ layout: \"fixed\" }}\n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 415,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      \"data-qa\": \"hits\",\n      className: \"sk-hits-list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 422,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 424,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      style: {\n        width: \"100px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 425,\n        columnNumber: 29\n      }\n    }, \"LS Number\"), /*#__PURE__*/React.createElement(\"th\", {\n      style: {\n        width: \"150px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 426,\n        columnNumber: 29\n      }\n    }, \"Question Type\"), /*#__PURE__*/React.createElement(\"th\", {\n      style: {\n        width: \"150px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 427,\n        columnNumber: 29\n      }\n    }, \"Member\"), /*#__PURE__*/React.createElement(\"th\", {\n      style: {\n        width: \"150px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 428,\n        columnNumber: 29\n      }\n    }, \"Party\"), /*#__PURE__*/React.createElement(\"th\", {\n      style: {\n        width: \"150px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 429,\n        columnNumber: 29\n      }\n    }, \"Ministry\"), /*#__PURE__*/React.createElement(\"th\", {\n      style: {\n        width: \"400px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 430,\n        columnNumber: 29\n      }\n    }, \"Question\")))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 434,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(ViewSwitcherHits, {\n      hitsPerPage: 10,\n      highlightFields: [\"member\", \"ministry\", \"Question\"],\n      sourceFilter: [\"ls_no\", \"Question\", \"starred_unstarred\", \"member\", \"party\", \"ministry\"],\n      hitComponents: [{\n        key: \"list\",\n        title: \"List\",\n        itemComponent: MovieHitsListItem,\n        defaultOption: true\n      }],\n      scrollTo: \"body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(NoHits, {\n      suggestionsField: \"ministry\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 459,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(InitialLoader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 460,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Pagination, {\n      showNumbers: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 461,\n        columnNumber: 21\n      }\n    }))))))));\n  }\n\n}","map":{"version":3,"sources":["/Users/salonibhogale/qhsearchui/src/Components/BrowseData.js"],"names":["React","Component","Popup","Checkbox","extend","Table","ShowMore","CSVLink","Button","SearchkitManager","SearchkitProvider","SearchBox","RefinementListFilter","HierarchicalMenuFilter","HitsStats","HitItemProps","SortingSelector","NoHits","ResetFilters","RangeFilter","NumericRefinementListFilter","ViewSwitcherHits","ViewSwitcherToggle","DynamicRangeFilter","InputFilter","GroupedSelectedFilters","Layout","TopBar","InitialLoader","LayoutBody","LayoutResults","ActionBar","ActionBarRow","SideBar","SearchkitComponent","Pagination","ItemHistogramList","host","searchkit","fetch","then","response","json","jsonData","console","log","hits","catch","error","translateFunction","key","query","filename","MovieHitsListItem","props","bemBlocks","result","splitname","_source","member","split_names","toString","split","map","item","i","splitparty","party","split_party","source","highlight","mix","container","width","ls_no","starred_unstarred","__html","ministry","Question","FormattedHitsStats","render","timeTaken","getTime","hitsCount","getHitsCount","checkdata","translate","resultsFoundLabel","hitCount","toLocaleString","createElement","component","BrowseData","constructor","showTermsAndConditionsPopup","setState","CloseTermsAndConditionsPopup","isDataDownloadable","CancelTermsAndConditionsPopup","onAcceptTermsAndConditions","checked","getAllData","state","csvData","change","elasticsearch","require","elasticSearchClient","Client","search","index","scroll","size","body","retriever","data","total","scrollId","length","value","scroll_id","_scroll_id","final_data","for_data","d","push","modalBody","buttonClass","modalFooter","title","itemComponent","defaultOption"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Popup from \"./Shared/Popup.js\";\nimport Checkbox from \"./Shared/Checkbox.js\";\nimport extend from \"lodash/extend\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport Table from \"react-bootstrap/Table\";\nimport ShowMore from \"react-show-more\";\nimport { CSVLink } from \"react-csv\";\nimport { Button } from \"react-bootstrap\";\n\nimport {\n  SearchkitManager,\n  SearchkitProvider,\n  SearchBox,\n  RefinementListFilter,\n  HierarchicalMenuFilter,\n  HitsStats,\n  HitItemProps,\n  SortingSelector,\n  NoHits,\n  ResetFilters,\n  RangeFilter,\n  NumericRefinementListFilter,\n  ViewSwitcherHits,\n  ViewSwitcherToggle,\n  DynamicRangeFilter,\n  InputFilter,\n  GroupedSelectedFilters,\n  Layout,\n  TopBar,\n  InitialLoader,\n  LayoutBody,\n  LayoutResults,\n  ActionBar,\n  ActionBarRow,\n  SideBar,\n  SearchkitComponent,\n  Pagination,\n  ItemHistogramList,\n} from \"searchkit\";\n// import \"./index.css\";\n\n// const ES_HOST = process.env.ES_HOST || \"localhost\";\n// const ES_PORT = process.env.ES_PORT || 9300;\nconst host = \"http://localhost:9300/questions3\";\nconst searchkit = new SearchkitManager(host);\n\nfetch(\"http://localhost:9300/questions3/_search?size=2\")\n  .then((response) => response.json())\n  .then((jsonData) => {\n    // jsonData is parsed json object received from url\n    console.log(jsonData.hits.hits);\n  })\n  .catch((error) => {\n    // handle your errors here\n    console.error(error);\n  });\n\nsearchkit.translateFunction = (key) => {\n  return {\n    \"pagination.next\": \"Next Page\",\n    \"pagination.previous\": \"Previous Page\",\n  }[key];\n};\n\nconsole.log(searchkit.query);\nvar filename = \"TCPD_QH.csv\";\nconsole.log(\"found searchkit results\");\n\nconst MovieHitsListItem = (props) => {\n  const { bemBlocks, result } = props;\n  let splitname = result._source.member;\n  var split_names = splitname\n    .toString()\n    .split(\",\")\n    .map((item, i) => {\n      return <p key={i}>{item}</p>;\n    });\n\n  let splitparty = result._source.party;\n  var split_party = splitparty\n    .toString()\n    .split(\",\")\n    .map((item, i) => {\n      return <p key={i}>{item}</p>;\n    });\n  const source = extend({}, result._source, result.highlight);\n  return (\n    <tr\n      data-qa=\"hit\"\n      className={bemBlocks.item().mix(bemBlocks.container(\"item\"))}\n    >\n      <td style={{ width: \"100px\" }}>\n        <h3 className={bemBlocks.item(\"subtitle\")}>{source.ls_no}</h3>\n      </td>\n      <td style={{ width: \"150px\" }}>\n        <h3 className={bemBlocks.item(\"subtitle\")}>\n          {source.starred_unstarred}\n        </h3>\n      </td>\n\n      <td style={{ width: \"150px\" }}>\n        <h3 className={bemBlocks.item(\"subtitle\")}>{split_names}</h3>\n      </td>\n\n      <td style={{ width: \"150px\" }}>\n        <h3 className={bemBlocks.item(\"subtitle\")}>{split_party}</h3>\n      </td>\n\n      <td style={{ width: \"150px\" }}>\n        <h3 className={bemBlocks.item(\"subtitle\")}>\n          <div\n            className={bemBlocks.item(\"text\")}\n            dangerouslySetInnerHTML={{ __html: source.ministry }}\n          ></div>\n        </h3>\n      </td>\n\n      <td style={{ width: \"400px\" }}>\n        <h3 className={bemBlocks.item(\"subtitle\")}>\n          <ShowMore lines={3} more=\">\" less=\"<\">\n            <div\n              className={bemBlocks.item(\"text\")}\n              dangerouslySetInnerHTML={{ __html: source.Question }}\n            ></div>\n          </ShowMore>\n        </h3>\n      </td>\n    </tr>\n  );\n};\n\nexport class FormattedHitsStats extends HitsStats {\n  render() {\n    var timeTaken = this.searchkit.getTime();\n    var hitsCount = this.searchkit.getHitsCount();\n    var checkdata = hitsCount;\n    // if (checkdata >= 10000) {\n    //   checkdata = \"More than 10,000\";\n    // }\n\n    var props = {\n      bemBlocks: this.bemBlocks,\n      translate: this.translate,\n      timeTaken: timeTaken,\n      hitsCount: hitsCount,\n      resultsFoundLabel: this.translate(\"hitstats.results_found\", {\n        timeTaken: timeTaken,\n        hitCount: checkdata.toLocaleString(),\n      }),\n    };\n    return React.createElement(this.props.component, props);\n  }\n}\n\nexport default class BrowseData extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showTermsAndConditionsPopup: false,\n      csvData: [],\n      isDataDownloadable: false,\n      change: 0,\n    };\n  }\n\n  async getAllData(query) {\n    const elasticsearch = require(\"elasticsearch\");\n    const elasticSearchClient = new elasticsearch.Client({\n      host: \"http://localhost:9300/\",\n    });\n\n    const result = await elasticSearchClient.search({\n      index: \"questions3\",\n      scroll: \"2m\",\n      size: 10000,\n      body: query.query,\n    });\n\n    const retriever = async ({ data, total, scrollId }) => {\n      if (data.length >= total.value) {\n        return data;\n      }\n\n      const result = await elasticSearchClient.scroll({\n        scroll: \"1m\",\n        scroll_id: scrollId,\n      });\n\n      data = [...data, ...result.hits.hits];\n      return retriever({\n        total,\n        scrollId: result._scroll_id,\n        data,\n      });\n    };\n\n    const final_data = retriever({\n      total: result.hits.total,\n      scrollId: result._scroll_id,\n      data: result.hits.hits,\n    });\n\n    var for_data = [];\n    final_data\n      .then(function (result) {\n        for (var d = 0; d < result.length; d++) {\n          for_data.push([\n            result[d]._source.ls_no,\n            result[d]._source.ministry,\n            result[d]._source.member,\n            result[d]._source.party,\n            result[d]._source.starred_unstarred,\n            result[d]._source.Question,\n          ]);\n        }\n        console.log(\"new data populated\");\n      })\n      .then(() => {\n        this.setState({ csvData: for_data });\n        this.setState({ change: this.state.change + 1 });\n        console.log(\"data mapped to csvData\");\n      });\n  }\n\n  showTermsAndConditionsPopup = () => {\n    this.setState({ showTermsAndConditionsPopup: true });\n  };\n\n  CloseTermsAndConditionsPopup = () => {\n    this.setState({ showTermsAndConditionsPopup: false });\n    this.setState({ isDataDownloadable: false });\n  };\n\n  CancelTermsAndConditionsPopup = () => {\n    this.setState({ isDataDownloadable: false });\n    this.setState({ showTermsAndConditionsPopup: false });\n  };\n\n  onAcceptTermsAndConditions = (key, checked) => {\n    this.setState({ isDataDownloadable: checked });\n    if (checked) {\n      this.getAllData(searchkit.query);\n      console.log(\"fetching data now\");\n    }\n  };\n  render() {\n    var csvData = this.state.csvData;\n    var change = this.state.change;\n    var showTermsAndConditionsPopup = this.state.showTermsAndConditionsPopup;\n    var isDataDownloadable = this.state.isDataDownloadable;\n    const modalBody = (\n      <div>\n        <p>\n          Parliamentary Questions portal is an online web interface provided by\n          the Trivedi Centre for Political Data. In these terms of use of the\n          data provided by the Centre, 'Data' includes all texts and\n          compilations of data and other material presented within the\n          application. The users are free to download, display or include the\n          data in other products for non-commercial purposes at no cost subject\n          to the following limitations:\n        </p>\n        <ul>\n          <li>\n            The user must include the citation for data they use. The user must\n            not claim or imply that the Trivedi Centre for Political Data\n            endorses the user's use of the data or use of the Centre's logo(s)\n            or trademarks(s) in conjunction with the same.\n          </li>\n          <li>\n            The Centre makes no warranties with respect to the data and the user\n            must agree that the Centre shall not be held responsible or liable\n            to the user for any errors, omissions, misstatements and/or\n            misrepresentations of the data though the user is encouraged to\n            report the same to us (following the procedure elaborated upon\n            within the 'Contact us' tab).\n          </li>\n          <li>\n            The Centre may record visits to the application without collecting\n            the personal information of the users. The records shall be used for\n            statistical reports only.\n          </li>\n          <li>\n            The user must agree that the use of data presented within the\n            application can be seen as the acknowledgement of unconditionally\n            accepting the Terms of Use presented by the Centre.\n          </li>\n        </ul>\n\n        <Checkbox\n          id={\"dd_accept_condition\"}\n          label={\"I accept the terms and conditions mentioned here.\"}\n          checked={this.state.isDataDownloadable}\n          onChange={this.onAcceptTermsAndConditions}\n        />\n      </div>\n    );\n    var buttonClass = isDataDownloadable ? \"btn-lg\" : \"btn-lg disabled\";\n    const modalFooter = (\n      <div>\n        <Button\n          className=\"btn-lg\"\n          variant=\"primary\"\n          onClick={this.CancelTermsAndConditionsPopup}\n        >\n          Cancel\n        </Button>\n        <CSVLink className={buttonClass} data={csvData} filename={filename}>\n          <Button\n            className={buttonClass}\n            variant=\"primary\"\n            onClick={this.CloseTermsAndConditionsPopup}\n          >\n            Download {change}\n          </Button>\n        </CSVLink>\n      </div>\n    );\n    return (\n      <div className=\"content overflow-auto\">\n        <div className=\"browse-data\">\n          <div class=\"row\">\n            {/* <h2>Browse Data Page</h2> */}\n            <SearchkitProvider searchkit={searchkit}>\n              <Layout>\n                <TopBar>\n                  <div className=\"my-logo\">Parliamentary Questions</div>\n                  <SearchBox\n                    autofocus={true}\n                    searchOnChange={true}\n                    prefixQueryFields={[\n                      \"Question^1\",\n                      \"starred_unstarred^2\",\n                      \"member\",\n                      \"ministry^10\",\n                    ]}\n                  />\n                </TopBar>\n\n                <LayoutBody>\n                  <SideBar>\n                    <HierarchicalMenuFilter\n                      fields={[\"ls_no\"]}\n                      title=\"Lok Sabha Number\"\n                      id=\"ls_no\"\n                    />\n                    <HierarchicalMenuFilter\n                      fields={[\"starred_unstarred\"]}\n                      title=\"Question Type\"\n                      id=\"starred_unstarred\"\n                    />\n\n                    <HierarchicalMenuFilter\n                      fields={[\"ministry\"]}\n                      title=\"Ministry Names\"\n                      id=\"ministry\"\n                    />\n\n                    <InputFilter\n                      id=\"question_type\"\n                      searchThrottleTime={500}\n                      title=\"Question Type\"\n                      placeholder=\"Search question type\"\n                      searchOnChange={true}\n                      queryFields={[\"starred_unstarred\"]}\n                    />\n                    <RefinementListFilter\n                      id=\"party\"\n                      title=\"Party\"\n                      field=\"party\"\n                      size={10}\n                    />\n                    <RefinementListFilter\n                      id=\"state\"\n                      title=\"state\"\n                      field=\"state\"\n                      operator=\"AND\"\n                      listComponent={ItemHistogramList}\n                      size={10}\n                    />\n                  </SideBar>\n\n                  <LayoutResults>\n                    <ActionBar>\n                      <ActionBarRow>\n                        <HitsStats component={FormattedHitsStats} />\n                      </ActionBarRow>\n\n                      <ActionBarRow>\n                        <GroupedSelectedFilters />\n                        <ResetFilters />\n\n                        <div>\n                          <Button\n                            className=\"btn-lg\"\n                            onClick={this.showTermsAndConditionsPopup}\n                          >\n                            {\" \"}\n                            Download Data\n                          </Button>\n                          {showTermsAndConditionsPopup && (\n                            <Popup\n                              id=\"tems_and_conditions_popup\"\n                              show={showTermsAndConditionsPopup}\n                              body={modalBody}\n                              heading={<p>Terms and Conditions</p>}\n                              footer={modalFooter}\n                              handleClose={this.CloseTermsAndConditionsPopup}\n                            />\n                          )}\n                        </div>\n                      </ActionBarRow>\n                    </ActionBar>\n\n                    <Table\n                      striped\n                      bordered\n                      hover\n                      size=\"sm\"\n                      // style={{ layout: \"fixed\" }}\n                    >\n                      <div data-qa=\"hits\" className=\"sk-hits-list\">\n                        <thead>\n                          <tr>\n                            <th style={{ width: \"100px\" }}>LS Number</th>\n                            <th style={{ width: \"150px\" }}>Question Type</th>\n                            <th style={{ width: \"150px\" }}>Member</th>\n                            <th style={{ width: \"150px\" }}>Party</th>\n                            <th style={{ width: \"150px\" }}>Ministry</th>\n                            <th style={{ width: \"400px\" }}>Question</th>\n                          </tr>\n                        </thead>\n                      </div>\n                      <tbody>\n                        <ViewSwitcherHits\n                          hitsPerPage={10}\n                          highlightFields={[\"member\", \"ministry\", \"Question\"]}\n                          sourceFilter={[\n                            \"ls_no\",\n                            \"Question\",\n                            \"starred_unstarred\",\n                            \"member\",\n                            \"party\",\n                            \"ministry\",\n                          ]}\n                          hitComponents={[\n                            {\n                              key: \"list\",\n                              title: \"List\",\n                              itemComponent: MovieHitsListItem,\n                              defaultOption: true,\n                            },\n                          ]}\n                          scrollTo=\"body\"\n                        />\n                      </tbody>\n                    </Table>\n\n                    <NoHits suggestionsField={\"ministry\"} />\n                    <InitialLoader />\n                    <Pagination showNumbers={true} />\n                  </LayoutResults>\n                </LayoutBody>\n              </Layout>\n            </SearchkitProvider>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}