{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar ui_1 = require(\"../../../ui\");\n\nvar FacetFilter_1 = require(\"./FacetFilter\");\n\nvar FacetFilterProps_1 = require(\"./FacetFilterProps\");\n\nvar defaults = require('lodash/defaults');\n\nvar concat = require('lodash/concat');\n\nvar isUndefined = require('lodash/isUndefined');\n\nvar allItem = {\n  key: '$all',\n  label: 'All'\n};\n\nvar MenuFilter =\n/** @class */\nfunction (_super) {\n  __extends(MenuFilter, _super);\n\n  function MenuFilter() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  MenuFilter.prototype.toggleFilter = function (option) {\n    if (option === allItem.key || this.accessor.state.contains(option)) {\n      this.accessor.state = this.accessor.state.clear();\n    } else {\n      this.accessor.state = this.accessor.state.setValue([option]);\n    }\n\n    this.searchkit.performSearch();\n  };\n\n  MenuFilter.prototype.setFilters = function (options) {\n    this.toggleFilter(options[0]);\n  };\n\n  MenuFilter.prototype.getSelectedItems = function () {\n    var selectedValue = this.accessor.state.getValue()[0];\n    return [!isUndefined(selectedValue) ? selectedValue : allItem.key];\n  };\n\n  MenuFilter.prototype.getItems = function () {\n    var all = {\n      key: allItem.key,\n      label: allItem.label,\n      doc_count: this.accessor.getDocCount()\n    };\n    return concat([all], _super.prototype.getItems.call(this));\n  };\n\n  MenuFilter.propTypes = defaults({}, FacetFilterProps_1.FacetFilterPropTypes.propTypes);\n  MenuFilter.defaultProps = defaults({\n    listComponent: ui_1.ItemList,\n    operator: 'OR'\n  }, FacetFilter_1.FacetFilter.defaultProps);\n  return MenuFilter;\n}(FacetFilter_1.FacetFilter);\n\nexports.MenuFilter = MenuFilter;","map":{"version":3,"sources":["../../../../../src/components/search/filters/facet-filter/MenuFilter.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAA,IAAA,GAAA,OAAA,CAAA,aAAA,CAAA;;AACA,IAAA,aAAA,GAAA,OAAA,CAAA,eAAA,CAAA;;AAEA,IAAA,kBAAA,GAAA,OAAA,CAAA,oBAAA,CAAA;;AACA,IAAM,QAAQ,GAAG,OAAO,CAAC,iBAAD,CAAxB;;AACA,IAAM,MAAM,GAAG,OAAO,CAAC,eAAD,CAAtB;;AACA,IAAM,WAAW,GAAG,OAAO,CAAC,oBAAD,CAA3B;;AAEA,IAAM,OAAO,GAAG;AACd,EAAA,GAAG,EAAE,MADS;AAEd,EAAA,KAAK,EAAE;AAFO,CAAhB;;AAIA,IAAA,UAAA;AAAA;AAAA,UAAA,MAAA,EAAA;AAAgC,EAAA,SAAA,CAAA,UAAA,EAAA,MAAA,CAAA;;AAAhC,WAAA,UAAA,GAAA;;AAqCC;;AA1BC,EAAA,UAAA,CAAA,SAAA,CAAA,YAAA,GAAA,UAAa,MAAb,EAAmB;AACjB,QAAI,MAAM,KAAK,OAAO,CAAC,GAAnB,IAA0B,KAAK,QAAL,CAAc,KAAd,CAAoB,QAApB,CAA6B,MAA7B,CAA9B,EAAoE;AAClE,WAAK,QAAL,CAAc,KAAd,GAAsB,KAAK,QAAL,CAAc,KAAd,CAAoB,KAApB,EAAtB;AACD,KAFD,MAEO;AACL,WAAK,QAAL,CAAc,KAAd,GAAsB,KAAK,QAAL,CAAc,KAAd,CAAoB,QAApB,CAA6B,CAAC,MAAD,CAA7B,CAAtB;AACD;;AACD,SAAK,SAAL,CAAe,aAAf;AACD,GAPD;;AASA,EAAA,UAAA,CAAA,SAAA,CAAA,UAAA,GAAA,UAAW,OAAX,EAAkB;AAChB,SAAK,YAAL,CAAkB,OAAO,CAAC,CAAD,CAAzB;AACD,GAFD;;AAIA,EAAA,UAAA,CAAA,SAAA,CAAA,gBAAA,GAAA,YAAA;AACE,QAAM,aAAa,GAAG,KAAK,QAAL,CAAc,KAAd,CAAoB,QAApB,GAA+B,CAA/B,CAAtB;AACA,WAAO,CAAC,CAAC,WAAW,CAAC,aAAD,CAAZ,GAA8B,aAA9B,GAA8C,OAAO,CAAC,GAAvD,CAAP;AACD,GAHD;;AAKA,EAAA,UAAA,CAAA,SAAA,CAAA,QAAA,GAAA,YAAA;AACE,QAAM,GAAG,GAAG;AACV,MAAA,GAAG,EAAE,OAAO,CAAC,GADH;AAEV,MAAA,KAAK,EAAE,OAAO,CAAC,KAFL;AAGV,MAAA,SAAS,EAAE,KAAK,QAAL,CAAc,WAAd;AAHD,KAAZ;AAKA,WAAO,MAAM,CAAC,CAAC,GAAD,CAAD,EAAQ,MAAA,CAAA,SAAA,CAAM,QAAN,CAAc,IAAd,CAAc,IAAd,CAAR,CAAb;AACD,GAPD;;AA5BO,EAAA,UAAA,CAAA,SAAA,GAAY,QAAQ,CAAC,EAAD,EAAK,kBAAA,CAAA,oBAAA,CAAqB,SAA1B,CAApB;AAEA,EAAA,UAAA,CAAA,YAAA,GAAe,QAAQ,CAC5B;AACE,IAAA,aAAa,EAAE,IAAA,CAAA,QADjB;AAEE,IAAA,QAAQ,EAAE;AAFZ,GAD4B,EAK5B,aAAA,CAAA,WAAA,CAAY,YALgB,CAAvB;AAkCT,SAAA,UAAA;AAAC,CArCD,CAAgC,aAAA,CAAA,WAAhC,CAAA;;AAAa,OAAA,CAAA,UAAA,GAAA,UAAA","sourceRoot":"","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ui_1 = require(\"../../../ui\");\nvar FacetFilter_1 = require(\"./FacetFilter\");\nvar FacetFilterProps_1 = require(\"./FacetFilterProps\");\nvar defaults = require('lodash/defaults');\nvar concat = require('lodash/concat');\nvar isUndefined = require('lodash/isUndefined');\nvar allItem = {\n    key: '$all',\n    label: 'All'\n};\nvar MenuFilter = /** @class */ (function (_super) {\n    __extends(MenuFilter, _super);\n    function MenuFilter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    MenuFilter.prototype.toggleFilter = function (option) {\n        if (option === allItem.key || this.accessor.state.contains(option)) {\n            this.accessor.state = this.accessor.state.clear();\n        }\n        else {\n            this.accessor.state = this.accessor.state.setValue([option]);\n        }\n        this.searchkit.performSearch();\n    };\n    MenuFilter.prototype.setFilters = function (options) {\n        this.toggleFilter(options[0]);\n    };\n    MenuFilter.prototype.getSelectedItems = function () {\n        var selectedValue = this.accessor.state.getValue()[0];\n        return [!isUndefined(selectedValue) ? selectedValue : allItem.key];\n    };\n    MenuFilter.prototype.getItems = function () {\n        var all = {\n            key: allItem.key,\n            label: allItem.label,\n            doc_count: this.accessor.getDocCount()\n        };\n        return concat([all], _super.prototype.getItems.call(this));\n    };\n    MenuFilter.propTypes = defaults({}, FacetFilterProps_1.FacetFilterPropTypes.propTypes);\n    MenuFilter.defaultProps = defaults({\n        listComponent: ui_1.ItemList,\n        operator: 'OR'\n    }, FacetFilter_1.FacetFilter.defaultProps);\n    return MenuFilter;\n}(FacetFilter_1.FacetFilter));\nexports.MenuFilter = MenuFilter;\n//# sourceMappingURL=MenuFilter.js.map"]},"metadata":{},"sourceType":"script"}