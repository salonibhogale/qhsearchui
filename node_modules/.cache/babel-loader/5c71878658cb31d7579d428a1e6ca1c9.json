{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _createChainedFunction = require('rc-util/lib/createChainedFunction');\n\nvar _createChainedFunction2 = _interopRequireDefault(_createChainedFunction);\n\nvar _KeyCode = require('rc-util/lib/KeyCode');\n\nvar _KeyCode2 = _interopRequireDefault(_KeyCode);\n\nvar _placements = require('./picker/placements');\n\nvar _placements2 = _interopRequireDefault(_placements);\n\nvar _rcTrigger = require('rc-trigger');\n\nvar _rcTrigger2 = _interopRequireDefault(_rcTrigger);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction noop() {}\n\nfunction refFn(field, component) {\n  this[field] = component;\n}\n\nvar Picker = _react2[\"default\"].createClass({\n  displayName: 'Picker',\n  propTypes: {\n    animation: _react.PropTypes.oneOfType([_react.PropTypes.func, _react.PropTypes.string]),\n    disabled: _react.PropTypes.bool,\n    transitionName: _react.PropTypes.string,\n    onChange: _react.PropTypes.func,\n    onOpenChange: _react.PropTypes.func,\n    children: _react.PropTypes.func,\n    getCalendarContainer: _react.PropTypes.func,\n    calendar: _react.PropTypes.element,\n    style: _react.PropTypes.object,\n    open: _react.PropTypes.bool,\n    defaultOpen: _react.PropTypes.bool,\n    prefixCls: _react.PropTypes.string,\n    placement: _react.PropTypes.any,\n    value: _react.PropTypes.oneOfType([_react.PropTypes.object, _react.PropTypes.array]),\n    defaultValue: _react.PropTypes.oneOfType([_react.PropTypes.object, _react.PropTypes.array]),\n    align: _react.PropTypes.object\n  },\n  getDefaultProps: function getDefaultProps() {\n    return {\n      prefixCls: 'rc-calendar-picker',\n      style: {},\n      align: {},\n      placement: 'bottomLeft',\n      defaultOpen: false,\n      onChange: noop,\n      onOpenChange: noop\n    };\n  },\n  getInitialState: function getInitialState() {\n    var props = this.props;\n    var open = void 0;\n\n    if ('open' in props) {\n      open = props.open;\n    } else {\n      open = props.defaultOpen;\n    }\n\n    var value = props.value || props.defaultValue;\n    this.saveCalendarRef = refFn.bind(this, 'calendarInstance');\n    return {\n      open: open,\n      value: value\n    };\n  },\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    var value = nextProps.value,\n        open = nextProps.open;\n\n    if ('value' in nextProps) {\n      this.setState({\n        value: value\n      });\n    }\n\n    if (open !== undefined) {\n      this.setState({\n        open: open\n      });\n    }\n  },\n  componentDidUpdate: function componentDidUpdate(_, prevState) {\n    if (!prevState.open && this.state.open) {\n      this.focusCalendar();\n    }\n  },\n  onCalendarKeyDown: function onCalendarKeyDown(event) {\n    if (event.keyCode === _KeyCode2[\"default\"].ESC) {\n      event.stopPropagation();\n      this.close(this.focus);\n    }\n  },\n  onCalendarSelect: function onCalendarSelect(value) {\n    var cause = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var props = this.props;\n\n    if (!('value' in props)) {\n      this.setState({\n        value: value\n      });\n    }\n\n    if (cause.source === 'keyboard' || !props.calendar.props.timePicker && cause.source !== 'dateInput' || cause.source === 'todayButton') {\n      this.close(this.focus);\n    }\n\n    props.onChange(value);\n  },\n  onKeyDown: function onKeyDown(event) {\n    if (event.keyCode === _KeyCode2[\"default\"].DOWN && !this.state.open) {\n      this.open();\n      event.preventDefault();\n    }\n  },\n  onCalendarOk: function onCalendarOk() {\n    this.close(this.focus);\n  },\n  onCalendarClear: function onCalendarClear() {\n    this.close(this.focus);\n  },\n  onVisibleChange: function onVisibleChange(open) {\n    this.setOpen(open);\n  },\n  getCalendarElement: function getCalendarElement() {\n    var props = this.props;\n    var state = this.state;\n    var calendarProps = props.calendar.props;\n    var value = state.value;\n    var defaultValue = void 0; // RangeCalendar\n\n    if (Array.isArray(value)) {\n      defaultValue = value[0];\n    } else {\n      defaultValue = value;\n    }\n\n    var extraProps = {\n      ref: this.saveCalendarRef,\n      defaultValue: defaultValue || calendarProps.defaultValue,\n      selectedValue: value,\n      onKeyDown: this.onCalendarKeyDown,\n      onOk: (0, _createChainedFunction2[\"default\"])(calendarProps.onOk, this.onCalendarOk),\n      onSelect: (0, _createChainedFunction2[\"default\"])(calendarProps.onSelect, this.onCalendarSelect),\n      onClear: (0, _createChainedFunction2[\"default\"])(calendarProps.onClear, this.onCalendarClear)\n    };\n    return _react2[\"default\"].cloneElement(props.calendar, extraProps);\n  },\n  setOpen: function setOpen(open, callback) {\n    var onOpenChange = this.props.onOpenChange;\n\n    if (this.state.open !== open) {\n      if (!('open' in this.props)) {\n        this.setState({\n          open: open\n        }, callback);\n      }\n\n      onOpenChange(open);\n    }\n  },\n  open: function open(callback) {\n    this.setOpen(true, callback);\n  },\n  close: function close(callback) {\n    this.setOpen(false, callback);\n  },\n  focus: function focus() {\n    if (!this.state.open) {\n      _reactDom2[\"default\"].findDOMNode(this).focus();\n    }\n  },\n  focusCalendar: function focusCalendar() {\n    if (this.state.open && this.calendarInstance !== null) {\n      this.calendarInstance.focus();\n    }\n  },\n  render: function render() {\n    var props = this.props;\n    var prefixCls = props.prefixCls,\n        placement = props.placement,\n        style = props.style,\n        getCalendarContainer = props.getCalendarContainer,\n        align = props.align,\n        animation = props.animation,\n        disabled = props.disabled,\n        transitionName = props.transitionName,\n        children = props.children;\n    var state = this.state;\n    return _react2[\"default\"].createElement(_rcTrigger2[\"default\"], {\n      popup: this.getCalendarElement(),\n      popupAlign: align,\n      builtinPlacements: _placements2[\"default\"],\n      popupPlacement: placement,\n      action: disabled && !state.open ? [] : ['click'],\n      destroyPopupOnHide: true,\n      getPopupContainer: getCalendarContainer,\n      popupStyle: style,\n      popupAnimation: animation,\n      popupTransitionName: transitionName,\n      popupVisible: state.open,\n      onPopupVisibleChange: this.onVisibleChange,\n      prefixCls: prefixCls\n    }, _react2[\"default\"].cloneElement(children(state, props), {\n      onKeyDown: this.onKeyDown\n    }));\n  }\n});\n\nexports[\"default\"] = Picker;\nmodule.exports = exports['default'];","map":{"version":3,"sources":["/Users/salonibhogale/qhsearchui/node_modules/rc-calendar/lib/Picker.js"],"names":["Object","defineProperty","exports","value","_react","require","_react2","_interopRequireDefault","_reactDom","_reactDom2","_createChainedFunction","_createChainedFunction2","_KeyCode","_KeyCode2","_placements","_placements2","_rcTrigger","_rcTrigger2","obj","__esModule","noop","refFn","field","component","Picker","createClass","displayName","propTypes","animation","PropTypes","oneOfType","func","string","disabled","bool","transitionName","onChange","onOpenChange","children","getCalendarContainer","calendar","element","style","object","open","defaultOpen","prefixCls","placement","any","array","defaultValue","align","getDefaultProps","getInitialState","props","saveCalendarRef","bind","componentWillReceiveProps","nextProps","setState","undefined","componentDidUpdate","_","prevState","state","focusCalendar","onCalendarKeyDown","event","keyCode","ESC","stopPropagation","close","focus","onCalendarSelect","cause","arguments","length","source","timePicker","onKeyDown","DOWN","preventDefault","onCalendarOk","onCalendarClear","onVisibleChange","setOpen","getCalendarElement","calendarProps","Array","isArray","extraProps","ref","selectedValue","onOk","onSelect","onClear","cloneElement","callback","findDOMNode","calendarInstance","render","createElement","popup","popupAlign","builtinPlacements","popupPlacement","action","destroyPopupOnHide","getPopupContainer","popupStyle","popupAnimation","popupTransitionName","popupVisible","onPopupVisibleChange","module"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _createChainedFunction = require('rc-util/lib/createChainedFunction');\n\nvar _createChainedFunction2 = _interopRequireDefault(_createChainedFunction);\n\nvar _KeyCode = require('rc-util/lib/KeyCode');\n\nvar _KeyCode2 = _interopRequireDefault(_KeyCode);\n\nvar _placements = require('./picker/placements');\n\nvar _placements2 = _interopRequireDefault(_placements);\n\nvar _rcTrigger = require('rc-trigger');\n\nvar _rcTrigger2 = _interopRequireDefault(_rcTrigger);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction noop() {}\n\nfunction refFn(field, component) {\n  this[field] = component;\n}\n\nvar Picker = _react2[\"default\"].createClass({\n  displayName: 'Picker',\n\n  propTypes: {\n    animation: _react.PropTypes.oneOfType([_react.PropTypes.func, _react.PropTypes.string]),\n    disabled: _react.PropTypes.bool,\n    transitionName: _react.PropTypes.string,\n    onChange: _react.PropTypes.func,\n    onOpenChange: _react.PropTypes.func,\n    children: _react.PropTypes.func,\n    getCalendarContainer: _react.PropTypes.func,\n    calendar: _react.PropTypes.element,\n    style: _react.PropTypes.object,\n    open: _react.PropTypes.bool,\n    defaultOpen: _react.PropTypes.bool,\n    prefixCls: _react.PropTypes.string,\n    placement: _react.PropTypes.any,\n    value: _react.PropTypes.oneOfType([_react.PropTypes.object, _react.PropTypes.array]),\n    defaultValue: _react.PropTypes.oneOfType([_react.PropTypes.object, _react.PropTypes.array]),\n    align: _react.PropTypes.object\n  },\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      prefixCls: 'rc-calendar-picker',\n      style: {},\n      align: {},\n      placement: 'bottomLeft',\n      defaultOpen: false,\n      onChange: noop,\n      onOpenChange: noop\n    };\n  },\n  getInitialState: function getInitialState() {\n    var props = this.props;\n    var open = void 0;\n    if ('open' in props) {\n      open = props.open;\n    } else {\n      open = props.defaultOpen;\n    }\n    var value = props.value || props.defaultValue;\n    this.saveCalendarRef = refFn.bind(this, 'calendarInstance');\n    return {\n      open: open,\n      value: value\n    };\n  },\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    var value = nextProps.value,\n        open = nextProps.open;\n\n    if ('value' in nextProps) {\n      this.setState({\n        value: value\n      });\n    }\n    if (open !== undefined) {\n      this.setState({\n        open: open\n      });\n    }\n  },\n  componentDidUpdate: function componentDidUpdate(_, prevState) {\n    if (!prevState.open && this.state.open) {\n      this.focusCalendar();\n    }\n  },\n  onCalendarKeyDown: function onCalendarKeyDown(event) {\n    if (event.keyCode === _KeyCode2[\"default\"].ESC) {\n      event.stopPropagation();\n      this.close(this.focus);\n    }\n  },\n  onCalendarSelect: function onCalendarSelect(value) {\n    var cause = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var props = this.props;\n    if (!('value' in props)) {\n      this.setState({\n        value: value\n      });\n    }\n    if (cause.source === 'keyboard' || !props.calendar.props.timePicker && cause.source !== 'dateInput' || cause.source === 'todayButton') {\n      this.close(this.focus);\n    }\n    props.onChange(value);\n  },\n  onKeyDown: function onKeyDown(event) {\n    if (event.keyCode === _KeyCode2[\"default\"].DOWN && !this.state.open) {\n      this.open();\n      event.preventDefault();\n    }\n  },\n  onCalendarOk: function onCalendarOk() {\n    this.close(this.focus);\n  },\n  onCalendarClear: function onCalendarClear() {\n    this.close(this.focus);\n  },\n  onVisibleChange: function onVisibleChange(open) {\n    this.setOpen(open);\n  },\n  getCalendarElement: function getCalendarElement() {\n    var props = this.props;\n    var state = this.state;\n    var calendarProps = props.calendar.props;\n    var value = state.value;\n\n    var defaultValue = void 0;\n    // RangeCalendar\n    if (Array.isArray(value)) {\n      defaultValue = value[0];\n    } else {\n      defaultValue = value;\n    }\n    var extraProps = {\n      ref: this.saveCalendarRef,\n      defaultValue: defaultValue || calendarProps.defaultValue,\n      selectedValue: value,\n      onKeyDown: this.onCalendarKeyDown,\n      onOk: (0, _createChainedFunction2[\"default\"])(calendarProps.onOk, this.onCalendarOk),\n      onSelect: (0, _createChainedFunction2[\"default\"])(calendarProps.onSelect, this.onCalendarSelect),\n      onClear: (0, _createChainedFunction2[\"default\"])(calendarProps.onClear, this.onCalendarClear)\n    };\n\n    return _react2[\"default\"].cloneElement(props.calendar, extraProps);\n  },\n  setOpen: function setOpen(open, callback) {\n    var onOpenChange = this.props.onOpenChange;\n\n    if (this.state.open !== open) {\n      if (!('open' in this.props)) {\n        this.setState({\n          open: open\n        }, callback);\n      }\n      onOpenChange(open);\n    }\n  },\n  open: function open(callback) {\n    this.setOpen(true, callback);\n  },\n  close: function close(callback) {\n    this.setOpen(false, callback);\n  },\n  focus: function focus() {\n    if (!this.state.open) {\n      _reactDom2[\"default\"].findDOMNode(this).focus();\n    }\n  },\n  focusCalendar: function focusCalendar() {\n    if (this.state.open && this.calendarInstance !== null) {\n      this.calendarInstance.focus();\n    }\n  },\n  render: function render() {\n    var props = this.props;\n    var prefixCls = props.prefixCls,\n        placement = props.placement,\n        style = props.style,\n        getCalendarContainer = props.getCalendarContainer,\n        align = props.align,\n        animation = props.animation,\n        disabled = props.disabled,\n        transitionName = props.transitionName,\n        children = props.children;\n\n    var state = this.state;\n    return _react2[\"default\"].createElement(\n      _rcTrigger2[\"default\"],\n      {\n        popup: this.getCalendarElement(),\n        popupAlign: align,\n        builtinPlacements: _placements2[\"default\"],\n        popupPlacement: placement,\n        action: disabled && !state.open ? [] : ['click'],\n        destroyPopupOnHide: true,\n        getPopupContainer: getCalendarContainer,\n        popupStyle: style,\n        popupAnimation: animation,\n        popupTransitionName: transitionName,\n        popupVisible: state.open,\n        onPopupVisibleChange: this.onVisibleChange,\n        prefixCls: prefixCls\n      },\n      _react2[\"default\"].cloneElement(children(state, props), { onKeyDown: this.onKeyDown })\n    );\n  }\n});\n\nexports[\"default\"] = Picker;\nmodule.exports = exports['default'];"]},"metadata":{},"sourceType":"script"}