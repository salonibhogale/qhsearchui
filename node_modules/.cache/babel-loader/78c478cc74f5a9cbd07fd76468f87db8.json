{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactLifecyclesCompat = require('react-lifecycles-compat');\n\nvar _createChainedFunction = require('rc-util/lib/createChainedFunction');\n\nvar _createChainedFunction2 = _interopRequireDefault(_createChainedFunction);\n\nvar _KeyCode = require('rc-util/lib/KeyCode');\n\nvar _KeyCode2 = _interopRequireDefault(_KeyCode);\n\nvar _placements = require('./picker/placements');\n\nvar _placements2 = _interopRequireDefault(_placements);\n\nvar _rcTrigger = require('rc-trigger');\n\nvar _rcTrigger2 = _interopRequireDefault(_rcTrigger);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nfunction noop() {}\n\nfunction refFn(field, component) {\n  this[field] = component;\n}\n\nvar Picker = function (_React$Component) {\n  (0, _inherits3['default'])(Picker, _React$Component);\n\n  function Picker(props) {\n    (0, _classCallCheck3['default'])(this, Picker);\n\n    var _this = (0, _possibleConstructorReturn3['default'])(this, _React$Component.call(this, props));\n\n    _initialiseProps.call(_this);\n\n    var open = void 0;\n\n    if ('open' in props) {\n      open = props.open;\n    } else {\n      open = props.defaultOpen;\n    }\n\n    var value = props.value || props.defaultValue;\n    _this.saveCalendarRef = refFn.bind(_this, 'calendarInstance');\n    _this.state = {\n      open: open,\n      value: value\n    };\n    return _this;\n  }\n\n  Picker.prototype.componentDidUpdate = function componentDidUpdate(_, prevState) {\n    if (!prevState.open && this.state.open) {\n      // setTimeout is for making sure saveCalendarRef happen before focusCalendar\n      this.focusTimeout = setTimeout(this.focusCalendar, 0, this);\n    }\n  };\n\n  Picker.prototype.componentWillUnmount = function componentWillUnmount() {\n    clearTimeout(this.focusTimeout);\n  };\n\n  Picker.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps) {\n    var newState = {};\n    var value = nextProps.value,\n        open = nextProps.open;\n\n    if ('value' in nextProps) {\n      newState.value = value;\n    }\n\n    if (open !== undefined) {\n      newState.open = open;\n    }\n\n    return newState;\n  };\n\n  Picker.prototype.render = function render() {\n    var props = this.props;\n    var prefixCls = props.prefixCls,\n        placement = props.placement,\n        style = props.style,\n        getCalendarContainer = props.getCalendarContainer,\n        align = props.align,\n        animation = props.animation,\n        disabled = props.disabled,\n        dropdownClassName = props.dropdownClassName,\n        transitionName = props.transitionName,\n        children = props.children;\n    var state = this.state;\n    return _react2['default'].createElement(_rcTrigger2['default'], {\n      popup: this.getCalendarElement(),\n      popupAlign: align,\n      builtinPlacements: _placements2['default'],\n      popupPlacement: placement,\n      action: disabled && !state.open ? [] : ['click'],\n      destroyPopupOnHide: true,\n      getPopupContainer: getCalendarContainer,\n      popupStyle: style,\n      popupAnimation: animation,\n      popupTransitionName: transitionName,\n      popupVisible: state.open,\n      onPopupVisibleChange: this.onVisibleChange,\n      prefixCls: prefixCls,\n      popupClassName: dropdownClassName\n    }, _react2['default'].cloneElement(children(state, props), {\n      onKeyDown: this.onKeyDown\n    }));\n  };\n\n  return Picker;\n}(_react2['default'].Component);\n\nPicker.propTypes = {\n  animation: _propTypes2['default'].oneOfType([_propTypes2['default'].func, _propTypes2['default'].string]),\n  disabled: _propTypes2['default'].bool,\n  transitionName: _propTypes2['default'].string,\n  onChange: _propTypes2['default'].func,\n  onOpenChange: _propTypes2['default'].func,\n  children: _propTypes2['default'].func,\n  getCalendarContainer: _propTypes2['default'].func,\n  calendar: _propTypes2['default'].element,\n  style: _propTypes2['default'].object,\n  open: _propTypes2['default'].bool,\n  defaultOpen: _propTypes2['default'].bool,\n  prefixCls: _propTypes2['default'].string,\n  placement: _propTypes2['default'].any,\n  value: _propTypes2['default'].oneOfType([_propTypes2['default'].object, _propTypes2['default'].array]),\n  defaultValue: _propTypes2['default'].oneOfType([_propTypes2['default'].object, _propTypes2['default'].array]),\n  align: _propTypes2['default'].object,\n  dateRender: _propTypes2['default'].func,\n  onBlur: _propTypes2['default'].func\n};\nPicker.defaultProps = {\n  prefixCls: 'rc-calendar-picker',\n  style: {},\n  align: {},\n  placement: 'bottomLeft',\n  defaultOpen: false,\n  onChange: noop,\n  onOpenChange: noop,\n  onBlur: noop\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this2 = this;\n\n  this.onCalendarKeyDown = function (event) {\n    if (event.keyCode === _KeyCode2['default'].ESC) {\n      event.stopPropagation();\n\n      _this2.close(_this2.focus);\n    }\n  };\n\n  this.onCalendarSelect = function (value) {\n    var cause = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var props = _this2.props;\n\n    if (!('value' in props)) {\n      _this2.setState({\n        value: value\n      });\n    }\n\n    if (cause.source === 'keyboard' || cause.source === 'dateInputSelect' || !props.calendar.props.timePicker && cause.source !== 'dateInput' || cause.source === 'todayButton') {\n      _this2.close(_this2.focus);\n    }\n\n    props.onChange(value);\n  };\n\n  this.onKeyDown = function (event) {\n    if (!_this2.state.open && (event.keyCode === _KeyCode2['default'].DOWN || event.keyCode === _KeyCode2['default'].ENTER)) {\n      _this2.open();\n\n      event.preventDefault();\n    }\n  };\n\n  this.onCalendarOk = function () {\n    _this2.close(_this2.focus);\n  };\n\n  this.onCalendarClear = function () {\n    _this2.close(_this2.focus);\n  };\n\n  this.onCalendarBlur = function () {\n    _this2.setOpen(false);\n  };\n\n  this.onVisibleChange = function (open) {\n    _this2.setOpen(open);\n  };\n\n  this.getCalendarElement = function () {\n    var props = _this2.props;\n    var state = _this2.state;\n    var calendarProps = props.calendar.props;\n    var value = state.value;\n    var defaultValue = value;\n    var extraProps = {\n      ref: _this2.saveCalendarRef,\n      defaultValue: defaultValue || calendarProps.defaultValue,\n      selectedValue: value,\n      onKeyDown: _this2.onCalendarKeyDown,\n      onOk: (0, _createChainedFunction2['default'])(calendarProps.onOk, _this2.onCalendarOk),\n      onSelect: (0, _createChainedFunction2['default'])(calendarProps.onSelect, _this2.onCalendarSelect),\n      onClear: (0, _createChainedFunction2['default'])(calendarProps.onClear, _this2.onCalendarClear),\n      onBlur: (0, _createChainedFunction2['default'])(calendarProps.onBlur, _this2.onCalendarBlur)\n    };\n    return _react2['default'].cloneElement(props.calendar, extraProps);\n  };\n\n  this.setOpen = function (open, callback) {\n    var onOpenChange = _this2.props.onOpenChange;\n\n    if (_this2.state.open !== open) {\n      if (!('open' in _this2.props)) {\n        _this2.setState({\n          open: open\n        }, callback);\n      }\n\n      onOpenChange(open);\n    }\n  };\n\n  this.open = function (callback) {\n    _this2.setOpen(true, callback);\n  };\n\n  this.close = function (callback) {\n    _this2.setOpen(false, callback);\n  };\n\n  this.focus = function () {\n    if (!_this2.state.open) {\n      _reactDom2['default'].findDOMNode(_this2).focus();\n    }\n  };\n\n  this.focusCalendar = function () {\n    if (_this2.state.open && !!_this2.calendarInstance) {\n      _this2.calendarInstance.focus();\n    }\n  };\n};\n\n(0, _reactLifecyclesCompat.polyfill)(Picker);\nexports['default'] = Picker;\nmodule.exports = exports['default'];","map":{"version":3,"sources":["/Users/salonibhogale/qhsearchui/node_modules/rc-calendar/lib/Picker.js"],"names":["exports","__esModule","_classCallCheck2","require","_classCallCheck3","_interopRequireDefault","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_react","_react2","_reactDom","_reactDom2","_propTypes","_propTypes2","_reactLifecyclesCompat","_createChainedFunction","_createChainedFunction2","_KeyCode","_KeyCode2","_placements","_placements2","_rcTrigger","_rcTrigger2","obj","noop","refFn","field","component","Picker","_React$Component","props","_this","call","_initialiseProps","open","defaultOpen","value","defaultValue","saveCalendarRef","bind","state","prototype","componentDidUpdate","_","prevState","focusTimeout","setTimeout","focusCalendar","componentWillUnmount","clearTimeout","getDerivedStateFromProps","nextProps","newState","undefined","render","prefixCls","placement","style","getCalendarContainer","align","animation","disabled","dropdownClassName","transitionName","children","createElement","popup","getCalendarElement","popupAlign","builtinPlacements","popupPlacement","action","destroyPopupOnHide","getPopupContainer","popupStyle","popupAnimation","popupTransitionName","popupVisible","onPopupVisibleChange","onVisibleChange","popupClassName","cloneElement","onKeyDown","Component","propTypes","oneOfType","func","string","bool","onChange","onOpenChange","calendar","element","object","any","array","dateRender","onBlur","defaultProps","_this2","onCalendarKeyDown","event","keyCode","ESC","stopPropagation","close","focus","onCalendarSelect","cause","arguments","length","setState","source","timePicker","DOWN","ENTER","preventDefault","onCalendarOk","onCalendarClear","onCalendarBlur","setOpen","calendarProps","extraProps","ref","selectedValue","onOk","onSelect","onClear","callback","findDOMNode","calendarInstance","polyfill","module"],"mappings":"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","sourcesContent":["'use strict';\n\nexports.__esModule = true;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactLifecyclesCompat = require('react-lifecycles-compat');\n\nvar _createChainedFunction = require('rc-util/lib/createChainedFunction');\n\nvar _createChainedFunction2 = _interopRequireDefault(_createChainedFunction);\n\nvar _KeyCode = require('rc-util/lib/KeyCode');\n\nvar _KeyCode2 = _interopRequireDefault(_KeyCode);\n\nvar _placements = require('./picker/placements');\n\nvar _placements2 = _interopRequireDefault(_placements);\n\nvar _rcTrigger = require('rc-trigger');\n\nvar _rcTrigger2 = _interopRequireDefault(_rcTrigger);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction noop() {}\n\nfunction refFn(field, component) {\n  this[field] = component;\n}\n\nvar Picker = function (_React$Component) {\n  (0, _inherits3['default'])(Picker, _React$Component);\n\n  function Picker(props) {\n    (0, _classCallCheck3['default'])(this, Picker);\n\n    var _this = (0, _possibleConstructorReturn3['default'])(this, _React$Component.call(this, props));\n\n    _initialiseProps.call(_this);\n\n    var open = void 0;\n    if ('open' in props) {\n      open = props.open;\n    } else {\n      open = props.defaultOpen;\n    }\n    var value = props.value || props.defaultValue;\n    _this.saveCalendarRef = refFn.bind(_this, 'calendarInstance');\n\n    _this.state = {\n      open: open,\n      value: value\n    };\n    return _this;\n  }\n\n  Picker.prototype.componentDidUpdate = function componentDidUpdate(_, prevState) {\n    if (!prevState.open && this.state.open) {\n      // setTimeout is for making sure saveCalendarRef happen before focusCalendar\n      this.focusTimeout = setTimeout(this.focusCalendar, 0, this);\n    }\n  };\n\n  Picker.prototype.componentWillUnmount = function componentWillUnmount() {\n    clearTimeout(this.focusTimeout);\n  };\n\n  Picker.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps) {\n    var newState = {};\n    var value = nextProps.value,\n        open = nextProps.open;\n\n    if ('value' in nextProps) {\n      newState.value = value;\n    }\n    if (open !== undefined) {\n      newState.open = open;\n    }\n    return newState;\n  };\n\n  Picker.prototype.render = function render() {\n    var props = this.props;\n    var prefixCls = props.prefixCls,\n        placement = props.placement,\n        style = props.style,\n        getCalendarContainer = props.getCalendarContainer,\n        align = props.align,\n        animation = props.animation,\n        disabled = props.disabled,\n        dropdownClassName = props.dropdownClassName,\n        transitionName = props.transitionName,\n        children = props.children;\n\n    var state = this.state;\n    return _react2['default'].createElement(\n      _rcTrigger2['default'],\n      {\n        popup: this.getCalendarElement(),\n        popupAlign: align,\n        builtinPlacements: _placements2['default'],\n        popupPlacement: placement,\n        action: disabled && !state.open ? [] : ['click'],\n        destroyPopupOnHide: true,\n        getPopupContainer: getCalendarContainer,\n        popupStyle: style,\n        popupAnimation: animation,\n        popupTransitionName: transitionName,\n        popupVisible: state.open,\n        onPopupVisibleChange: this.onVisibleChange,\n        prefixCls: prefixCls,\n        popupClassName: dropdownClassName\n      },\n      _react2['default'].cloneElement(children(state, props), { onKeyDown: this.onKeyDown })\n    );\n  };\n\n  return Picker;\n}(_react2['default'].Component);\n\nPicker.propTypes = {\n  animation: _propTypes2['default'].oneOfType([_propTypes2['default'].func, _propTypes2['default'].string]),\n  disabled: _propTypes2['default'].bool,\n  transitionName: _propTypes2['default'].string,\n  onChange: _propTypes2['default'].func,\n  onOpenChange: _propTypes2['default'].func,\n  children: _propTypes2['default'].func,\n  getCalendarContainer: _propTypes2['default'].func,\n  calendar: _propTypes2['default'].element,\n  style: _propTypes2['default'].object,\n  open: _propTypes2['default'].bool,\n  defaultOpen: _propTypes2['default'].bool,\n  prefixCls: _propTypes2['default'].string,\n  placement: _propTypes2['default'].any,\n  value: _propTypes2['default'].oneOfType([_propTypes2['default'].object, _propTypes2['default'].array]),\n  defaultValue: _propTypes2['default'].oneOfType([_propTypes2['default'].object, _propTypes2['default'].array]),\n  align: _propTypes2['default'].object,\n  dateRender: _propTypes2['default'].func,\n  onBlur: _propTypes2['default'].func\n};\nPicker.defaultProps = {\n  prefixCls: 'rc-calendar-picker',\n  style: {},\n  align: {},\n  placement: 'bottomLeft',\n  defaultOpen: false,\n  onChange: noop,\n  onOpenChange: noop,\n  onBlur: noop\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this2 = this;\n\n  this.onCalendarKeyDown = function (event) {\n    if (event.keyCode === _KeyCode2['default'].ESC) {\n      event.stopPropagation();\n      _this2.close(_this2.focus);\n    }\n  };\n\n  this.onCalendarSelect = function (value) {\n    var cause = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var props = _this2.props;\n    if (!('value' in props)) {\n      _this2.setState({\n        value: value\n      });\n    }\n    if (cause.source === 'keyboard' || cause.source === 'dateInputSelect' || !props.calendar.props.timePicker && cause.source !== 'dateInput' || cause.source === 'todayButton') {\n      _this2.close(_this2.focus);\n    }\n    props.onChange(value);\n  };\n\n  this.onKeyDown = function (event) {\n    if (!_this2.state.open && (event.keyCode === _KeyCode2['default'].DOWN || event.keyCode === _KeyCode2['default'].ENTER)) {\n      _this2.open();\n      event.preventDefault();\n    }\n  };\n\n  this.onCalendarOk = function () {\n    _this2.close(_this2.focus);\n  };\n\n  this.onCalendarClear = function () {\n    _this2.close(_this2.focus);\n  };\n\n  this.onCalendarBlur = function () {\n    _this2.setOpen(false);\n  };\n\n  this.onVisibleChange = function (open) {\n    _this2.setOpen(open);\n  };\n\n  this.getCalendarElement = function () {\n    var props = _this2.props;\n    var state = _this2.state;\n    var calendarProps = props.calendar.props;\n    var value = state.value;\n\n    var defaultValue = value;\n    var extraProps = {\n      ref: _this2.saveCalendarRef,\n      defaultValue: defaultValue || calendarProps.defaultValue,\n      selectedValue: value,\n      onKeyDown: _this2.onCalendarKeyDown,\n      onOk: (0, _createChainedFunction2['default'])(calendarProps.onOk, _this2.onCalendarOk),\n      onSelect: (0, _createChainedFunction2['default'])(calendarProps.onSelect, _this2.onCalendarSelect),\n      onClear: (0, _createChainedFunction2['default'])(calendarProps.onClear, _this2.onCalendarClear),\n      onBlur: (0, _createChainedFunction2['default'])(calendarProps.onBlur, _this2.onCalendarBlur)\n    };\n\n    return _react2['default'].cloneElement(props.calendar, extraProps);\n  };\n\n  this.setOpen = function (open, callback) {\n    var onOpenChange = _this2.props.onOpenChange;\n\n    if (_this2.state.open !== open) {\n      if (!('open' in _this2.props)) {\n        _this2.setState({\n          open: open\n        }, callback);\n      }\n      onOpenChange(open);\n    }\n  };\n\n  this.open = function (callback) {\n    _this2.setOpen(true, callback);\n  };\n\n  this.close = function (callback) {\n    _this2.setOpen(false, callback);\n  };\n\n  this.focus = function () {\n    if (!_this2.state.open) {\n      _reactDom2['default'].findDOMNode(_this2).focus();\n    }\n  };\n\n  this.focusCalendar = function () {\n    if (_this2.state.open && !!_this2.calendarInstance) {\n      _this2.calendarInstance.focus();\n    }\n  };\n};\n\n(0, _reactLifecyclesCompat.polyfill)(Picker);\n\nexports['default'] = Picker;\nmodule.exports = exports['default'];"]},"metadata":{},"sourceType":"script"}