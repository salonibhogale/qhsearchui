{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar PropTypes = require(\"prop-types\");\n\nvar core_1 = require(\"../../../../../core\");\n\nvar ui_1 = require(\"../../../../ui\");\n\nvar defaults = require('lodash/defaults');\n\nvar map = require('lodash/map');\n\nvar NumericRefinementListFilter =\n/** @class */\nfunction (_super) {\n  __extends(NumericRefinementListFilter, _super);\n\n  function NumericRefinementListFilter(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.toggleItem = _this.toggleItem.bind(_this);\n    _this.setItems = _this.setItems.bind(_this);\n    return _this;\n  }\n\n  NumericRefinementListFilter.prototype.defineAccessor = function () {\n    var _a = this.props,\n        id = _a.id,\n        field = _a.field,\n        options = _a.options,\n        title = _a.title,\n        multiselect = _a.multiselect,\n        fieldOptions = _a.fieldOptions;\n    return new core_1.NumericOptionsAccessor(id, {\n      id: id,\n      field: field,\n      options: options,\n      title: title,\n      multiselect: multiselect,\n      fieldOptions: fieldOptions\n    });\n  };\n\n  NumericRefinementListFilter.prototype.toggleItem = function (key) {\n    this.accessor.toggleOption(key);\n  };\n\n  NumericRefinementListFilter.prototype.setItems = function (keys) {\n    this.accessor.setOptions(keys);\n  };\n\n  NumericRefinementListFilter.prototype.getSelectedItems = function () {\n    var selectedOptions = this.accessor.getSelectedOrDefaultOptions() || [];\n    return map(selectedOptions, 'title');\n  };\n\n  NumericRefinementListFilter.prototype.hasOptions = function () {\n    return this.accessor.getBuckets().length != 0;\n  };\n\n  NumericRefinementListFilter.prototype.render = function () {\n    if (!this.accessor) return null;\n    var _a = this.props,\n        listComponent = _a.listComponent,\n        containerComponent = _a.containerComponent,\n        itemComponent = _a.itemComponent,\n        showCount = _a.showCount,\n        title = _a.title,\n        id = _a.id,\n        mod = _a.mod,\n        className = _a.className,\n        countFormatter = _a.countFormatter;\n    return core_1.renderComponent(containerComponent, {\n      title: title,\n      className: id ? \"filter--\" + id : undefined,\n      disabled: !this.hasOptions()\n    }, core_1.renderComponent(listComponent, {\n      mod: mod,\n      className: className,\n      items: this.accessor.getBuckets(),\n      itemComponent: itemComponent,\n      selectedItems: this.getSelectedItems(),\n      toggleItem: this.toggleItem,\n      setItems: this.setItems,\n      docCount: this.accessor.getDocCount(),\n      showCount: showCount,\n      translate: this.translate,\n      countFormatter: countFormatter\n    }));\n  };\n\n  NumericRefinementListFilter.propTypes = defaults({\n    containerComponent: core_1.RenderComponentPropType,\n    listComponent: core_1.RenderComponentPropType,\n    itemComponent: core_1.RenderComponentPropType,\n    field: PropTypes.string.isRequired,\n    title: PropTypes.string.isRequired,\n    id: PropTypes.string.isRequired,\n    multiselect: PropTypes.bool,\n    showCount: PropTypes.bool,\n    options: PropTypes.arrayOf(PropTypes.shape({\n      title: PropTypes.string.isRequired,\n      from: PropTypes.number,\n      to: PropTypes.number,\n      key: PropTypes.string\n    })),\n    fieldOptions: PropTypes.shape({\n      type: PropTypes.oneOf(['embedded', 'nested', 'children']).isRequired,\n      options: PropTypes.object\n    }),\n    countFormatter: PropTypes.func\n  }, core_1.SearchkitComponent.propTypes);\n  NumericRefinementListFilter.defaultProps = {\n    listComponent: ui_1.ItemList,\n    containerComponent: ui_1.Panel,\n    multiselect: false,\n    showCount: true\n  };\n  return NumericRefinementListFilter;\n}(core_1.SearchkitComponent);\n\nexports.NumericRefinementListFilter = NumericRefinementListFilter;","map":{"version":3,"sources":["../../../../../../src/components/search/filters/numeric-refinement-list-filter/src/NumericRefinementListFilter.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar PropTypes = require(\"prop-types\");\nvar core_1 = require(\"../../../../../core\");\nvar ui_1 = require(\"../../../../ui\");\nvar defaults = require('lodash/defaults');\nvar map = require('lodash/map');\nvar NumericRefinementListFilter = /** @class */ (function (_super) {\n    __extends(NumericRefinementListFilter, _super);\n    function NumericRefinementListFilter(props) {\n        var _this = _super.call(this, props) || this;\n        _this.toggleItem = _this.toggleItem.bind(_this);\n        _this.setItems = _this.setItems.bind(_this);\n        return _this;\n    }\n    NumericRefinementListFilter.prototype.defineAccessor = function () {\n        var _a = this.props, id = _a.id, field = _a.field, options = _a.options, title = _a.title, multiselect = _a.multiselect, fieldOptions = _a.fieldOptions;\n        return new core_1.NumericOptionsAccessor(id, {\n            id: id,\n            field: field,\n            options: options,\n            title: title,\n            multiselect: multiselect,\n            fieldOptions: fieldOptions\n        });\n    };\n    NumericRefinementListFilter.prototype.toggleItem = function (key) {\n        this.accessor.toggleOption(key);\n    };\n    NumericRefinementListFilter.prototype.setItems = function (keys) {\n        this.accessor.setOptions(keys);\n    };\n    NumericRefinementListFilter.prototype.getSelectedItems = function () {\n        var selectedOptions = this.accessor.getSelectedOrDefaultOptions() || [];\n        return map(selectedOptions, 'title');\n    };\n    NumericRefinementListFilter.prototype.hasOptions = function () {\n        return this.accessor.getBuckets().length != 0;\n    };\n    NumericRefinementListFilter.prototype.render = function () {\n        if (!this.accessor)\n            return null;\n        var _a = this.props, listComponent = _a.listComponent, containerComponent = _a.containerComponent, itemComponent = _a.itemComponent, showCount = _a.showCount, title = _a.title, id = _a.id, mod = _a.mod, className = _a.className, countFormatter = _a.countFormatter;\n        return core_1.renderComponent(containerComponent, {\n            title: title,\n            className: id ? \"filter--\" + id : undefined,\n            disabled: !this.hasOptions()\n        }, core_1.renderComponent(listComponent, {\n            mod: mod,\n            className: className,\n            items: this.accessor.getBuckets(),\n            itemComponent: itemComponent,\n            selectedItems: this.getSelectedItems(),\n            toggleItem: this.toggleItem,\n            setItems: this.setItems,\n            docCount: this.accessor.getDocCount(),\n            showCount: showCount,\n            translate: this.translate,\n            countFormatter: countFormatter\n        }));\n    };\n    NumericRefinementListFilter.propTypes = defaults({\n        containerComponent: core_1.RenderComponentPropType,\n        listComponent: core_1.RenderComponentPropType,\n        itemComponent: core_1.RenderComponentPropType,\n        field: PropTypes.string.isRequired,\n        title: PropTypes.string.isRequired,\n        id: PropTypes.string.isRequired,\n        multiselect: PropTypes.bool,\n        showCount: PropTypes.bool,\n        options: PropTypes.arrayOf(PropTypes.shape({\n            title: PropTypes.string.isRequired,\n            from: PropTypes.number,\n            to: PropTypes.number,\n            key: PropTypes.string\n        })),\n        fieldOptions: PropTypes.shape({\n            type: PropTypes.oneOf(['embedded', 'nested', 'children']).isRequired,\n            options: PropTypes.object\n        }),\n        countFormatter: PropTypes.func\n    }, core_1.SearchkitComponent.propTypes);\n    NumericRefinementListFilter.defaultProps = {\n        listComponent: ui_1.ItemList,\n        containerComponent: ui_1.Panel,\n        multiselect: false,\n        showCount: true\n    };\n    return NumericRefinementListFilter;\n}(core_1.SearchkitComponent));\nexports.NumericRefinementListFilter = NumericRefinementListFilter;\n//# sourceMappingURL=NumericRefinementListFilter.js.map"]},"metadata":{},"sourceType":"script"}