{"ast":null,"code":"Object.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar AggsContainer_1 = require(\"./AggsContainer\");\n\nvar assign = require('lodash/assign');\n\nvar isEmpty = require('lodash/isEmpty'); // Emulates the maximum value an integer can have in Java\n// See: https://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#MAX_VALUE\n\n\nexports.DefaultNumberBuckets = Math.pow(2, 31) - 1;\n\nfunction TermsBucket(key, field, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var childAggs = [];\n\n  for (var _i = 3; _i < arguments.length; _i++) {\n    childAggs[_i - 3] = arguments[_i];\n  }\n\n  return AggsContainer_1.AggsContainer(key, {\n    terms: assign({\n      field: field\n    }, options)\n  }, childAggs);\n}\n\nexports.TermsBucket = TermsBucket;\n\nfunction RangeBucket(key, field, ranges) {\n  var childAggs = [];\n\n  for (var _i = 3; _i < arguments.length; _i++) {\n    childAggs[_i - 3] = arguments[_i];\n  }\n\n  return AggsContainer_1.AggsContainer(key, {\n    range: {\n      field: field,\n      ranges: ranges\n    }\n  }, childAggs);\n}\n\nexports.RangeBucket = RangeBucket;\n\nfunction ChildrenBucket(key, type) {\n  var childAggs = [];\n\n  for (var _i = 2; _i < arguments.length; _i++) {\n    childAggs[_i - 2] = arguments[_i];\n  }\n\n  return AggsContainer_1.AggsContainer(key, {\n    children: {\n      type: type\n    }\n  }, childAggs);\n}\n\nexports.ChildrenBucket = ChildrenBucket;\n\nfunction FilterBucket(key, filter) {\n  var childAggs = [];\n\n  for (var _i = 2; _i < arguments.length; _i++) {\n    childAggs[_i - 2] = arguments[_i];\n  }\n\n  if (isEmpty(filter)) {\n    return AggsContainer_1.AggsContainer(key, {\n      filter: {\n        match_all: {}\n      }\n    }, childAggs);\n  }\n\n  return AggsContainer_1.AggsContainer(key, {\n    filter: filter\n  }, childAggs);\n}\n\nexports.FilterBucket = FilterBucket;\n\nfunction NestedBucket(key, path) {\n  var childAggs = [];\n\n  for (var _i = 2; _i < arguments.length; _i++) {\n    childAggs[_i - 2] = arguments[_i];\n  }\n\n  return AggsContainer_1.AggsContainer(key, {\n    nested: {\n      path: path\n    }\n  }, childAggs);\n}\n\nexports.NestedBucket = NestedBucket;\n\nfunction SignificantTermsBucket(key, field, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var childAggs = [];\n\n  for (var _i = 3; _i < arguments.length; _i++) {\n    childAggs[_i - 3] = arguments[_i];\n  }\n\n  return AggsContainer_1.AggsContainer(key, {\n    significant_terms: assign({\n      field: field\n    }, options)\n  }, childAggs);\n}\n\nexports.SignificantTermsBucket = SignificantTermsBucket;\n\nfunction GeohashBucket(key, field, options) {\n  var childAggs = [];\n\n  for (var _i = 3; _i < arguments.length; _i++) {\n    childAggs[_i - 3] = arguments[_i];\n  }\n\n  return AggsContainer_1.AggsContainer(key, {\n    geohash_grid: assign({\n      field: field\n    }, options)\n  }, childAggs);\n}\n\nexports.GeohashBucket = GeohashBucket;\n\nfunction HistogramBucket(key, field, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var childAggs = [];\n\n  for (var _i = 3; _i < arguments.length; _i++) {\n    childAggs[_i - 3] = arguments[_i];\n  }\n\n  return AggsContainer_1.AggsContainer(key, {\n    histogram: assign({\n      field: field\n    }, options)\n  }, childAggs);\n}\n\nexports.HistogramBucket = HistogramBucket;\n\nfunction GeoboundsBucket(key, field, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var childAggs = [];\n\n  for (var _i = 3; _i < arguments.length; _i++) {\n    childAggs[_i - 3] = arguments[_i];\n  }\n\n  return AggsContainer_1.AggsContainer(key, {\n    geo_bounds: assign({\n      field: field\n    }, options)\n  }, childAggs);\n}\n\nexports.GeoboundsBucket = GeoboundsBucket;\n\nfunction DateHistogramBucket(key, field, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var childAggs = [];\n\n  for (var _i = 3; _i < arguments.length; _i++) {\n    childAggs[_i - 3] = arguments[_i];\n  }\n\n  return AggsContainer_1.AggsContainer(key, {\n    date_histogram: assign({\n      field: field\n    }, options)\n  }, childAggs);\n}\n\nexports.DateHistogramBucket = DateHistogramBucket;","map":{"version":3,"sources":["../../../../../src/core/query/query_dsl/aggregations/BucketAggregations.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["Object.defineProperty(exports, \"__esModule\", { value: true });\nvar AggsContainer_1 = require(\"./AggsContainer\");\nvar assign = require('lodash/assign');\nvar isEmpty = require('lodash/isEmpty');\n// Emulates the maximum value an integer can have in Java\n// See: https://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#MAX_VALUE\nexports.DefaultNumberBuckets = Math.pow(2, 31) - 1;\nfunction TermsBucket(key, field, options) {\n    if (options === void 0) { options = {}; }\n    var childAggs = [];\n    for (var _i = 3; _i < arguments.length; _i++) {\n        childAggs[_i - 3] = arguments[_i];\n    }\n    return AggsContainer_1.AggsContainer(key, {\n        terms: assign({ field: field }, options)\n    }, childAggs);\n}\nexports.TermsBucket = TermsBucket;\nfunction RangeBucket(key, field, ranges) {\n    var childAggs = [];\n    for (var _i = 3; _i < arguments.length; _i++) {\n        childAggs[_i - 3] = arguments[_i];\n    }\n    return AggsContainer_1.AggsContainer(key, {\n        range: {\n            field: field,\n            ranges: ranges\n        }\n    }, childAggs);\n}\nexports.RangeBucket = RangeBucket;\nfunction ChildrenBucket(key, type) {\n    var childAggs = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        childAggs[_i - 2] = arguments[_i];\n    }\n    return AggsContainer_1.AggsContainer(key, { children: { type: type } }, childAggs);\n}\nexports.ChildrenBucket = ChildrenBucket;\nfunction FilterBucket(key, filter) {\n    var childAggs = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        childAggs[_i - 2] = arguments[_i];\n    }\n    if (isEmpty(filter)) {\n        return AggsContainer_1.AggsContainer(key, { filter: { match_all: {} } }, childAggs);\n    }\n    return AggsContainer_1.AggsContainer(key, { filter: filter }, childAggs);\n}\nexports.FilterBucket = FilterBucket;\nfunction NestedBucket(key, path) {\n    var childAggs = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        childAggs[_i - 2] = arguments[_i];\n    }\n    return AggsContainer_1.AggsContainer(key, { nested: { path: path } }, childAggs);\n}\nexports.NestedBucket = NestedBucket;\nfunction SignificantTermsBucket(key, field, options) {\n    if (options === void 0) { options = {}; }\n    var childAggs = [];\n    for (var _i = 3; _i < arguments.length; _i++) {\n        childAggs[_i - 3] = arguments[_i];\n    }\n    return AggsContainer_1.AggsContainer(key, { significant_terms: assign({ field: field }, options) }, childAggs);\n}\nexports.SignificantTermsBucket = SignificantTermsBucket;\nfunction GeohashBucket(key, field, options) {\n    var childAggs = [];\n    for (var _i = 3; _i < arguments.length; _i++) {\n        childAggs[_i - 3] = arguments[_i];\n    }\n    return AggsContainer_1.AggsContainer(key, { geohash_grid: assign({ field: field }, options) }, childAggs);\n}\nexports.GeohashBucket = GeohashBucket;\nfunction HistogramBucket(key, field, options) {\n    if (options === void 0) { options = {}; }\n    var childAggs = [];\n    for (var _i = 3; _i < arguments.length; _i++) {\n        childAggs[_i - 3] = arguments[_i];\n    }\n    return AggsContainer_1.AggsContainer(key, { histogram: assign({ field: field }, options) }, childAggs);\n}\nexports.HistogramBucket = HistogramBucket;\nfunction GeoboundsBucket(key, field, options) {\n    if (options === void 0) { options = {}; }\n    var childAggs = [];\n    for (var _i = 3; _i < arguments.length; _i++) {\n        childAggs[_i - 3] = arguments[_i];\n    }\n    return AggsContainer_1.AggsContainer(key, { geo_bounds: assign({ field: field }, options) }, childAggs);\n}\nexports.GeoboundsBucket = GeoboundsBucket;\nfunction DateHistogramBucket(key, field, options) {\n    if (options === void 0) { options = {}; }\n    var childAggs = [];\n    for (var _i = 3; _i < arguments.length; _i++) {\n        childAggs[_i - 3] = arguments[_i];\n    }\n    return AggsContainer_1.AggsContainer(key, { date_histogram: assign({ field: field }, options) }, childAggs);\n}\nexports.DateHistogramBucket = DateHistogramBucket;\n//# sourceMappingURL=BucketAggregations.js.map"]},"metadata":{},"sourceType":"script"}