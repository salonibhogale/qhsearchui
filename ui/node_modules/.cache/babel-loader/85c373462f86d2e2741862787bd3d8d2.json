{"ast":null,"code":"var _ = require('lodash');\n\nvar utils = require('./utils');\n\nvar errors = module.exports;\nvar canCapture = typeof Error.captureStackTrace === 'function';\nvar canStack = !!new Error().stack;\n\nfunction ErrorAbstract(msg, constructor, metadata) {\n  this.message = msg;\n  Error.call(this, this.message);\n\n  if (canCapture) {\n    Error.captureStackTrace(this, constructor);\n  } else if (canStack) {\n    this.stack = new Error().stack;\n  } else {\n    this.stack = '';\n  }\n\n  if (metadata) {\n    _.assign(this, metadata);\n\n    this.toString = function () {\n      return msg + ' :: ' + JSON.stringify(metadata);\n    };\n\n    this.toJSON = function () {\n      return _.assign({\n        msg: msg\n      }, metadata);\n    };\n  }\n}\n\nerrors._Abstract = ErrorAbstract;\nutils.inherits(ErrorAbstract, Error);\n/**\n * Connection Error\n * @param {String} [msg] - An error message that will probably end up in a log.\n */\n\nerrors.ConnectionFault = function ConnectionFault(msg) {\n  ErrorAbstract.call(this, msg || 'Connection Failure', errors.ConnectionFault);\n};\n\nutils.inherits(errors.ConnectionFault, ErrorAbstract);\n/**\n * No Living Connections\n * @param {String} [msg] - An error message that will probably end up in a log.\n */\n\nerrors.NoConnections = function NoConnections(msg) {\n  ErrorAbstract.call(this, msg || 'No Living connections', errors.NoConnections);\n};\n\nutils.inherits(errors.NoConnections, ErrorAbstract);\n/**\n * Generic Error\n * @param {String} [msg] - An error message that will probably end up in a log.\n */\n\nerrors.Generic = function Generic(msg, metadata) {\n  ErrorAbstract.call(this, msg || 'Generic Error', errors.Generic, metadata);\n};\n\nutils.inherits(errors.Generic, ErrorAbstract);\n/**\n * Request Timeout Error\n * @param {String} [msg] - An error message that will probably end up in a log.\n */\n\nerrors.RequestTimeout = function RequestTimeout(msg) {\n  ErrorAbstract.call(this, msg || 'Request Timeout', errors.RequestTimeout);\n};\n\nutils.inherits(errors.RequestTimeout, ErrorAbstract);\n/**\n * Request Body could not be parsed\n * @param {String} [msg] - An error message that will probably end up in a log.\n */\n\nerrors.Serialization = function Serialization(msg) {\n  ErrorAbstract.call(this, msg || 'Unable to parse/serialize body', errors.Serialization);\n};\n\nutils.inherits(errors.Serialization, ErrorAbstract);\n/**\n * Thrown when a browser compatability issue is detected (cough, IE, cough)\n */\n\nerrors.RequestTypeError = function RequestTypeError(feature) {\n  ErrorAbstract.call(this, 'Cross-domain AJAX requests ' + feature + ' are not supported', errors.RequestTypeError);\n};\n\nutils.inherits(errors.RequestTypeError, ErrorAbstract);\nvar statusCodes = [[300, 'Multiple Choices'], [301, 'Moved Permanently'], [302, 'Found'], [303, 'See Other'], [304, 'Not Modified'], [305, 'Use Proxy'], [307, 'Temporary Redirect'], [308, 'Permanent Redirect'], [400, 'Bad Request'], [401, 'Authentication Exception'], [402, 'Payment Required'], [403, ['Authorization Exception', 'Forbidden']], [404, 'Not Found'], [405, 'Method Not Allowed'], [406, 'Not Acceptable'], [407, 'Proxy Authentication Required'], [408, 'Request Timeout'], [409, 'Conflict'], [410, 'Gone'], [411, 'Length Required'], [412, 'Precondition Failed'], [413, 'Request Entity Too Large'], [414, 'Request URIToo Long'], [415, 'Unsupported Media Type'], [416, 'Requested Range Not Satisfiable'], [417, 'Expectation Failed'], [418, 'Im ATeapot'], [421, 'Too Many Connections From This IP'], [426, 'Upgrade Required'], [429, 'Too Many Requests'], [450, 'Blocked By Windows Parental Controls'], [494, 'Request Header Too Large'], [497, 'HTTPTo HTTPS'], [499, 'Client Closed Request'], [500, 'Internal Server Error'], [501, 'Not Implemented'], [502, 'Bad Gateway'], [503, 'Service Unavailable'], [504, 'Gateway Timeout'], [505, 'HTTPVersion Not Supported'], [506, 'Variant Also Negotiates'], [510, 'Not Extended']];\n\n_.each(statusCodes, function createStatusCodeError(tuple) {\n  var status = tuple[0];\n  var names = tuple[1];\n  var allNames = [].concat(names, status);\n  var primaryName = allNames[0];\n  var className = utils.studlyCase(primaryName);\n  allNames = _.uniq(allNames.concat(className));\n\n  function StatusCodeError(msg, metadata) {\n    this.status = status;\n    this.displayName = className;\n    var esErrObject = null;\n\n    if (_.isPlainObject(msg)) {\n      esErrObject = msg;\n      msg = null;\n    }\n\n    if (!esErrObject) {\n      // errors from es now come in two forms, an error string < 2.0 and\n      // an object >= 2.0\n      // TODO: remove after dropping support for < 2.0\n      ErrorAbstract.call(this, msg || primaryName, StatusCodeError, metadata);\n      return this;\n    }\n\n    msg = [].concat(esErrObject.root_cause || []).reduce(function (memo, cause) {\n      if (memo) memo += ' (and) ';\n      memo += '[' + cause.type + '] ' + cause.reason;\n\n      var extraData = _.omit(cause, ['type', 'reason']);\n\n      if (_.size(extraData)) {\n        memo += ', with ' + prettyPrint(extraData);\n      }\n\n      return memo;\n    }, '');\n\n    if (!msg) {\n      if (esErrObject.type) msg += '[' + esErrObject.type + '] ';\n      if (esErrObject.reason) msg += esErrObject.reason;\n    }\n\n    ErrorAbstract.call(this, msg || primaryName, StatusCodeError, metadata);\n    return this;\n  }\n\n  utils.inherits(StatusCodeError, ErrorAbstract);\n  allNames.forEach(function (name) {\n    errors[name] = StatusCodeError;\n  });\n});\n\nfunction prettyPrint(data) {\n  const path = [];\n  return function print(v) {\n    if (typeof v === 'object') {\n      if (path.indexOf(v) > -1) return '[circular]';\n      path.push(v);\n\n      try {\n        return '{ ' + _.map(v, function (subv, name) {\n          return name + '=' + print(subv);\n        }).join(' & ') + ' }';\n      } finally {\n        path.pop();\n      }\n    } else {\n      return JSON.stringify(v);\n    }\n  }(data);\n}","map":{"version":3,"sources":["/Users/mohitkumar/github/qhsearch/new_qhsearch/node_modules/elasticsearch/src/lib/errors.js"],"names":["_","require","utils","errors","module","exports","canCapture","Error","captureStackTrace","canStack","stack","ErrorAbstract","msg","constructor","metadata","message","call","assign","toString","JSON","stringify","toJSON","_Abstract","inherits","ConnectionFault","NoConnections","Generic","RequestTimeout","Serialization","RequestTypeError","feature","statusCodes","each","createStatusCodeError","tuple","status","names","allNames","concat","primaryName","className","studlyCase","uniq","StatusCodeError","displayName","esErrObject","isPlainObject","root_cause","reduce","memo","cause","type","reason","extraData","omit","size","prettyPrint","forEach","name","data","path","print","v","indexOf","push","map","subv","join","pop"],"mappings":"AAAA,IAAIA,CAAC,GAAGC,OAAO,CAAC,QAAD,CAAf;;AACA,IAAIC,KAAK,GAAGD,OAAO,CAAC,SAAD,CAAnB;;AACA,IAAIE,MAAM,GAAGC,MAAM,CAACC,OAApB;AAEA,IAAIC,UAAU,GAAG,OAAOC,KAAK,CAACC,iBAAb,KAAmC,UAApD;AACA,IAAIC,QAAQ,GAAG,CAAC,CAAC,IAAIF,KAAJ,GAAYG,KAA7B;;AAEA,SAASC,aAAT,CAAuBC,GAAvB,EAA4BC,WAA5B,EAAyCC,QAAzC,EAAmD;AACjD,OAAKC,OAAL,GAAeH,GAAf;AAEAL,EAAAA,KAAK,CAACS,IAAN,CAAW,IAAX,EAAiB,KAAKD,OAAtB;;AAEA,MAAIT,UAAJ,EAAgB;AACdC,IAAAA,KAAK,CAACC,iBAAN,CAAwB,IAAxB,EAA8BK,WAA9B;AACD,GAFD,MAEO,IAAIJ,QAAJ,EAAc;AACnB,SAAKC,KAAL,GAAa,IAAIH,KAAJ,GAAYG,KAAzB;AACD,GAFM,MAEA;AACL,SAAKA,KAAL,GAAa,EAAb;AACD;;AAED,MAAII,QAAJ,EAAc;AACZd,IAAAA,CAAC,CAACiB,MAAF,CAAS,IAAT,EAAeH,QAAf;;AAEA,SAAKI,QAAL,GAAgB,YAAW;AACzB,aAAON,GAAG,GAAG,MAAN,GAAeO,IAAI,CAACC,SAAL,CAAeN,QAAf,CAAtB;AACD,KAFD;;AAIA,SAAKO,MAAL,GAAc,YAAW;AACvB,aAAOrB,CAAC,CAACiB,MAAF,CACL;AACEL,QAAAA,GAAG,EAAEA;AADP,OADK,EAILE,QAJK,CAAP;AAMD,KAPD;AAQD;AACF;;AACDX,MAAM,CAACmB,SAAP,GAAmBX,aAAnB;AACAT,KAAK,CAACqB,QAAN,CAAeZ,aAAf,EAA8BJ,KAA9B;AAEA;;;;;AAIAJ,MAAM,CAACqB,eAAP,GAAyB,SAASA,eAAT,CAAyBZ,GAAzB,EAA8B;AACrDD,EAAAA,aAAa,CAACK,IAAd,CAAmB,IAAnB,EAAyBJ,GAAG,IAAI,oBAAhC,EAAsDT,MAAM,CAACqB,eAA7D;AACD,CAFD;;AAGAtB,KAAK,CAACqB,QAAN,CAAepB,MAAM,CAACqB,eAAtB,EAAuCb,aAAvC;AAEA;;;;;AAIAR,MAAM,CAACsB,aAAP,GAAuB,SAASA,aAAT,CAAuBb,GAAvB,EAA4B;AACjDD,EAAAA,aAAa,CAACK,IAAd,CACE,IADF,EAEEJ,GAAG,IAAI,uBAFT,EAGET,MAAM,CAACsB,aAHT;AAKD,CAND;;AAOAvB,KAAK,CAACqB,QAAN,CAAepB,MAAM,CAACsB,aAAtB,EAAqCd,aAArC;AAEA;;;;;AAIAR,MAAM,CAACuB,OAAP,GAAiB,SAASA,OAAT,CAAiBd,GAAjB,EAAsBE,QAAtB,EAAgC;AAC/CH,EAAAA,aAAa,CAACK,IAAd,CAAmB,IAAnB,EAAyBJ,GAAG,IAAI,eAAhC,EAAiDT,MAAM,CAACuB,OAAxD,EAAiEZ,QAAjE;AACD,CAFD;;AAGAZ,KAAK,CAACqB,QAAN,CAAepB,MAAM,CAACuB,OAAtB,EAA+Bf,aAA/B;AAEA;;;;;AAIAR,MAAM,CAACwB,cAAP,GAAwB,SAASA,cAAT,CAAwBf,GAAxB,EAA6B;AACnDD,EAAAA,aAAa,CAACK,IAAd,CAAmB,IAAnB,EAAyBJ,GAAG,IAAI,iBAAhC,EAAmDT,MAAM,CAACwB,cAA1D;AACD,CAFD;;AAGAzB,KAAK,CAACqB,QAAN,CAAepB,MAAM,CAACwB,cAAtB,EAAsChB,aAAtC;AAEA;;;;;AAIAR,MAAM,CAACyB,aAAP,GAAuB,SAASA,aAAT,CAAuBhB,GAAvB,EAA4B;AACjDD,EAAAA,aAAa,CAACK,IAAd,CACE,IADF,EAEEJ,GAAG,IAAI,gCAFT,EAGET,MAAM,CAACyB,aAHT;AAKD,CAND;;AAOA1B,KAAK,CAACqB,QAAN,CAAepB,MAAM,CAACyB,aAAtB,EAAqCjB,aAArC;AAEA;;;;AAGAR,MAAM,CAAC0B,gBAAP,GAA0B,SAASA,gBAAT,CAA0BC,OAA1B,EAAmC;AAC3DnB,EAAAA,aAAa,CAACK,IAAd,CACE,IADF,EAEE,gCAAgCc,OAAhC,GAA0C,oBAF5C,EAGE3B,MAAM,CAAC0B,gBAHT;AAKD,CAND;;AAOA3B,KAAK,CAACqB,QAAN,CAAepB,MAAM,CAAC0B,gBAAtB,EAAwClB,aAAxC;AAEA,IAAIoB,WAAW,GAAG,CAChB,CAAC,GAAD,EAAM,kBAAN,CADgB,EAEhB,CAAC,GAAD,EAAM,mBAAN,CAFgB,EAGhB,CAAC,GAAD,EAAM,OAAN,CAHgB,EAIhB,CAAC,GAAD,EAAM,WAAN,CAJgB,EAKhB,CAAC,GAAD,EAAM,cAAN,CALgB,EAMhB,CAAC,GAAD,EAAM,WAAN,CANgB,EAOhB,CAAC,GAAD,EAAM,oBAAN,CAPgB,EAQhB,CAAC,GAAD,EAAM,oBAAN,CARgB,EAShB,CAAC,GAAD,EAAM,aAAN,CATgB,EAUhB,CAAC,GAAD,EAAM,0BAAN,CAVgB,EAWhB,CAAC,GAAD,EAAM,kBAAN,CAXgB,EAYhB,CAAC,GAAD,EAAM,CAAC,yBAAD,EAA4B,WAA5B,CAAN,CAZgB,EAahB,CAAC,GAAD,EAAM,WAAN,CAbgB,EAchB,CAAC,GAAD,EAAM,oBAAN,CAdgB,EAehB,CAAC,GAAD,EAAM,gBAAN,CAfgB,EAgBhB,CAAC,GAAD,EAAM,+BAAN,CAhBgB,EAiBhB,CAAC,GAAD,EAAM,iBAAN,CAjBgB,EAkBhB,CAAC,GAAD,EAAM,UAAN,CAlBgB,EAmBhB,CAAC,GAAD,EAAM,MAAN,CAnBgB,EAoBhB,CAAC,GAAD,EAAM,iBAAN,CApBgB,EAqBhB,CAAC,GAAD,EAAM,qBAAN,CArBgB,EAsBhB,CAAC,GAAD,EAAM,0BAAN,CAtBgB,EAuBhB,CAAC,GAAD,EAAM,qBAAN,CAvBgB,EAwBhB,CAAC,GAAD,EAAM,wBAAN,CAxBgB,EAyBhB,CAAC,GAAD,EAAM,iCAAN,CAzBgB,EA0BhB,CAAC,GAAD,EAAM,oBAAN,CA1BgB,EA2BhB,CAAC,GAAD,EAAM,YAAN,CA3BgB,EA4BhB,CAAC,GAAD,EAAM,mCAAN,CA5BgB,EA6BhB,CAAC,GAAD,EAAM,kBAAN,CA7BgB,EA8BhB,CAAC,GAAD,EAAM,mBAAN,CA9BgB,EA+BhB,CAAC,GAAD,EAAM,sCAAN,CA/BgB,EAgChB,CAAC,GAAD,EAAM,0BAAN,CAhCgB,EAiChB,CAAC,GAAD,EAAM,cAAN,CAjCgB,EAkChB,CAAC,GAAD,EAAM,uBAAN,CAlCgB,EAmChB,CAAC,GAAD,EAAM,uBAAN,CAnCgB,EAoChB,CAAC,GAAD,EAAM,iBAAN,CApCgB,EAqChB,CAAC,GAAD,EAAM,aAAN,CArCgB,EAsChB,CAAC,GAAD,EAAM,qBAAN,CAtCgB,EAuChB,CAAC,GAAD,EAAM,iBAAN,CAvCgB,EAwChB,CAAC,GAAD,EAAM,2BAAN,CAxCgB,EAyChB,CAAC,GAAD,EAAM,yBAAN,CAzCgB,EA0ChB,CAAC,GAAD,EAAM,cAAN,CA1CgB,CAAlB;;AA6CA/B,CAAC,CAACgC,IAAF,CAAOD,WAAP,EAAoB,SAASE,qBAAT,CAA+BC,KAA/B,EAAsC;AACxD,MAAIC,MAAM,GAAGD,KAAK,CAAC,CAAD,CAAlB;AACA,MAAIE,KAAK,GAAGF,KAAK,CAAC,CAAD,CAAjB;AACA,MAAIG,QAAQ,GAAG,GAAGC,MAAH,CAAUF,KAAV,EAAiBD,MAAjB,CAAf;AACA,MAAII,WAAW,GAAGF,QAAQ,CAAC,CAAD,CAA1B;AACA,MAAIG,SAAS,GAAGtC,KAAK,CAACuC,UAAN,CAAiBF,WAAjB,CAAhB;AACAF,EAAAA,QAAQ,GAAGrC,CAAC,CAAC0C,IAAF,CAAOL,QAAQ,CAACC,MAAT,CAAgBE,SAAhB,CAAP,CAAX;;AAEA,WAASG,eAAT,CAAyB/B,GAAzB,EAA8BE,QAA9B,EAAwC;AACtC,SAAKqB,MAAL,GAAcA,MAAd;AACA,SAAKS,WAAL,GAAmBJ,SAAnB;AAEA,QAAIK,WAAW,GAAG,IAAlB;;AACA,QAAI7C,CAAC,CAAC8C,aAAF,CAAgBlC,GAAhB,CAAJ,EAA0B;AACxBiC,MAAAA,WAAW,GAAGjC,GAAd;AACAA,MAAAA,GAAG,GAAG,IAAN;AACD;;AAED,QAAI,CAACiC,WAAL,EAAkB;AAChB;AACA;AACA;AACAlC,MAAAA,aAAa,CAACK,IAAd,CAAmB,IAAnB,EAAyBJ,GAAG,IAAI2B,WAAhC,EAA6CI,eAA7C,EAA8D7B,QAA9D;AACA,aAAO,IAAP;AACD;;AAEDF,IAAAA,GAAG,GAAG,GAAG0B,MAAH,CAAUO,WAAW,CAACE,UAAZ,IAA0B,EAApC,EAAwCC,MAAxC,CAA+C,UAASC,IAAT,EAAeC,KAAf,EAAsB;AACzE,UAAID,IAAJ,EAAUA,IAAI,IAAI,SAAR;AAEVA,MAAAA,IAAI,IAAI,MAAMC,KAAK,CAACC,IAAZ,GAAmB,IAAnB,GAA0BD,KAAK,CAACE,MAAxC;;AAEA,UAAIC,SAAS,GAAGrD,CAAC,CAACsD,IAAF,CAAOJ,KAAP,EAAc,CAAC,MAAD,EAAS,QAAT,CAAd,CAAhB;;AACA,UAAIlD,CAAC,CAACuD,IAAF,CAAOF,SAAP,CAAJ,EAAuB;AACrBJ,QAAAA,IAAI,IAAI,YAAYO,WAAW,CAACH,SAAD,CAA/B;AACD;;AAED,aAAOJ,IAAP;AACD,KAXK,EAWH,EAXG,CAAN;;AAaA,QAAI,CAACrC,GAAL,EAAU;AACR,UAAIiC,WAAW,CAACM,IAAhB,EAAsBvC,GAAG,IAAI,MAAMiC,WAAW,CAACM,IAAlB,GAAyB,IAAhC;AACtB,UAAIN,WAAW,CAACO,MAAhB,EAAwBxC,GAAG,IAAIiC,WAAW,CAACO,MAAnB;AACzB;;AAEDzC,IAAAA,aAAa,CAACK,IAAd,CAAmB,IAAnB,EAAyBJ,GAAG,IAAI2B,WAAhC,EAA6CI,eAA7C,EAA8D7B,QAA9D;AACA,WAAO,IAAP;AACD;;AACDZ,EAAAA,KAAK,CAACqB,QAAN,CAAeoB,eAAf,EAAgChC,aAAhC;AAEA0B,EAAAA,QAAQ,CAACoB,OAAT,CAAiB,UAASC,IAAT,EAAe;AAC9BvD,IAAAA,MAAM,CAACuD,IAAD,CAAN,GAAef,eAAf;AACD,GAFD;AAGD,CApDD;;AAsDA,SAASa,WAAT,CAAqBG,IAArB,EAA2B;AACzB,QAAMC,IAAI,GAAG,EAAb;AACA,SAAQ,SAASC,KAAT,CAAeC,CAAf,EAAkB;AACxB,QAAI,OAAOA,CAAP,KAAa,QAAjB,EAA2B;AACzB,UAAIF,IAAI,CAACG,OAAL,CAAaD,CAAb,IAAkB,CAAC,CAAvB,EAA0B,OAAO,YAAP;AAC1BF,MAAAA,IAAI,CAACI,IAAL,CAAUF,CAAV;;AACA,UAAI;AACF,eACE,OACA9D,CAAC,CAACiE,GAAF,CAAMH,CAAN,EAAS,UAASI,IAAT,EAAeR,IAAf,EAAqB;AAC5B,iBAAOA,IAAI,GAAG,GAAP,GAAaG,KAAK,CAACK,IAAD,CAAzB;AACD,SAFD,EAEGC,IAFH,CAEQ,KAFR,CADA,GAIA,IALF;AAOD,OARD,SAQU;AACRP,QAAAA,IAAI,CAACQ,GAAL;AACD;AACF,KAdD,MAcO;AACL,aAAOjD,IAAI,CAACC,SAAL,CAAe0C,CAAf,CAAP;AACD;AACF,GAlBM,CAkBJH,IAlBI,CAAP;AAmBD","sourcesContent":["var _ = require('lodash');\nvar utils = require('./utils');\nvar errors = module.exports;\n\nvar canCapture = typeof Error.captureStackTrace === 'function';\nvar canStack = !!new Error().stack;\n\nfunction ErrorAbstract(msg, constructor, metadata) {\n  this.message = msg;\n\n  Error.call(this, this.message);\n\n  if (canCapture) {\n    Error.captureStackTrace(this, constructor);\n  } else if (canStack) {\n    this.stack = new Error().stack;\n  } else {\n    this.stack = '';\n  }\n\n  if (metadata) {\n    _.assign(this, metadata);\n\n    this.toString = function() {\n      return msg + ' :: ' + JSON.stringify(metadata);\n    };\n\n    this.toJSON = function() {\n      return _.assign(\n        {\n          msg: msg,\n        },\n        metadata\n      );\n    };\n  }\n}\nerrors._Abstract = ErrorAbstract;\nutils.inherits(ErrorAbstract, Error);\n\n/**\n * Connection Error\n * @param {String} [msg] - An error message that will probably end up in a log.\n */\nerrors.ConnectionFault = function ConnectionFault(msg) {\n  ErrorAbstract.call(this, msg || 'Connection Failure', errors.ConnectionFault);\n};\nutils.inherits(errors.ConnectionFault, ErrorAbstract);\n\n/**\n * No Living Connections\n * @param {String} [msg] - An error message that will probably end up in a log.\n */\nerrors.NoConnections = function NoConnections(msg) {\n  ErrorAbstract.call(\n    this,\n    msg || 'No Living connections',\n    errors.NoConnections\n  );\n};\nutils.inherits(errors.NoConnections, ErrorAbstract);\n\n/**\n * Generic Error\n * @param {String} [msg] - An error message that will probably end up in a log.\n */\nerrors.Generic = function Generic(msg, metadata) {\n  ErrorAbstract.call(this, msg || 'Generic Error', errors.Generic, metadata);\n};\nutils.inherits(errors.Generic, ErrorAbstract);\n\n/**\n * Request Timeout Error\n * @param {String} [msg] - An error message that will probably end up in a log.\n */\nerrors.RequestTimeout = function RequestTimeout(msg) {\n  ErrorAbstract.call(this, msg || 'Request Timeout', errors.RequestTimeout);\n};\nutils.inherits(errors.RequestTimeout, ErrorAbstract);\n\n/**\n * Request Body could not be parsed\n * @param {String} [msg] - An error message that will probably end up in a log.\n */\nerrors.Serialization = function Serialization(msg) {\n  ErrorAbstract.call(\n    this,\n    msg || 'Unable to parse/serialize body',\n    errors.Serialization\n  );\n};\nutils.inherits(errors.Serialization, ErrorAbstract);\n\n/**\n * Thrown when a browser compatability issue is detected (cough, IE, cough)\n */\nerrors.RequestTypeError = function RequestTypeError(feature) {\n  ErrorAbstract.call(\n    this,\n    'Cross-domain AJAX requests ' + feature + ' are not supported',\n    errors.RequestTypeError\n  );\n};\nutils.inherits(errors.RequestTypeError, ErrorAbstract);\n\nvar statusCodes = [\n  [300, 'Multiple Choices'],\n  [301, 'Moved Permanently'],\n  [302, 'Found'],\n  [303, 'See Other'],\n  [304, 'Not Modified'],\n  [305, 'Use Proxy'],\n  [307, 'Temporary Redirect'],\n  [308, 'Permanent Redirect'],\n  [400, 'Bad Request'],\n  [401, 'Authentication Exception'],\n  [402, 'Payment Required'],\n  [403, ['Authorization Exception', 'Forbidden']],\n  [404, 'Not Found'],\n  [405, 'Method Not Allowed'],\n  [406, 'Not Acceptable'],\n  [407, 'Proxy Authentication Required'],\n  [408, 'Request Timeout'],\n  [409, 'Conflict'],\n  [410, 'Gone'],\n  [411, 'Length Required'],\n  [412, 'Precondition Failed'],\n  [413, 'Request Entity Too Large'],\n  [414, 'Request URIToo Long'],\n  [415, 'Unsupported Media Type'],\n  [416, 'Requested Range Not Satisfiable'],\n  [417, 'Expectation Failed'],\n  [418, 'Im ATeapot'],\n  [421, 'Too Many Connections From This IP'],\n  [426, 'Upgrade Required'],\n  [429, 'Too Many Requests'],\n  [450, 'Blocked By Windows Parental Controls'],\n  [494, 'Request Header Too Large'],\n  [497, 'HTTPTo HTTPS'],\n  [499, 'Client Closed Request'],\n  [500, 'Internal Server Error'],\n  [501, 'Not Implemented'],\n  [502, 'Bad Gateway'],\n  [503, 'Service Unavailable'],\n  [504, 'Gateway Timeout'],\n  [505, 'HTTPVersion Not Supported'],\n  [506, 'Variant Also Negotiates'],\n  [510, 'Not Extended'],\n];\n\n_.each(statusCodes, function createStatusCodeError(tuple) {\n  var status = tuple[0];\n  var names = tuple[1];\n  var allNames = [].concat(names, status);\n  var primaryName = allNames[0];\n  var className = utils.studlyCase(primaryName);\n  allNames = _.uniq(allNames.concat(className));\n\n  function StatusCodeError(msg, metadata) {\n    this.status = status;\n    this.displayName = className;\n\n    var esErrObject = null;\n    if (_.isPlainObject(msg)) {\n      esErrObject = msg;\n      msg = null;\n    }\n\n    if (!esErrObject) {\n      // errors from es now come in two forms, an error string < 2.0 and\n      // an object >= 2.0\n      // TODO: remove after dropping support for < 2.0\n      ErrorAbstract.call(this, msg || primaryName, StatusCodeError, metadata);\n      return this;\n    }\n\n    msg = [].concat(esErrObject.root_cause || []).reduce(function(memo, cause) {\n      if (memo) memo += ' (and) ';\n\n      memo += '[' + cause.type + '] ' + cause.reason;\n\n      var extraData = _.omit(cause, ['type', 'reason']);\n      if (_.size(extraData)) {\n        memo += ', with ' + prettyPrint(extraData);\n      }\n\n      return memo;\n    }, '');\n\n    if (!msg) {\n      if (esErrObject.type) msg += '[' + esErrObject.type + '] ';\n      if (esErrObject.reason) msg += esErrObject.reason;\n    }\n\n    ErrorAbstract.call(this, msg || primaryName, StatusCodeError, metadata);\n    return this;\n  }\n  utils.inherits(StatusCodeError, ErrorAbstract);\n\n  allNames.forEach(function(name) {\n    errors[name] = StatusCodeError;\n  });\n});\n\nfunction prettyPrint(data) {\n  const path = [];\n  return (function print(v) {\n    if (typeof v === 'object') {\n      if (path.indexOf(v) > -1) return '[circular]';\n      path.push(v);\n      try {\n        return (\n          '{ ' +\n          _.map(v, function(subv, name) {\n            return name + '=' + print(subv);\n          }).join(' & ') +\n          ' }'\n        );\n      } finally {\n        path.pop();\n      }\n    } else {\n      return JSON.stringify(v);\n    }\n  })(data);\n}\n"]},"metadata":{},"sourceType":"script"}