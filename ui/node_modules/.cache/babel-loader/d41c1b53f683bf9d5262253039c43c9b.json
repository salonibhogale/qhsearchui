{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { findDOMNode } from 'react-dom';\nimport createReactClass from 'create-react-class';\nimport contains from 'rc-util/es/Dom/contains';\nimport addEventListener from 'rc-util/lib/Dom/addEventListener';\nimport Popup from './Popup';\nimport { getAlignFromPlacement, getPopupClassNameFromAlign as _getPopupClassNameFromAlign } from './utils';\nimport getContainerRenderMixin from 'rc-util/lib/getContainerRenderMixin';\n\nfunction noop() {}\n\nfunction returnEmptyString() {\n  return '';\n}\n\nfunction returnDocument() {\n  return window.document;\n}\n\nvar isMobile = typeof navigator !== 'undefined' && !!navigator.userAgent.match(/(Android|iPhone|iPad|iPod|iOS|UCWEB)/i);\nvar ALL_HANDLERS = ['onClick', 'onMouseDown', 'onTouchStart', 'onMouseEnter', 'onMouseLeave', 'onFocus', 'onBlur'];\nvar Trigger = createReactClass({\n  displayName: 'Trigger',\n  propTypes: {\n    children: PropTypes.any,\n    action: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]),\n    showAction: PropTypes.any,\n    hideAction: PropTypes.any,\n    getPopupClassNameFromAlign: PropTypes.any,\n    onPopupVisibleChange: PropTypes.func,\n    afterPopupVisibleChange: PropTypes.func,\n    popup: PropTypes.oneOfType([PropTypes.node, PropTypes.func]).isRequired,\n    popupStyle: PropTypes.object,\n    prefixCls: PropTypes.string,\n    popupClassName: PropTypes.string,\n    popupPlacement: PropTypes.string,\n    builtinPlacements: PropTypes.object,\n    popupTransitionName: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n    popupAnimation: PropTypes.any,\n    mouseEnterDelay: PropTypes.number,\n    mouseLeaveDelay: PropTypes.number,\n    zIndex: PropTypes.number,\n    focusDelay: PropTypes.number,\n    blurDelay: PropTypes.number,\n    getPopupContainer: PropTypes.func,\n    getDocument: PropTypes.func,\n    destroyPopupOnHide: PropTypes.bool,\n    mask: PropTypes.bool,\n    maskClosable: PropTypes.bool,\n    onPopupAlign: PropTypes.func,\n    popupAlign: PropTypes.object,\n    popupVisible: PropTypes.bool,\n    maskTransitionName: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n    maskAnimation: PropTypes.string\n  },\n  mixins: [getContainerRenderMixin({\n    autoMount: false,\n    isVisible: function isVisible(instance) {\n      return instance.state.popupVisible;\n    },\n    getContainer: function getContainer(instance) {\n      var props = instance.props;\n      var popupContainer = document.createElement('div');\n      popupContainer.style.position = 'absolute';\n      popupContainer.style.top = '0';\n      popupContainer.style.left = '0';\n      popupContainer.style.width = '100%';\n      var mountNode = props.getPopupContainer ? props.getPopupContainer(findDOMNode(instance)) : props.getDocument().body;\n      mountNode.appendChild(popupContainer);\n      return popupContainer;\n    }\n  })],\n  getDefaultProps: function getDefaultProps() {\n    return {\n      prefixCls: 'rc-trigger-popup',\n      getPopupClassNameFromAlign: returnEmptyString,\n      getDocument: returnDocument,\n      onPopupVisibleChange: noop,\n      afterPopupVisibleChange: noop,\n      onPopupAlign: noop,\n      popupClassName: '',\n      mouseEnterDelay: 0,\n      mouseLeaveDelay: 0.1,\n      focusDelay: 0,\n      blurDelay: 0.15,\n      popupStyle: {},\n      destroyPopupOnHide: false,\n      popupAlign: {},\n      defaultPopupVisible: false,\n      mask: false,\n      maskClosable: true,\n      action: [],\n      showAction: [],\n      hideAction: []\n    };\n  },\n  getInitialState: function getInitialState() {\n    var props = this.props;\n    var popupVisible = void 0;\n\n    if ('popupVisible' in props) {\n      popupVisible = !!props.popupVisible;\n    } else {\n      popupVisible = !!props.defaultPopupVisible;\n    }\n\n    return {\n      popupVisible: popupVisible\n    };\n  },\n  componentWillMount: function componentWillMount() {\n    var _this = this;\n\n    ALL_HANDLERS.forEach(function (h) {\n      _this['fire' + h] = function (e) {\n        _this.fireEvents(h, e);\n      };\n    });\n  },\n  componentDidMount: function componentDidMount() {\n    this.componentDidUpdate({}, {\n      popupVisible: this.state.popupVisible\n    });\n  },\n  componentWillReceiveProps: function componentWillReceiveProps(_ref) {\n    var popupVisible = _ref.popupVisible;\n\n    if (popupVisible !== undefined) {\n      this.setState({\n        popupVisible: popupVisible\n      });\n    }\n  },\n  componentDidUpdate: function componentDidUpdate(_, prevState) {\n    var props = this.props;\n    var state = this.state;\n    this.renderComponent(null, function () {\n      if (prevState.popupVisible !== state.popupVisible) {\n        props.afterPopupVisibleChange(state.popupVisible);\n      }\n    });\n\n    if (state.popupVisible) {\n      var currentDocument = void 0;\n\n      if (!this.clickOutsideHandler && this.isClickToHide()) {\n        currentDocument = props.getDocument();\n        this.clickOutsideHandler = addEventListener(currentDocument, 'mousedown', this.onDocumentClick);\n      }\n\n      if (!this.touchOutsideHandler && isMobile) {\n        currentDocument = currentDocument || props.getDocument();\n        this.touchOutsideHandler = addEventListener(currentDocument, 'click', this.onDocumentClick);\n      }\n\n      return;\n    }\n\n    this.clearOutsideHandler();\n  },\n  componentWillUnmount: function componentWillUnmount() {\n    this.clearDelayTimer();\n    this.clearOutsideHandler();\n  },\n  onMouseEnter: function onMouseEnter(e) {\n    this.fireEvents('onMouseEnter', e);\n    this.delaySetPopupVisible(true, this.props.mouseEnterDelay);\n  },\n  onMouseLeave: function onMouseLeave(e) {\n    this.fireEvents('onMouseLeave', e);\n    this.delaySetPopupVisible(false, this.props.mouseLeaveDelay);\n  },\n  onPopupMouseEnter: function onPopupMouseEnter() {\n    this.clearDelayTimer();\n  },\n  onPopupMouseLeave: function onPopupMouseLeave(e) {\n    if (e.relatedTarget && !e.relatedTarget.setTimeout && this._component && this._component.getPopupDomNode && contains(this._component.getPopupDomNode(), e.relatedTarget)) {\n      return;\n    }\n\n    this.delaySetPopupVisible(false, this.props.mouseLeaveDelay);\n  },\n  onFocus: function onFocus(e) {\n    this.fireEvents('onFocus', e);\n    this.clearDelayTimer();\n\n    if (this.isFocusToShow()) {\n      this.focusTime = Date.now();\n      this.delaySetPopupVisible(true, this.props.focusDelay);\n    }\n  },\n  onMouseDown: function onMouseDown(e) {\n    this.fireEvents('onMouseDown', e);\n    this.preClickTime = Date.now();\n  },\n  onTouchStart: function onTouchStart(e) {\n    this.fireEvents('onTouchStart', e);\n    this.preTouchTime = Date.now();\n  },\n  onBlur: function onBlur(e) {\n    this.fireEvents('onBlur', e);\n    this.clearDelayTimer();\n\n    if (this.isBlurToHide()) {\n      this.delaySetPopupVisible(false, this.props.blurDelay);\n    }\n  },\n  onClick: function onClick(event) {\n    this.fireEvents('onClick', event);\n\n    if (this.focusTime) {\n      var preTime = void 0;\n\n      if (this.preClickTime && this.preTouchTime) {\n        preTime = Math.min(this.preClickTime, this.preTouchTime);\n      } else if (this.preClickTime) {\n        preTime = this.preClickTime;\n      } else if (this.preTouchTime) {\n        preTime = this.preTouchTime;\n      }\n\n      if (Math.abs(preTime - this.focusTime) < 20) {\n        return;\n      }\n\n      this.focusTime = 0;\n    }\n\n    this.preClickTime = 0;\n    this.preTouchTime = 0;\n    event.preventDefault();\n    var nextVisible = !this.state.popupVisible;\n\n    if (this.isClickToHide() && !nextVisible || nextVisible && this.isClickToShow()) {\n      this.setPopupVisible(!this.state.popupVisible);\n    }\n  },\n  onDocumentClick: function onDocumentClick(event) {\n    if (this.props.mask && !this.props.maskClosable) {\n      return;\n    }\n\n    var target = event.target;\n    var root = findDOMNode(this);\n    var popupNode = this.getPopupDomNode();\n\n    if (!contains(root, target) && !contains(popupNode, target)) {\n      this.close();\n    }\n  },\n  getPopupDomNode: function getPopupDomNode() {\n    if (this._component && this._component.getPopupDomNode) {\n      return this._component.getPopupDomNode();\n    }\n\n    return null;\n  },\n  getRootDomNode: function getRootDomNode() {\n    return findDOMNode(this);\n  },\n  getPopupClassNameFromAlign: function getPopupClassNameFromAlign(align) {\n    var className = [];\n    var props = this.props;\n    var popupPlacement = props.popupPlacement,\n        builtinPlacements = props.builtinPlacements,\n        prefixCls = props.prefixCls;\n\n    if (popupPlacement && builtinPlacements) {\n      className.push(_getPopupClassNameFromAlign(builtinPlacements, prefixCls, align));\n    }\n\n    if (props.getPopupClassNameFromAlign) {\n      className.push(props.getPopupClassNameFromAlign(align));\n    }\n\n    return className.join(' ');\n  },\n  getPopupAlign: function getPopupAlign() {\n    var props = this.props;\n    var popupPlacement = props.popupPlacement,\n        popupAlign = props.popupAlign,\n        builtinPlacements = props.builtinPlacements;\n\n    if (popupPlacement && builtinPlacements) {\n      return getAlignFromPlacement(builtinPlacements, popupPlacement, popupAlign);\n    }\n\n    return popupAlign;\n  },\n  getComponent: function getComponent() {\n    var props = this.props,\n        state = this.state;\n    var mouseProps = {};\n\n    if (this.isMouseEnterToShow()) {\n      mouseProps.onMouseEnter = this.onPopupMouseEnter;\n    }\n\n    if (this.isMouseLeaveToHide()) {\n      mouseProps.onMouseLeave = this.onPopupMouseLeave;\n    }\n\n    return React.createElement(Popup, _extends({\n      prefixCls: props.prefixCls,\n      destroyPopupOnHide: props.destroyPopupOnHide,\n      visible: state.popupVisible,\n      className: props.popupClassName,\n      action: props.action,\n      align: this.getPopupAlign(),\n      onAlign: props.onPopupAlign,\n      animation: props.popupAnimation,\n      getClassNameFromAlign: this.getPopupClassNameFromAlign\n    }, mouseProps, {\n      getRootDomNode: this.getRootDomNode,\n      style: props.popupStyle,\n      mask: props.mask,\n      zIndex: props.zIndex,\n      transitionName: props.popupTransitionName,\n      maskAnimation: props.maskAnimation,\n      maskTransitionName: props.maskTransitionName\n    }), typeof props.popup === 'function' ? props.popup() : props.popup);\n  },\n  setPopupVisible: function setPopupVisible(popupVisible) {\n    this.clearDelayTimer();\n\n    if (this.state.popupVisible !== popupVisible) {\n      if (!('popupVisible' in this.props)) {\n        this.setState({\n          popupVisible: popupVisible\n        });\n      }\n\n      this.props.onPopupVisibleChange(popupVisible);\n    }\n  },\n  delaySetPopupVisible: function delaySetPopupVisible(visible, delayS) {\n    var _this2 = this;\n\n    var delay = delayS * 1000;\n    this.clearDelayTimer();\n\n    if (delay) {\n      this.delayTimer = setTimeout(function () {\n        _this2.setPopupVisible(visible);\n\n        _this2.clearDelayTimer();\n      }, delay);\n    } else {\n      this.setPopupVisible(visible);\n    }\n  },\n  clearDelayTimer: function clearDelayTimer() {\n    if (this.delayTimer) {\n      clearTimeout(this.delayTimer);\n      this.delayTimer = null;\n    }\n  },\n  clearOutsideHandler: function clearOutsideHandler() {\n    if (this.clickOutsideHandler) {\n      this.clickOutsideHandler.remove();\n      this.clickOutsideHandler = null;\n    }\n\n    if (this.touchOutsideHandler) {\n      this.touchOutsideHandler.remove();\n      this.touchOutsideHandler = null;\n    }\n  },\n  createTwoChains: function createTwoChains(event) {\n    var childPros = this.props.children.props;\n    var props = this.props;\n\n    if (childPros[event] && props[event]) {\n      return this['fire' + event];\n    }\n\n    return childPros[event] || props[event];\n  },\n  isClickToShow: function isClickToShow() {\n    var _props = this.props,\n        action = _props.action,\n        showAction = _props.showAction;\n    return action.indexOf('click') !== -1 || showAction.indexOf('click') !== -1;\n  },\n  isClickToHide: function isClickToHide() {\n    var _props2 = this.props,\n        action = _props2.action,\n        hideAction = _props2.hideAction;\n    return action.indexOf('click') !== -1 || hideAction.indexOf('click') !== -1;\n  },\n  isMouseEnterToShow: function isMouseEnterToShow() {\n    var _props3 = this.props,\n        action = _props3.action,\n        showAction = _props3.showAction;\n    return action.indexOf('hover') !== -1 || showAction.indexOf('mouseEnter') !== -1;\n  },\n  isMouseLeaveToHide: function isMouseLeaveToHide() {\n    var _props4 = this.props,\n        action = _props4.action,\n        hideAction = _props4.hideAction;\n    return action.indexOf('hover') !== -1 || hideAction.indexOf('mouseLeave') !== -1;\n  },\n  isFocusToShow: function isFocusToShow() {\n    var _props5 = this.props,\n        action = _props5.action,\n        showAction = _props5.showAction;\n    return action.indexOf('focus') !== -1 || showAction.indexOf('focus') !== -1;\n  },\n  isBlurToHide: function isBlurToHide() {\n    var _props6 = this.props,\n        action = _props6.action,\n        hideAction = _props6.hideAction;\n    return action.indexOf('focus') !== -1 || hideAction.indexOf('blur') !== -1;\n  },\n  forcePopupAlign: function forcePopupAlign() {\n    if (this.state.popupVisible && this._component && this._component.alignInstance) {\n      this._component.alignInstance.forceAlign();\n    }\n  },\n  fireEvents: function fireEvents(type, e) {\n    var childCallback = this.props.children.props[type];\n\n    if (childCallback) {\n      childCallback(e);\n    }\n\n    var callback = this.props[type];\n\n    if (callback) {\n      callback(e);\n    }\n  },\n  close: function close() {\n    this.setPopupVisible(false);\n  },\n  render: function render() {\n    var props = this.props;\n    var children = props.children;\n    var child = React.Children.only(children);\n    var newChildProps = {};\n\n    if (this.isClickToHide() || this.isClickToShow()) {\n      newChildProps.onClick = this.onClick;\n      newChildProps.onMouseDown = this.onMouseDown;\n      newChildProps.onTouchStart = this.onTouchStart;\n    } else {\n      newChildProps.onClick = this.createTwoChains('onClick');\n      newChildProps.onMouseDown = this.createTwoChains('onMouseDown');\n      newChildProps.onTouchStart = this.createTwoChains('onTouchStart');\n    }\n\n    if (this.isMouseEnterToShow()) {\n      newChildProps.onMouseEnter = this.onMouseEnter;\n    } else {\n      newChildProps.onMouseEnter = this.createTwoChains('onMouseEnter');\n    }\n\n    if (this.isMouseLeaveToHide()) {\n      newChildProps.onMouseLeave = this.onMouseLeave;\n    } else {\n      newChildProps.onMouseLeave = this.createTwoChains('onMouseLeave');\n    }\n\n    if (this.isFocusToShow() || this.isBlurToHide()) {\n      newChildProps.onFocus = this.onFocus;\n      newChildProps.onBlur = this.onBlur;\n    } else {\n      newChildProps.onFocus = this.createTwoChains('onFocus');\n      newChildProps.onBlur = this.createTwoChains('onBlur');\n    }\n\n    return React.cloneElement(child, newChildProps);\n  }\n});\nexport default Trigger;","map":{"version":3,"sources":["/Users/salonibhogale/qhsearchui/node_modules/searchkit-datefilter/node_modules/rc-trigger/es/index.js"],"names":["_extends","React","PropTypes","findDOMNode","createReactClass","contains","addEventListener","Popup","getAlignFromPlacement","getPopupClassNameFromAlign","_getPopupClassNameFromAlign","getContainerRenderMixin","noop","returnEmptyString","returnDocument","window","document","isMobile","navigator","userAgent","match","ALL_HANDLERS","Trigger","displayName","propTypes","children","any","action","oneOfType","string","arrayOf","showAction","hideAction","onPopupVisibleChange","func","afterPopupVisibleChange","popup","node","isRequired","popupStyle","object","prefixCls","popupClassName","popupPlacement","builtinPlacements","popupTransitionName","popupAnimation","mouseEnterDelay","number","mouseLeaveDelay","zIndex","focusDelay","blurDelay","getPopupContainer","getDocument","destroyPopupOnHide","bool","mask","maskClosable","onPopupAlign","popupAlign","popupVisible","maskTransitionName","maskAnimation","mixins","autoMount","isVisible","instance","state","getContainer","props","popupContainer","createElement","style","position","top","left","width","mountNode","body","appendChild","getDefaultProps","defaultPopupVisible","getInitialState","componentWillMount","_this","forEach","h","e","fireEvents","componentDidMount","componentDidUpdate","componentWillReceiveProps","_ref","undefined","setState","_","prevState","renderComponent","currentDocument","clickOutsideHandler","isClickToHide","onDocumentClick","touchOutsideHandler","clearOutsideHandler","componentWillUnmount","clearDelayTimer","onMouseEnter","delaySetPopupVisible","onMouseLeave","onPopupMouseEnter","onPopupMouseLeave","relatedTarget","setTimeout","_component","getPopupDomNode","onFocus","isFocusToShow","focusTime","Date","now","onMouseDown","preClickTime","onTouchStart","preTouchTime","onBlur","isBlurToHide","onClick","event","preTime","Math","min","abs","preventDefault","nextVisible","isClickToShow","setPopupVisible","target","root","popupNode","close","getRootDomNode","align","className","push","join","getPopupAlign","getComponent","mouseProps","isMouseEnterToShow","isMouseLeaveToHide","visible","onAlign","animation","getClassNameFromAlign","transitionName","delayS","_this2","delay","delayTimer","clearTimeout","remove","createTwoChains","childPros","_props","indexOf","_props2","_props3","_props4","_props5","_props6","forcePopupAlign","alignInstance","forceAlign","type","childCallback","callback","render","child","Children","only","newChildProps","cloneElement"],"mappings":"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","sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { findDOMNode } from 'react-dom';\nimport createReactClass from 'create-react-class';\nimport contains from 'rc-util/es/Dom/contains';\nimport addEventListener from 'rc-util/lib/Dom/addEventListener';\nimport Popup from './Popup';\nimport { getAlignFromPlacement, getPopupClassNameFromAlign as _getPopupClassNameFromAlign } from './utils';\nimport getContainerRenderMixin from 'rc-util/lib/getContainerRenderMixin';\n\nfunction noop() {}\n\nfunction returnEmptyString() {\n  return '';\n}\n\nfunction returnDocument() {\n  return window.document;\n}\n\nvar isMobile = typeof navigator !== 'undefined' && !!navigator.userAgent.match(/(Android|iPhone|iPad|iPod|iOS|UCWEB)/i);\n\nvar ALL_HANDLERS = ['onClick', 'onMouseDown', 'onTouchStart', 'onMouseEnter', 'onMouseLeave', 'onFocus', 'onBlur'];\n\nvar Trigger = createReactClass({\n  displayName: 'Trigger',\n  propTypes: {\n    children: PropTypes.any,\n    action: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]),\n    showAction: PropTypes.any,\n    hideAction: PropTypes.any,\n    getPopupClassNameFromAlign: PropTypes.any,\n    onPopupVisibleChange: PropTypes.func,\n    afterPopupVisibleChange: PropTypes.func,\n    popup: PropTypes.oneOfType([PropTypes.node, PropTypes.func]).isRequired,\n    popupStyle: PropTypes.object,\n    prefixCls: PropTypes.string,\n    popupClassName: PropTypes.string,\n    popupPlacement: PropTypes.string,\n    builtinPlacements: PropTypes.object,\n    popupTransitionName: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n    popupAnimation: PropTypes.any,\n    mouseEnterDelay: PropTypes.number,\n    mouseLeaveDelay: PropTypes.number,\n    zIndex: PropTypes.number,\n    focusDelay: PropTypes.number,\n    blurDelay: PropTypes.number,\n    getPopupContainer: PropTypes.func,\n    getDocument: PropTypes.func,\n    destroyPopupOnHide: PropTypes.bool,\n    mask: PropTypes.bool,\n    maskClosable: PropTypes.bool,\n    onPopupAlign: PropTypes.func,\n    popupAlign: PropTypes.object,\n    popupVisible: PropTypes.bool,\n    maskTransitionName: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n    maskAnimation: PropTypes.string\n  },\n\n  mixins: [getContainerRenderMixin({\n    autoMount: false,\n\n    isVisible: function isVisible(instance) {\n      return instance.state.popupVisible;\n    },\n    getContainer: function getContainer(instance) {\n      var props = instance.props;\n\n      var popupContainer = document.createElement('div');\n                  popupContainer.style.position = 'absolute';\n      popupContainer.style.top = '0';\n      popupContainer.style.left = '0';\n      popupContainer.style.width = '100%';\n      var mountNode = props.getPopupContainer ? props.getPopupContainer(findDOMNode(instance)) : props.getDocument().body;\n      mountNode.appendChild(popupContainer);\n      return popupContainer;\n    }\n  })],\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      prefixCls: 'rc-trigger-popup',\n      getPopupClassNameFromAlign: returnEmptyString,\n      getDocument: returnDocument,\n      onPopupVisibleChange: noop,\n      afterPopupVisibleChange: noop,\n      onPopupAlign: noop,\n      popupClassName: '',\n      mouseEnterDelay: 0,\n      mouseLeaveDelay: 0.1,\n      focusDelay: 0,\n      blurDelay: 0.15,\n      popupStyle: {},\n      destroyPopupOnHide: false,\n      popupAlign: {},\n      defaultPopupVisible: false,\n      mask: false,\n      maskClosable: true,\n      action: [],\n      showAction: [],\n      hideAction: []\n    };\n  },\n  getInitialState: function getInitialState() {\n    var props = this.props;\n    var popupVisible = void 0;\n    if ('popupVisible' in props) {\n      popupVisible = !!props.popupVisible;\n    } else {\n      popupVisible = !!props.defaultPopupVisible;\n    }\n    return {\n      popupVisible: popupVisible\n    };\n  },\n  componentWillMount: function componentWillMount() {\n    var _this = this;\n\n    ALL_HANDLERS.forEach(function (h) {\n      _this['fire' + h] = function (e) {\n        _this.fireEvents(h, e);\n      };\n    });\n  },\n  componentDidMount: function componentDidMount() {\n    this.componentDidUpdate({}, {\n      popupVisible: this.state.popupVisible\n    });\n  },\n  componentWillReceiveProps: function componentWillReceiveProps(_ref) {\n    var popupVisible = _ref.popupVisible;\n\n    if (popupVisible !== undefined) {\n      this.setState({\n        popupVisible: popupVisible\n      });\n    }\n  },\n  componentDidUpdate: function componentDidUpdate(_, prevState) {\n    var props = this.props;\n    var state = this.state;\n    this.renderComponent(null, function () {\n      if (prevState.popupVisible !== state.popupVisible) {\n        props.afterPopupVisibleChange(state.popupVisible);\n      }\n    });\n\n                    if (state.popupVisible) {\n      var currentDocument = void 0;\n      if (!this.clickOutsideHandler && this.isClickToHide()) {\n        currentDocument = props.getDocument();\n        this.clickOutsideHandler = addEventListener(currentDocument, 'mousedown', this.onDocumentClick);\n      }\n                              if (!this.touchOutsideHandler && isMobile) {\n        currentDocument = currentDocument || props.getDocument();\n        this.touchOutsideHandler = addEventListener(currentDocument, 'click', this.onDocumentClick);\n      }\n      return;\n    }\n\n    this.clearOutsideHandler();\n  },\n  componentWillUnmount: function componentWillUnmount() {\n    this.clearDelayTimer();\n    this.clearOutsideHandler();\n  },\n  onMouseEnter: function onMouseEnter(e) {\n    this.fireEvents('onMouseEnter', e);\n    this.delaySetPopupVisible(true, this.props.mouseEnterDelay);\n  },\n  onMouseLeave: function onMouseLeave(e) {\n    this.fireEvents('onMouseLeave', e);\n    this.delaySetPopupVisible(false, this.props.mouseLeaveDelay);\n  },\n  onPopupMouseEnter: function onPopupMouseEnter() {\n    this.clearDelayTimer();\n  },\n  onPopupMouseLeave: function onPopupMouseLeave(e) {\n            if (e.relatedTarget && !e.relatedTarget.setTimeout && this._component && this._component.getPopupDomNode && contains(this._component.getPopupDomNode(), e.relatedTarget)) {\n      return;\n    }\n    this.delaySetPopupVisible(false, this.props.mouseLeaveDelay);\n  },\n  onFocus: function onFocus(e) {\n    this.fireEvents('onFocus', e);\n        this.clearDelayTimer();\n    if (this.isFocusToShow()) {\n      this.focusTime = Date.now();\n      this.delaySetPopupVisible(true, this.props.focusDelay);\n    }\n  },\n  onMouseDown: function onMouseDown(e) {\n    this.fireEvents('onMouseDown', e);\n    this.preClickTime = Date.now();\n  },\n  onTouchStart: function onTouchStart(e) {\n    this.fireEvents('onTouchStart', e);\n    this.preTouchTime = Date.now();\n  },\n  onBlur: function onBlur(e) {\n    this.fireEvents('onBlur', e);\n    this.clearDelayTimer();\n    if (this.isBlurToHide()) {\n      this.delaySetPopupVisible(false, this.props.blurDelay);\n    }\n  },\n  onClick: function onClick(event) {\n    this.fireEvents('onClick', event);\n        if (this.focusTime) {\n      var preTime = void 0;\n      if (this.preClickTime && this.preTouchTime) {\n        preTime = Math.min(this.preClickTime, this.preTouchTime);\n      } else if (this.preClickTime) {\n        preTime = this.preClickTime;\n      } else if (this.preTouchTime) {\n        preTime = this.preTouchTime;\n      }\n      if (Math.abs(preTime - this.focusTime) < 20) {\n        return;\n      }\n      this.focusTime = 0;\n    }\n    this.preClickTime = 0;\n    this.preTouchTime = 0;\n    event.preventDefault();\n    var nextVisible = !this.state.popupVisible;\n    if (this.isClickToHide() && !nextVisible || nextVisible && this.isClickToShow()) {\n      this.setPopupVisible(!this.state.popupVisible);\n    }\n  },\n  onDocumentClick: function onDocumentClick(event) {\n    if (this.props.mask && !this.props.maskClosable) {\n      return;\n    }\n    var target = event.target;\n    var root = findDOMNode(this);\n    var popupNode = this.getPopupDomNode();\n    if (!contains(root, target) && !contains(popupNode, target)) {\n      this.close();\n    }\n  },\n  getPopupDomNode: function getPopupDomNode() {\n        if (this._component && this._component.getPopupDomNode) {\n      return this._component.getPopupDomNode();\n    }\n    return null;\n  },\n  getRootDomNode: function getRootDomNode() {\n    return findDOMNode(this);\n  },\n  getPopupClassNameFromAlign: function getPopupClassNameFromAlign(align) {\n    var className = [];\n    var props = this.props;\n    var popupPlacement = props.popupPlacement,\n        builtinPlacements = props.builtinPlacements,\n        prefixCls = props.prefixCls;\n\n    if (popupPlacement && builtinPlacements) {\n      className.push(_getPopupClassNameFromAlign(builtinPlacements, prefixCls, align));\n    }\n    if (props.getPopupClassNameFromAlign) {\n      className.push(props.getPopupClassNameFromAlign(align));\n    }\n    return className.join(' ');\n  },\n  getPopupAlign: function getPopupAlign() {\n    var props = this.props;\n    var popupPlacement = props.popupPlacement,\n        popupAlign = props.popupAlign,\n        builtinPlacements = props.builtinPlacements;\n\n    if (popupPlacement && builtinPlacements) {\n      return getAlignFromPlacement(builtinPlacements, popupPlacement, popupAlign);\n    }\n    return popupAlign;\n  },\n  getComponent: function getComponent() {\n    var props = this.props,\n        state = this.state;\n\n    var mouseProps = {};\n    if (this.isMouseEnterToShow()) {\n      mouseProps.onMouseEnter = this.onPopupMouseEnter;\n    }\n    if (this.isMouseLeaveToHide()) {\n      mouseProps.onMouseLeave = this.onPopupMouseLeave;\n    }\n    return React.createElement(\n      Popup,\n      _extends({\n        prefixCls: props.prefixCls,\n        destroyPopupOnHide: props.destroyPopupOnHide,\n        visible: state.popupVisible,\n        className: props.popupClassName,\n        action: props.action,\n        align: this.getPopupAlign(),\n        onAlign: props.onPopupAlign,\n        animation: props.popupAnimation,\n        getClassNameFromAlign: this.getPopupClassNameFromAlign\n      }, mouseProps, {\n        getRootDomNode: this.getRootDomNode,\n        style: props.popupStyle,\n        mask: props.mask,\n        zIndex: props.zIndex,\n        transitionName: props.popupTransitionName,\n        maskAnimation: props.maskAnimation,\n        maskTransitionName: props.maskTransitionName\n      }),\n      typeof props.popup === 'function' ? props.popup() : props.popup\n    );\n  },\n  setPopupVisible: function setPopupVisible(popupVisible) {\n    this.clearDelayTimer();\n    if (this.state.popupVisible !== popupVisible) {\n      if (!('popupVisible' in this.props)) {\n        this.setState({\n          popupVisible: popupVisible\n        });\n      }\n      this.props.onPopupVisibleChange(popupVisible);\n    }\n  },\n  delaySetPopupVisible: function delaySetPopupVisible(visible, delayS) {\n    var _this2 = this;\n\n    var delay = delayS * 1000;\n    this.clearDelayTimer();\n    if (delay) {\n      this.delayTimer = setTimeout(function () {\n        _this2.setPopupVisible(visible);\n        _this2.clearDelayTimer();\n      }, delay);\n    } else {\n      this.setPopupVisible(visible);\n    }\n  },\n  clearDelayTimer: function clearDelayTimer() {\n    if (this.delayTimer) {\n      clearTimeout(this.delayTimer);\n      this.delayTimer = null;\n    }\n  },\n  clearOutsideHandler: function clearOutsideHandler() {\n    if (this.clickOutsideHandler) {\n      this.clickOutsideHandler.remove();\n      this.clickOutsideHandler = null;\n    }\n\n    if (this.touchOutsideHandler) {\n      this.touchOutsideHandler.remove();\n      this.touchOutsideHandler = null;\n    }\n  },\n  createTwoChains: function createTwoChains(event) {\n    var childPros = this.props.children.props;\n    var props = this.props;\n    if (childPros[event] && props[event]) {\n      return this['fire' + event];\n    }\n    return childPros[event] || props[event];\n  },\n  isClickToShow: function isClickToShow() {\n    var _props = this.props,\n        action = _props.action,\n        showAction = _props.showAction;\n\n    return action.indexOf('click') !== -1 || showAction.indexOf('click') !== -1;\n  },\n  isClickToHide: function isClickToHide() {\n    var _props2 = this.props,\n        action = _props2.action,\n        hideAction = _props2.hideAction;\n\n    return action.indexOf('click') !== -1 || hideAction.indexOf('click') !== -1;\n  },\n  isMouseEnterToShow: function isMouseEnterToShow() {\n    var _props3 = this.props,\n        action = _props3.action,\n        showAction = _props3.showAction;\n\n    return action.indexOf('hover') !== -1 || showAction.indexOf('mouseEnter') !== -1;\n  },\n  isMouseLeaveToHide: function isMouseLeaveToHide() {\n    var _props4 = this.props,\n        action = _props4.action,\n        hideAction = _props4.hideAction;\n\n    return action.indexOf('hover') !== -1 || hideAction.indexOf('mouseLeave') !== -1;\n  },\n  isFocusToShow: function isFocusToShow() {\n    var _props5 = this.props,\n        action = _props5.action,\n        showAction = _props5.showAction;\n\n    return action.indexOf('focus') !== -1 || showAction.indexOf('focus') !== -1;\n  },\n  isBlurToHide: function isBlurToHide() {\n    var _props6 = this.props,\n        action = _props6.action,\n        hideAction = _props6.hideAction;\n\n    return action.indexOf('focus') !== -1 || hideAction.indexOf('blur') !== -1;\n  },\n  forcePopupAlign: function forcePopupAlign() {\n    if (this.state.popupVisible && this._component && this._component.alignInstance) {\n      this._component.alignInstance.forceAlign();\n    }\n  },\n  fireEvents: function fireEvents(type, e) {\n    var childCallback = this.props.children.props[type];\n    if (childCallback) {\n      childCallback(e);\n    }\n    var callback = this.props[type];\n    if (callback) {\n      callback(e);\n    }\n  },\n  close: function close() {\n    this.setPopupVisible(false);\n  },\n  render: function render() {\n    var props = this.props;\n    var children = props.children;\n    var child = React.Children.only(children);\n    var newChildProps = {};\n    if (this.isClickToHide() || this.isClickToShow()) {\n      newChildProps.onClick = this.onClick;\n      newChildProps.onMouseDown = this.onMouseDown;\n      newChildProps.onTouchStart = this.onTouchStart;\n    } else {\n      newChildProps.onClick = this.createTwoChains('onClick');\n      newChildProps.onMouseDown = this.createTwoChains('onMouseDown');\n      newChildProps.onTouchStart = this.createTwoChains('onTouchStart');\n    }\n    if (this.isMouseEnterToShow()) {\n      newChildProps.onMouseEnter = this.onMouseEnter;\n    } else {\n      newChildProps.onMouseEnter = this.createTwoChains('onMouseEnter');\n    }\n    if (this.isMouseLeaveToHide()) {\n      newChildProps.onMouseLeave = this.onMouseLeave;\n    } else {\n      newChildProps.onMouseLeave = this.createTwoChains('onMouseLeave');\n    }\n    if (this.isFocusToShow() || this.isBlurToHide()) {\n      newChildProps.onFocus = this.onFocus;\n      newChildProps.onBlur = this.onBlur;\n    } else {\n      newChildProps.onFocus = this.createTwoChains('onFocus');\n      newChildProps.onBlur = this.createTwoChains('onBlur');\n    }\n\n    return React.cloneElement(child, newChildProps);\n  }\n});\n\nexport default Trigger;"]},"metadata":{},"sourceType":"module"}