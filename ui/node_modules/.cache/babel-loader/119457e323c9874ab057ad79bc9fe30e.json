{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _1 = require(\"./\");\n\nvar each = require('lodash/each');\n\nvar ResetSearchAccessor =\n/** @class */\nfunction (_super) {\n  __extends(ResetSearchAccessor, _super);\n\n  function ResetSearchAccessor(options) {\n    if (options === void 0) {\n      options = {\n        query: true,\n        filter: true,\n        pagination: true\n      };\n    }\n\n    var _this = _super.call(this) || this;\n\n    _this.options = options;\n    return _this;\n  }\n\n  ResetSearchAccessor.prototype.canReset = function () {\n    var query = this.searchkit.query;\n    var options = this.options;\n    return options.pagination && query.getFrom() > 0 || options.query && query.getQueryString().length > 0 || options.filter && query.getSelectedFilters().length > 0;\n  };\n\n  ResetSearchAccessor.prototype.performReset = function () {\n    var query = this.searchkit.query;\n\n    if (this.options.query) {\n      this.searchkit.getQueryAccessor().resetState();\n    }\n\n    if (this.options.filter) {\n      var filters = this.searchkit.getAccessorsByType(_1.FilterBasedAccessor);\n      each(filters, function (accessor) {\n        return accessor.resetState();\n      });\n      each(query.getSelectedFilters() || [], function (f) {\n        return f.remove();\n      });\n    }\n\n    var paginationAccessor = this.searchkit.getAccessorByType(_1.PaginationAccessor);\n\n    if (this.options.pagination && paginationAccessor) {\n      paginationAccessor.resetState();\n    }\n  };\n\n  return ResetSearchAccessor;\n}(_1.Accessor);\n\nexports.ResetSearchAccessor = ResetSearchAccessor;","map":{"version":3,"sources":["../../../src/core/accessors/ResetSearchAccessor.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAA,EAAA,GAAA,OAAA,CAAA,IAAA,CAAA;;AACA,IAAM,IAAI,GAAG,OAAO,CAAC,aAAD,CAApB;;AAQA,IAAA,mBAAA;AAAA;AAAA,UAAA,MAAA,EAAA;AAAyC,EAAA,SAAA,CAAA,mBAAA,EAAA,MAAA,CAAA;;AACvC,WAAA,mBAAA,CACS,OADT,EACsF;AAA7E,QAAA,OAAA,KAAA,KAAA,CAAA,EAAA;AAAA,MAAA,OAAA,GAAA;AAAgC,QAAA,KAAK,EAAE,IAAvC;AAA6C,QAAA,MAAM,EAAE,IAArD;AAA2D,QAAA,UAAU,EAAE;AAAvE,OAAA;AAA6E;;AADtF,QAAA,KAAA,GAGE,MAAA,CAAA,IAAA,CAAA,IAAA,KAAO,IAHT;;AACS,IAAA,KAAA,CAAA,OAAA,GAAA,OAAA;;AAGR;;AAED,EAAA,mBAAA,CAAA,SAAA,CAAA,QAAA,GAAA,YAAA;AACE,QAAM,KAAK,GAAG,KAAK,SAAL,CAAe,KAA7B;AACA,QAAM,OAAO,GAAG,KAAK,OAArB;AACA,WACG,OAAO,CAAC,UAAR,IAAsB,KAAK,CAAC,OAAN,KAAkB,CAAzC,IACC,OAAO,CAAC,KAAR,IAAiB,KAAK,CAAC,cAAN,GAAuB,MAAvB,GAAgC,CADlD,IAEC,OAAO,CAAC,MAAR,IAAkB,KAAK,CAAC,kBAAN,GAA2B,MAA3B,GAAoC,CAHzD;AAKD,GARD;;AAUA,EAAA,mBAAA,CAAA,SAAA,CAAA,YAAA,GAAA,YAAA;AACE,QAAM,KAAK,GAAG,KAAK,SAAL,CAAe,KAA7B;;AACA,QAAI,KAAK,OAAL,CAAa,KAAjB,EAAwB;AACtB,WAAK,SAAL,CAAe,gBAAf,GAAkC,UAAlC;AACD;;AACD,QAAI,KAAK,OAAL,CAAa,MAAjB,EAAyB;AACvB,UAAM,OAAO,GAAG,KAAK,SAAL,CAAe,kBAAf,CAAkC,EAAA,CAAA,mBAAlC,CAAhB;AACA,MAAA,IAAI,CAAC,OAAD,EAAU,UAAC,QAAD,EAAS;AAAK,eAAA,QAAQ,CAAR,UAAA,EAAA;AAAqB,OAA7C,CAAJ;AACA,MAAA,IAAI,CAAC,KAAK,CAAC,kBAAN,MAA8B,EAA/B,EAAmC,UAAC,CAAD,EAAE;AAAK,eAAA,CAAC,CAAD,MAAA,EAAA;AAAU,OAApD,CAAJ;AACD;;AACD,QAAM,kBAAkB,GAAG,KAAK,SAAL,CAAe,iBAAf,CAAiC,EAAA,CAAA,kBAAjC,CAA3B;;AACA,QAAI,KAAK,OAAL,CAAa,UAAb,IAA2B,kBAA/B,EAAmD;AACjD,MAAA,kBAAkB,CAAC,UAAnB;AACD;AACF,GAdD;;AAeF,SAAA,mBAAA;AAAC,CAhCD,CAAyC,EAAA,CAAA,QAAzC,CAAA;;AAAa,OAAA,CAAA,mBAAA,GAAA,mBAAA","sourceRoot":"","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _1 = require(\"./\");\nvar each = require('lodash/each');\nvar ResetSearchAccessor = /** @class */ (function (_super) {\n    __extends(ResetSearchAccessor, _super);\n    function ResetSearchAccessor(options) {\n        if (options === void 0) { options = { query: true, filter: true, pagination: true }; }\n        var _this = _super.call(this) || this;\n        _this.options = options;\n        return _this;\n    }\n    ResetSearchAccessor.prototype.canReset = function () {\n        var query = this.searchkit.query;\n        var options = this.options;\n        return ((options.pagination && query.getFrom() > 0) ||\n            (options.query && query.getQueryString().length > 0) ||\n            (options.filter && query.getSelectedFilters().length > 0));\n    };\n    ResetSearchAccessor.prototype.performReset = function () {\n        var query = this.searchkit.query;\n        if (this.options.query) {\n            this.searchkit.getQueryAccessor().resetState();\n        }\n        if (this.options.filter) {\n            var filters = this.searchkit.getAccessorsByType(_1.FilterBasedAccessor);\n            each(filters, function (accessor) { return accessor.resetState(); });\n            each(query.getSelectedFilters() || [], function (f) { return f.remove(); });\n        }\n        var paginationAccessor = this.searchkit.getAccessorByType(_1.PaginationAccessor);\n        if (this.options.pagination && paginationAccessor) {\n            paginationAccessor.resetState();\n        }\n    };\n    return ResetSearchAccessor;\n}(_1.Accessor));\nexports.ResetSearchAccessor = ResetSearchAccessor;\n//# sourceMappingURL=ResetSearchAccessor.js.map"]},"metadata":{},"sourceType":"script"}