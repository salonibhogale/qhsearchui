{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar core_1 = require(\"../../../../core\");\n\nvar ui_1 = require(\"../../../ui\");\n\nvar defaults = require('lodash/defaults');\n\nvar groupBy = require('lodash/groupBy');\n\nvar size = require('lodash/size');\n\nvar toArray = require('lodash/toArray');\n\nvar forEach = require('lodash/forEach');\n\nvar map = require('lodash/map');\n\nvar GroupedSelectedFilters =\n/** @class */\nfunction (_super) {\n  __extends(GroupedSelectedFilters, _super);\n\n  function GroupedSelectedFilters(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.translate = _this.translate.bind(_this);\n    _this.removeFilter = _this.removeFilter.bind(_this);\n    _this.removeFilters = _this.removeFilters.bind(_this);\n    return _this;\n  }\n\n  GroupedSelectedFilters.prototype.defineBEMBlocks = function () {\n    var blockName = this.props.mod || 'sk-filter-groups';\n    return {\n      container: blockName\n    };\n  };\n\n  GroupedSelectedFilters.prototype.getFilters = function () {\n    return this.getQuery().getSelectedFilters();\n  };\n\n  GroupedSelectedFilters.prototype.getGroupedFilters = function () {\n    var filters = this.getFilters();\n    return toArray(groupBy(filters, 'id'));\n  };\n\n  GroupedSelectedFilters.prototype.hasFilters = function () {\n    return size(this.getFilters()) > 0;\n  };\n\n  GroupedSelectedFilters.prototype.removeFilter = function (filter) {\n    filter.remove();\n    this.searchkit.performSearch();\n  };\n\n  GroupedSelectedFilters.prototype.removeFilters = function (filters) {\n    forEach(filters, function (filter) {\n      return filter.remove();\n    });\n    this.searchkit.performSearch();\n  };\n\n  GroupedSelectedFilters.prototype.render = function () {\n    var _this = this;\n\n    var groupComponent = this.props.groupComponent;\n\n    if (!this.hasFilters()) {\n      return null;\n    }\n\n    return React.createElement(\"div\", {\n      className: this.bemBlocks.container()\n    }, map(this.getGroupedFilters(), function (filters) {\n      return core_1.renderComponent(groupComponent, {\n        key: filters[0].id,\n        className: filters[0].id ? \"filter-group-\" + filters[0].id : undefined,\n        title: _this.translate(filters[0].name),\n        filters: filters,\n        translate: _this.translate,\n        removeFilter: _this.removeFilter,\n        removeFilters: _this.removeFilters\n      });\n    }));\n  };\n\n  GroupedSelectedFilters.propTypes = defaults({}, core_1.SearchkitComponent.propTypes);\n  GroupedSelectedFilters.defaultProps = {\n    groupComponent: ui_1.FilterGroup\n  };\n  return GroupedSelectedFilters;\n}(core_1.SearchkitComponent);\n\nexports.GroupedSelectedFilters = GroupedSelectedFilters;","map":{"version":3,"sources":["../../../../../src/components/search/filters/selected-filters/GroupedSelectedFilters.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAA,KAAA,GAAA,OAAA,CAAA,OAAA,CAAA;;AAEA,IAAA,MAAA,GAAA,OAAA,CAAA,kBAAA,CAAA;;AAQA,IAAA,IAAA,GAAA,OAAA,CAAA,aAAA,CAAA;;AAEA,IAAM,QAAQ,GAAG,OAAO,CAAC,iBAAD,CAAxB;;AACA,IAAM,OAAO,GAAG,OAAO,CAAC,gBAAD,CAAvB;;AACA,IAAM,IAAI,GAAG,OAAO,CAAC,aAAD,CAApB;;AACA,IAAM,OAAO,GAAG,OAAO,CAAC,gBAAD,CAAvB;;AACA,IAAM,OAAO,GAAG,OAAO,CAAC,gBAAD,CAAvB;;AACA,IAAM,GAAG,GAAG,OAAO,CAAC,YAAD,CAAnB;;AAMA,IAAA,sBAAA;AAAA;AAAA,UAAA,MAAA,EAAA;AAA4C,EAAA,SAAA,CAAA,sBAAA,EAAA,MAAA,CAAA;;AAW1C,WAAA,sBAAA,CAAY,KAAZ,EAAiB;AAAjB,QAAA,KAAA,GACE,MAAA,CAAA,IAAA,CAAA,IAAA,EAAM,KAAN,KAAY,IADd;;AAEE,IAAA,KAAI,CAAC,SAAL,GAAiB,KAAI,CAAC,SAAL,CAAe,IAAf,CAAoB,KAApB,CAAjB;AACA,IAAA,KAAI,CAAC,YAAL,GAAoB,KAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,KAAvB,CAApB;AACA,IAAA,KAAI,CAAC,aAAL,GAAqB,KAAI,CAAC,aAAL,CAAmB,IAAnB,CAAwB,KAAxB,CAArB;;AACD;;AAED,EAAA,sBAAA,CAAA,SAAA,CAAA,eAAA,GAAA,YAAA;AACE,QAAM,SAAS,GAAG,KAAK,KAAL,CAAW,GAAX,IAAkB,kBAApC;AACA,WAAO;AACL,MAAA,SAAS,EAAE;AADN,KAAP;AAGD,GALD;;AAOA,EAAA,sBAAA,CAAA,SAAA,CAAA,UAAA,GAAA,YAAA;AACE,WAAO,KAAK,QAAL,GAAgB,kBAAhB,EAAP;AACD,GAFD;;AAIA,EAAA,sBAAA,CAAA,SAAA,CAAA,iBAAA,GAAA,YAAA;AACE,QAAM,OAAO,GAAG,KAAK,UAAL,EAAhB;AACA,WAAO,OAAO,CAAC,OAAO,CAAC,OAAD,EAAU,IAAV,CAAR,CAAd;AACD,GAHD;;AAKA,EAAA,sBAAA,CAAA,SAAA,CAAA,UAAA,GAAA,YAAA;AACE,WAAO,IAAI,CAAC,KAAK,UAAL,EAAD,CAAJ,GAA0B,CAAjC;AACD,GAFD;;AAIA,EAAA,sBAAA,CAAA,SAAA,CAAA,YAAA,GAAA,UAAa,MAAb,EAAmB;AACjB,IAAA,MAAM,CAAC,MAAP;AACA,SAAK,SAAL,CAAe,aAAf;AACD,GAHD;;AAKA,EAAA,sBAAA,CAAA,SAAA,CAAA,aAAA,GAAA,UAAc,OAAd,EAA4C;AAC1C,IAAA,OAAO,CAAC,OAAD,EAAU,UAAC,MAAD,EAAO;AAAK,aAAA,MAAM,CAAN,MAAA,EAAA;AAAe,KAArC,CAAP;AACA,SAAK,SAAL,CAAe,aAAf;AACD,GAHD;;AAKA,EAAA,sBAAA,CAAA,SAAA,CAAA,MAAA,GAAA,YAAA;AAAA,QAAA,KAAA,GAAA,IAAA;;AACU,QAAA,cAAA,GAAA,KAAA,KAAA,CAAA,cAAA;;AAER,QAAI,CAAC,KAAK,UAAL,EAAL,EAAwB;AACtB,aAAO,IAAP;AACD;;AAED,WACE,KAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,MAAA,SAAS,EAAE,KAAK,SAAL,CAAe,SAAf;AAAhB,KAAA,EACG,GAAG,CAAC,KAAK,iBAAL,EAAD,EAA2B,UAAC,OAAD,EAAQ;AACrC,aAAA,MAAA,CAAA,eAAA,CAAgB,cAAhB,EAAgC;AAC9B,QAAA,GAAG,EAAE,OAAO,CAAC,CAAD,CAAP,CAAW,EADc;AAE9B,QAAA,SAAS,EAAE,OAAO,CAAC,CAAD,CAAP,CAAW,EAAX,GAAgB,kBAAgB,OAAO,CAAC,CAAD,CAAP,CAAW,EAA3C,GAAkD,SAF/B;AAG9B,QAAA,KAAK,EAAE,KAAI,CAAC,SAAL,CAAe,OAAO,CAAC,CAAD,CAAP,CAAW,IAA1B,CAHuB;AAI9B,QAAA,OAAO,EAAE,OAJqB;AAK9B,QAAA,SAAS,EAAE,KAAI,CAAC,SALc;AAM9B,QAAA,YAAY,EAAE,KAAI,CAAC,YANW;AAO9B,QAAA,aAAa,EAAE,KAAI,CAAC;AAPU,OAAhC,CAAA;AAQE,KATA,CADN,CADF;AAeD,GAtBD;;AA3CO,EAAA,sBAAA,CAAA,SAAA,GAAY,QAAQ,CAAC,EAAD,EAAK,MAAA,CAAA,kBAAA,CAAmB,SAAxB,CAApB;AAEA,EAAA,sBAAA,CAAA,YAAA,GAAe;AACpB,IAAA,cAAc,EAAE,IAAA,CAAA;AADI,GAAf;AAgET,SAAA,sBAAA;AAAC,CAvED,CAA4C,MAAA,CAAA,kBAA5C,CAAA;;AAAa,OAAA,CAAA,sBAAA,GAAA,sBAAA","sourceRoot":"","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar core_1 = require(\"../../../../core\");\nvar ui_1 = require(\"../../../ui\");\nvar defaults = require('lodash/defaults');\nvar groupBy = require('lodash/groupBy');\nvar size = require('lodash/size');\nvar toArray = require('lodash/toArray');\nvar forEach = require('lodash/forEach');\nvar map = require('lodash/map');\nvar GroupedSelectedFilters = /** @class */ (function (_super) {\n    __extends(GroupedSelectedFilters, _super);\n    function GroupedSelectedFilters(props) {\n        var _this = _super.call(this, props) || this;\n        _this.translate = _this.translate.bind(_this);\n        _this.removeFilter = _this.removeFilter.bind(_this);\n        _this.removeFilters = _this.removeFilters.bind(_this);\n        return _this;\n    }\n    GroupedSelectedFilters.prototype.defineBEMBlocks = function () {\n        var blockName = this.props.mod || 'sk-filter-groups';\n        return {\n            container: blockName\n        };\n    };\n    GroupedSelectedFilters.prototype.getFilters = function () {\n        return this.getQuery().getSelectedFilters();\n    };\n    GroupedSelectedFilters.prototype.getGroupedFilters = function () {\n        var filters = this.getFilters();\n        return toArray(groupBy(filters, 'id'));\n    };\n    GroupedSelectedFilters.prototype.hasFilters = function () {\n        return size(this.getFilters()) > 0;\n    };\n    GroupedSelectedFilters.prototype.removeFilter = function (filter) {\n        filter.remove();\n        this.searchkit.performSearch();\n    };\n    GroupedSelectedFilters.prototype.removeFilters = function (filters) {\n        forEach(filters, function (filter) { return filter.remove(); });\n        this.searchkit.performSearch();\n    };\n    GroupedSelectedFilters.prototype.render = function () {\n        var _this = this;\n        var groupComponent = this.props.groupComponent;\n        if (!this.hasFilters()) {\n            return null;\n        }\n        return (React.createElement(\"div\", { className: this.bemBlocks.container() }, map(this.getGroupedFilters(), function (filters) {\n            return core_1.renderComponent(groupComponent, {\n                key: filters[0].id,\n                className: filters[0].id ? \"filter-group-\" + filters[0].id : undefined,\n                title: _this.translate(filters[0].name),\n                filters: filters,\n                translate: _this.translate,\n                removeFilter: _this.removeFilter,\n                removeFilters: _this.removeFilters\n            });\n        })));\n    };\n    GroupedSelectedFilters.propTypes = defaults({}, core_1.SearchkitComponent.propTypes);\n    GroupedSelectedFilters.defaultProps = {\n        groupComponent: ui_1.FilterGroup\n    };\n    return GroupedSelectedFilters;\n}(core_1.SearchkitComponent));\nexports.GroupedSelectedFilters = GroupedSelectedFilters;\n//# sourceMappingURL=GroupedSelectedFilters.js.map"]},"metadata":{},"sourceType":"script"}