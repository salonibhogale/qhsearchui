{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Accessor_1 = require(\"./Accessor\");\n\nvar get = require('lodash/get');\n\nvar SuggestionsAccessor =\n/** @class */\nfunction (_super) {\n  __extends(SuggestionsAccessor, _super);\n\n  function SuggestionsAccessor(field) {\n    var _this = _super.call(this) || this;\n\n    _this.field = field;\n    return _this;\n  }\n\n  SuggestionsAccessor.prototype.getSuggestion = function () {\n    return get(this.searchkit.getSuggestions(), [0, 'options', 0, 'text'], false);\n  };\n\n  SuggestionsAccessor.prototype.buildOwnQuery = function (query) {\n    var queryText = query.getQueryString();\n\n    if (queryText.length > 3) {\n      return query.setSuggestions({\n        text: queryText,\n        suggestions: {\n          phrase: {\n            field: this.field,\n            real_word_error_likelihood: 0.95,\n            max_errors: 1,\n            gram_size: 4,\n            direct_generator: [{\n              field: this.field,\n              suggest_mode: 'always',\n              min_word_length: 1\n            }]\n          }\n        }\n      });\n    }\n\n    return query;\n  };\n\n  return SuggestionsAccessor;\n}(Accessor_1.Accessor);\n\nexports.SuggestionsAccessor = SuggestionsAccessor;","map":{"version":3,"sources":["../../../src/core/accessors/SuggestionsAccessor.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAA,UAAA,GAAA,OAAA,CAAA,YAAA,CAAA;;AACA,IAAM,GAAG,GAAG,OAAO,CAAC,YAAD,CAAnB;;AAEA,IAAA,mBAAA;AAAA;AAAA,UAAA,MAAA,EAAA;AAAyC,EAAA,SAAA,CAAA,mBAAA,EAAA,MAAA,CAAA;;AACvC,WAAA,mBAAA,CAAmB,KAAnB,EAAgC;AAAhC,QAAA,KAAA,GACE,MAAA,CAAA,IAAA,CAAA,IAAA,KAAO,IADT;;AAAmB,IAAA,KAAA,CAAA,KAAA,GAAA,KAAA;;AAElB;;AAED,EAAA,mBAAA,CAAA,SAAA,CAAA,aAAA,GAAA,YAAA;AACE,WAAO,GAAG,CAAC,KAAK,SAAL,CAAe,cAAf,EAAD,EAAkC,CAAC,CAAD,EAAI,SAAJ,EAAe,CAAf,EAAkB,MAAlB,CAAlC,EAA6D,KAA7D,CAAV;AACD,GAFD;;AAIA,EAAA,mBAAA,CAAA,SAAA,CAAA,aAAA,GAAA,UAAc,KAAd,EAAmB;AACjB,QAAM,SAAS,GAAG,KAAK,CAAC,cAAN,EAAlB;;AACA,QAAI,SAAS,CAAC,MAAV,GAAmB,CAAvB,EAA0B;AACxB,aAAO,KAAK,CAAC,cAAN,CAAqB;AAC1B,QAAA,IAAI,EAAE,SADoB;AAE1B,QAAA,WAAW,EAAE;AACX,UAAA,MAAM,EAAE;AACN,YAAA,KAAK,EAAE,KAAK,KADN;AAEN,YAAA,0BAA0B,EAAE,IAFtB;AAGN,YAAA,UAAU,EAAE,CAHN;AAIN,YAAA,SAAS,EAAE,CAJL;AAKN,YAAA,gBAAgB,EAAE,CAChB;AACE,cAAA,KAAK,EAAE,KAAK,KADd;AAEE,cAAA,YAAY,EAAE,QAFhB;AAGE,cAAA,eAAe,EAAE;AAHnB,aADgB;AALZ;AADG;AAFa,OAArB,CAAP;AAkBD;;AACD,WAAO,KAAP;AACD,GAvBD;;AAwBF,SAAA,mBAAA;AAAC,CAjCD,CAAyC,UAAA,CAAA,QAAzC,CAAA;;AAAa,OAAA,CAAA,mBAAA,GAAA,mBAAA","sourceRoot":"","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Accessor_1 = require(\"./Accessor\");\nvar get = require('lodash/get');\nvar SuggestionsAccessor = /** @class */ (function (_super) {\n    __extends(SuggestionsAccessor, _super);\n    function SuggestionsAccessor(field) {\n        var _this = _super.call(this) || this;\n        _this.field = field;\n        return _this;\n    }\n    SuggestionsAccessor.prototype.getSuggestion = function () {\n        return get(this.searchkit.getSuggestions(), [0, 'options', 0, 'text'], false);\n    };\n    SuggestionsAccessor.prototype.buildOwnQuery = function (query) {\n        var queryText = query.getQueryString();\n        if (queryText.length > 3) {\n            return query.setSuggestions({\n                text: queryText,\n                suggestions: {\n                    phrase: {\n                        field: this.field,\n                        real_word_error_likelihood: 0.95,\n                        max_errors: 1,\n                        gram_size: 4,\n                        direct_generator: [\n                            {\n                                field: this.field,\n                                suggest_mode: 'always',\n                                min_word_length: 1\n                            }\n                        ]\n                    }\n                }\n            });\n        }\n        return query;\n    };\n    return SuggestionsAccessor;\n}(Accessor_1.Accessor));\nexports.SuggestionsAccessor = SuggestionsAccessor;\n//# sourceMappingURL=SuggestionsAccessor.js.map"]},"metadata":{},"sourceType":"script"}