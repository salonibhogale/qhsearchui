{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar state_1 = require(\"../state\");\n\nvar StatefulAccessor_1 = require(\"./StatefulAccessor\");\n\nvar PaginationAccessor =\n/** @class */\nfunction (_super) {\n  __extends(PaginationAccessor, _super);\n\n  function PaginationAccessor() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = new state_1.ValueState();\n    return _this;\n  }\n\n  PaginationAccessor.prototype.onStateChange = function (oldState) {\n    if (oldState === void 0) {\n      oldState = {};\n    }\n\n    if (oldState[this.urlKey] == this.state.getValue()) {\n      this.state = this.state.clear();\n    }\n  };\n\n  PaginationAccessor.prototype.buildOwnQuery = function (query) {\n    var from = (query.getSize() || 20) * (Number(this.state.getValue()) - 1);\n\n    if (from > 0) {\n      return query.setFrom(from);\n    }\n\n    return query;\n  };\n\n  return PaginationAccessor;\n}(StatefulAccessor_1.StatefulAccessor);\n\nexports.PaginationAccessor = PaginationAccessor;","map":{"version":3,"sources":["../../../src/core/accessors/PaginationAccessor.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAA,OAAA,GAAA,OAAA,CAAA,UAAA,CAAA;;AACA,IAAA,kBAAA,GAAA,OAAA,CAAA,oBAAA,CAAA;;AAEA,IAAA,kBAAA;AAAA;AAAA,UAAA,MAAA,EAAA;AAAwC,EAAA,SAAA,CAAA,kBAAA,EAAA,MAAA,CAAA;;AAAxC,WAAA,kBAAA,GAAA;AAAA,QAAA,KAAA,GAAA,MAAA,KAAA,IAAA,IAAA,MAAA,CAAA,KAAA,CAAA,IAAA,EAAA,SAAA,CAAA,IAAA,IAAA;;AACE,IAAA,KAAA,CAAA,KAAA,GAAQ,IAAI,OAAA,CAAA,UAAJ,EAAR;;AAeD;;AAbC,EAAA,kBAAA,CAAA,SAAA,CAAA,aAAA,GAAA,UAAc,QAAd,EAA2B;AAAb,QAAA,QAAA,KAAA,KAAA,CAAA,EAAA;AAAA,MAAA,QAAA,GAAA,EAAA;AAAa;;AACzB,QAAI,QAAQ,CAAC,KAAK,MAAN,CAAR,IAAyB,KAAK,KAAL,CAAW,QAAX,EAA7B,EAAoD;AAClD,WAAK,KAAL,GAAa,KAAK,KAAL,CAAW,KAAX,EAAb;AACD;AACF,GAJD;;AAMA,EAAA,kBAAA,CAAA,SAAA,CAAA,aAAA,GAAA,UAAc,KAAd,EAAmB;AACjB,QAAM,IAAI,GAAG,CAAC,KAAK,CAAC,OAAN,MAAmB,EAApB,KAA2B,MAAM,CAAC,KAAK,KAAL,CAAW,QAAX,EAAD,CAAN,GAAgC,CAA3D,CAAb;;AACA,QAAI,IAAI,GAAG,CAAX,EAAc;AACZ,aAAO,KAAK,CAAC,OAAN,CAAc,IAAd,CAAP;AACD;;AACD,WAAO,KAAP;AACD,GAND;;AAOF,SAAA,kBAAA;AAAC,CAhBD,CAAwC,kBAAA,CAAA,gBAAxC,CAAA;;AAAa,OAAA,CAAA,kBAAA,GAAA,kBAAA","sourceRoot":"","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar state_1 = require(\"../state\");\nvar StatefulAccessor_1 = require(\"./StatefulAccessor\");\nvar PaginationAccessor = /** @class */ (function (_super) {\n    __extends(PaginationAccessor, _super);\n    function PaginationAccessor() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = new state_1.ValueState();\n        return _this;\n    }\n    PaginationAccessor.prototype.onStateChange = function (oldState) {\n        if (oldState === void 0) { oldState = {}; }\n        if (oldState[this.urlKey] == this.state.getValue()) {\n            this.state = this.state.clear();\n        }\n    };\n    PaginationAccessor.prototype.buildOwnQuery = function (query) {\n        var from = (query.getSize() || 20) * (Number(this.state.getValue()) - 1);\n        if (from > 0) {\n            return query.setFrom(from);\n        }\n        return query;\n    };\n    return PaginationAccessor;\n}(StatefulAccessor_1.StatefulAccessor));\nexports.PaginationAccessor = PaginationAccessor;\n//# sourceMappingURL=PaginationAccessor.js.map"]},"metadata":{},"sourceType":"script"}