{"ast":null,"code":"var _jsxFileName = \"/Users/salonibhogale/qhsearchui/src/Components/datefilter/DateRangeCalendar.tsx\";\nimport * as React from \"react\";\nimport * as moment from \"moment\";\n\nconst styles = require(\"rc-calendar/assets/index.css\");\n\nimport { SearchkitComponent } from \"searchkit\";\n\nconst RcCalendar = require(\"rc-calendar\");\n\nconst RangeCalendar = require('rc-calendar/lib/RangeCalendar');\n\nconst enUS = require('rc-calendar').enUS;\n\nconst DatePicker = require('rc-calendar/lib/Picker');\n\nconst format = 'dddd D. MMMM YYYY';\nconst fullFormat = 'ddd D.M.Y';\nexport class Picker extends SearchkitComponent {\n  render() {\n    const props = this.props;\n    const {\n      showValue\n    } = props;\n    const calendar = /*#__PURE__*/React.createElement(RangeCalendar, {\n      type: this.props.type,\n      locale: enUS,\n      format: format,\n      onChange: props.onChange,\n      disabledDate: props.disabledDate,\n      showToday: true,\n      showOk: false,\n      showClear: false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 7\n      }\n    });\n    return /*#__PURE__*/React.createElement(DatePicker, {\n      prefixCls: \"sk-calendar-picker\",\n      open: this.props.open,\n      onOpenChange: this.props.onOpenChange,\n      calendar: calendar,\n      value: props.value,\n      dateFormat: format,\n      align: {\n        points: ['bl', 'tl']\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 7\n      }\n    }, () => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sk-date-box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sk-date-box__label\",\n      style: {\n        flex: \"1 0 80px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 15\n      }\n    }, this.props.dateInputPlaceholder, \":\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sk-date-box__value\",\n      style: {\n        flex: \"1 0 50%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 15\n      }\n    }, showValue && moment(showValue).format(fullFormat))));\n  }\n\n}\n;\nexport class DateRangeCalendar extends SearchkitComponent {\n  constructor(props) {\n    super(props);\n\n    this.onStartOpenChange = startOpen => {\n      this.setState({\n        startOpen\n      });\n    };\n\n    this.onEndOpenChange = endOpen => {\n      this.setState({\n        endOpen\n      });\n    };\n\n    this.onStartChange = value => {\n      this.setState({\n        startValue: value[0],\n        startOpen: false,\n        endOpen: false\n      });\n      this.handleChange(value);\n    };\n\n    this.onEndChange = value => {\n      this.handleChange(value);\n    };\n\n    this.clearState = () => {\n      const {\n        onFinished\n      } = this.props;\n      this.setState({\n        startValue: null,\n        endValue: null\n      });\n      onFinished({\n        fromDate: null,\n        toDate: null\n      });\n    };\n\n    this.disabledPastDate = endValue => {\n      if (endValue.diff(moment(), 'days') < 0) {\n        return true;\n      }\n\n      return false;\n    };\n\n    this.disabledStartDate = endValue => {\n      if (!endValue) {\n        return false;\n      }\n\n      const startValue = this.state.startValue;\n\n      if (!startValue) {\n        return false;\n      }\n\n      return endValue.diff(startValue, 'days') < 0;\n    };\n\n    this.handleChange = value => {\n      const startValue = value[0];\n      const endValue = value[1];\n      const {\n        onFinished\n      } = this.props;\n      const notToday = startValue > +moment().endOf(\"day\") || startValue < +moment().startOf(\"day\");\n      onFinished({\n        fromDate: notToday && startValue.startOf(\"day\") || startValue,\n        toDate: endValue && endValue.endOf(\"day\")\n      });\n    };\n\n    const {\n      fromDate,\n      toDate\n    } = props;\n    this.state = {\n      startOpen: false,\n      endOpen: false\n    };\n  }\n\n  render() {\n    const state = this.state;\n    const {\n      fromDate,\n      toDate,\n      fromDateValue,\n      toDateValue\n    } = this.props;\n    const fromLabel = \"From\";\n    const toLabel = \"To\";\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Picker, {\n      onOpenChange: this.onStartOpenChange,\n      open: this.state.startOpen,\n      type: \"start\",\n      showValue: fromDateValue,\n      value: [fromDate, toDate],\n      onChange: this.onStartChange,\n      dateInputPlaceholder: fromLabel,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Picker, {\n      onOpenChange: this.onEndOpenChange,\n      open: this.state.endOpen,\n      type: \"end\",\n      showValue: toDateValue,\n      disabledDate: this.disabledStartDate,\n      value: [fromDate, toDate],\n      onChange: this.onEndChange,\n      dateInputPlaceholder: toLabel,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}","map":{"version":3,"sources":["/Users/salonibhogale/qhsearchui/src/Components/datefilter/DateRangeCalendar.tsx"],"names":["React","moment","styles","require","SearchkitComponent","RcCalendar","RangeCalendar","enUS","DatePicker","format","fullFormat","Picker","render","props","showValue","calendar","type","onChange","disabledDate","open","onOpenChange","value","points","flex","dateInputPlaceholder","DateRangeCalendar","constructor","onStartOpenChange","startOpen","setState","onEndOpenChange","endOpen","onStartChange","startValue","handleChange","onEndChange","clearState","onFinished","endValue","fromDate","toDate","disabledPastDate","diff","disabledStartDate","state","notToday","endOf","startOf","fromDateValue","toDateValue","fromLabel","toLabel"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport * as moment from \"moment\";\nconst styles = require(\"rc-calendar/assets/index.css\");\n\nimport {\n  SearchkitComponent,\n  SearchkitComponentProps\n} from \"searchkit\"\n\nconst RcCalendar = require(\"rc-calendar\")\nconst RangeCalendar = require('rc-calendar/lib/RangeCalendar');\nconst enUS = require('rc-calendar').enUS;\nconst DatePicker = require('rc-calendar/lib/Picker');\n\nconst format = 'dddd D. MMMM YYYY';\nconst fullFormat = 'ddd D.M.Y';\n\nexport class Picker extends SearchkitComponent<any, any> {\n  render() {\n    const props = this.props;\n    const { showValue } = props;\n    const calendar = (\n      <RangeCalendar\n        type={this.props.type}\n        locale={enUS}\n        format={format}\n        onChange={props.onChange}\n        disabledDate={props.disabledDate}\n        showToday={true}\n        showOk={false}\n        showClear={false}\n      />);\n\n    return (\n      <DatePicker\n        prefixCls=\"sk-calendar-picker\"\n        open={this.props.open}\n        onOpenChange={this.props.onOpenChange}\n        calendar={calendar}\n        value={props.value}\n        dateFormat={format}\n        align={{\n          points: ['bl', 'tl']\n        }}\n      >\n        {\n          () => (\n            <div className=\"sk-date-box\">\n              <div className=\"sk-date-box__label\" style={{flex:\"1 0 80px\"}}>\n                {this.props.dateInputPlaceholder}:\n              </div>\n              <div className=\"sk-date-box__value\" style={{flex:\"1 0 50%\"}}>\n                {showValue && moment(showValue).format(fullFormat)}\n              </div>\n            </div>\n          )\n        }\n      </DatePicker>);\n  }\n};\n\n\nexport class DateRangeCalendar extends SearchkitComponent<any, any> {\n  constructor(props) {\n    super(props)\n    const { fromDate, toDate } = props\n    this.state = {\n      startOpen: false,\n      endOpen: false,\n    }\n  }\n\n  onStartOpenChange = (startOpen) => {\n    this.setState({\n      startOpen,\n    });\n  }\n\n  onEndOpenChange = (endOpen) => {\n    this.setState({\n      endOpen,\n    });\n  }\n\n  onStartChange = (value) => {\n    this.setState({\n      startValue: value[0],\n      startOpen: false,\n      endOpen: false,\n    });\n    this.handleChange(value)\n  }\n\n  onEndChange = (value) => {\n    this.handleChange(value)\n  }\n\n  clearState = () => {\n    const { onFinished } = this.props\n    this.setState({\n      startValue: null,\n      endValue: null,\n    })\n    onFinished({\n      fromDate: null,\n      toDate: null\n    })\n  }\n\n  // For disabling past dates\n  disabledPastDate = (endValue) => {\n    if (endValue.diff(moment(), 'days') < 0) {\n      return true\n    }\n    return false\n  }\n\n  disabledStartDate = (endValue) => {\n    if (!endValue) {\n      return false;\n    }\n    const startValue = this.state.startValue;\n    if (!startValue) {\n      return false;\n    }\n    return endValue.diff(startValue, 'days') < 0;\n  }\n\n  handleChange = (value) => {\n    const startValue = value[0]\n    const endValue = value[1]\n    const { onFinished } = this.props\n    const notToday = startValue > +moment().endOf(\"day\")\n                  || startValue < +moment().startOf(\"day\")\n    onFinished({\n      fromDate: notToday && startValue.startOf(\"day\") || startValue,\n      toDate: endValue && endValue.endOf(\"day\")\n    })\n  }\n\n  render() {\n    const state = this.state;\n    const { fromDate, toDate, fromDateValue, toDateValue } = this.props\n\n    const fromLabel = \"From\";\n    const toLabel = \"To\";\n\n    return (\n      <div>\n        <Picker\n          onOpenChange={this.onStartOpenChange}\n          open={this.state.startOpen}\n          type=\"start\"\n          showValue={fromDateValue}\n          value={[fromDate, toDate]}\n          onChange={this.onStartChange}\n          dateInputPlaceholder={fromLabel}\n        />\n        <Picker\n          onOpenChange={this.onEndOpenChange}\n          open={this.state.endOpen}\n          type=\"end\"\n          showValue={toDateValue}\n          disabledDate={this.disabledStartDate}\n          value={[fromDate, toDate]}\n          onChange={this.onEndChange}\n          dateInputPlaceholder={toLabel}\n        />\n      </div>\n    )\n  }\n}\n\n"]},"metadata":{},"sourceType":"module"}