{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar PropTypes = require(\"prop-types\");\n\nvar core_1 = require(\"../../../../core\");\n\nvar ui_1 = require(\"../../../ui\");\n\nvar PaginationUtils_1 = require(\"./PaginationUtils\");\n\nvar defaults = require('lodash/defaults');\n\nvar get = require('lodash/get');\n\nvar isNaN = require('lodash/isNaN');\n\nvar Pagination =\n/** @class */\nfunction (_super) {\n  __extends(Pagination, _super);\n\n  function Pagination(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.translations = Pagination.translations;\n    _this.setPage = _this.setPage.bind(_this);\n    return _this;\n  }\n\n  Pagination.prototype.defineAccessor = function () {\n    return new core_1.PaginationAccessor('p');\n  };\n\n  Pagination.prototype.getCurrentPage = function () {\n    return Number(this.accessor.state.getValue()) || 1;\n  };\n\n  Pagination.prototype.getTotalPages = function () {\n    return Math.ceil(this.getHitsCount() / get(this.getQuery(), 'query.size', 10));\n  };\n\n  Pagination.prototype.isDisabled = function (pageNumber) {\n    return isNaN(pageNumber) || pageNumber < 1 || pageNumber > this.getTotalPages();\n  };\n\n  Pagination.prototype.normalizePage = function (page) {\n    if (page === 'previous') return this.getCurrentPage() - 1;else if (page === 'next') return this.getCurrentPage() + 1;\n    return +page;\n  };\n\n  Pagination.prototype.setPage = function (page) {\n    var pageNumber = this.normalizePage(page);\n\n    if (this.isDisabled(pageNumber)) {\n      return;\n    }\n\n    if (pageNumber == this.getCurrentPage()) {\n      return; // Same page, no need to rerun query\n    }\n\n    this.accessor.state = this.accessor.state.setValue(pageNumber);\n    this.searchkit.performSearch();\n  };\n\n  Pagination.prototype.getPages = function () {\n    var _a = this.props,\n        showNumbers = _a.showNumbers,\n        pageScope = _a.pageScope,\n        showText = _a.showText;\n    var currentPage = this.getCurrentPage();\n    var totalPages = this.getTotalPages();\n    var builder = PaginationUtils_1.Paginator.build({\n      showNumbers: showNumbers,\n      showFirst: true,\n      showPrevious: showText,\n      showNext: showText,\n      showEllipsis: showText\n    });\n    return builder(currentPage, totalPages, this.translate, pageScope);\n  };\n\n  Pagination.prototype.render = function () {\n    var _this = this;\n\n    if (!this.accessor) return null;\n    if (!this.hasHits()) return null;\n    var className = core_1.block(this.props.mod).state({\n      numbered: this.props.showNumbers\n    });\n    var view = core_1.renderComponent(this.props.listComponent, {\n      items: this.getPages(),\n      selectedItems: [this.getCurrentPage()],\n      toggleItem: this.setPage,\n      setItems: function (items) {\n        if (items && items.length > 0) _this.setPage(items[0]);\n      },\n      disabled: this.getTotalPages() <= 1\n    });\n    return React.createElement(\"div\", {\n      className: className\n    }, view);\n  };\n\n  Pagination.translations = {\n    'pagination.previous': 'Previous',\n    'pagination.next': 'Next'\n  };\n  Pagination.propTypes = defaults({\n    translations: core_1.SearchkitComponent.translationsPropType(Pagination.translations),\n    listComponent: core_1.RenderComponentPropType,\n    pageScope: PropTypes.number,\n    showNumbers: PropTypes.bool,\n    showText: PropTypes.bool,\n    showLast: PropTypes.bool\n  }, core_1.SearchkitComponent.propTypes);\n  Pagination.defaultProps = {\n    listComponent: ui_1.Toggle,\n    pageScope: 3,\n    showNumbers: false,\n    showText: true,\n    showLast: false,\n    mod: 'sk-pagination-navigation'\n  };\n  return Pagination;\n}(core_1.SearchkitComponent);\n\nexports.Pagination = Pagination;\n\nvar PaginationSelect =\n/** @class */\nfunction (_super) {\n  __extends(PaginationSelect, _super);\n\n  function PaginationSelect() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  PaginationSelect.defaultProps = defaults({\n    listComponent: ui_1.Select,\n    mod: 'sk-pagination-select',\n    showNumbers: true,\n    showText: false\n  }, Pagination.defaultProps);\n  return PaginationSelect;\n}(Pagination);\n\nexports.PaginationSelect = PaginationSelect;","map":{"version":3,"sources":["../../../../../src/components/search/pagination/src/Pagination.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar PropTypes = require(\"prop-types\");\nvar core_1 = require(\"../../../../core\");\nvar ui_1 = require(\"../../../ui\");\nvar PaginationUtils_1 = require(\"./PaginationUtils\");\nvar defaults = require('lodash/defaults');\nvar get = require('lodash/get');\nvar isNaN = require('lodash/isNaN');\nvar Pagination = /** @class */ (function (_super) {\n    __extends(Pagination, _super);\n    function Pagination(props) {\n        var _this = _super.call(this, props) || this;\n        _this.translations = Pagination.translations;\n        _this.setPage = _this.setPage.bind(_this);\n        return _this;\n    }\n    Pagination.prototype.defineAccessor = function () {\n        return new core_1.PaginationAccessor('p');\n    };\n    Pagination.prototype.getCurrentPage = function () {\n        return Number(this.accessor.state.getValue()) || 1;\n    };\n    Pagination.prototype.getTotalPages = function () {\n        return Math.ceil(this.getHitsCount() / get(this.getQuery(), 'query.size', 10));\n    };\n    Pagination.prototype.isDisabled = function (pageNumber) {\n        return isNaN(pageNumber) || pageNumber < 1 || pageNumber > this.getTotalPages();\n    };\n    Pagination.prototype.normalizePage = function (page) {\n        if (page === 'previous')\n            return this.getCurrentPage() - 1;\n        else if (page === 'next')\n            return this.getCurrentPage() + 1;\n        return +page;\n    };\n    Pagination.prototype.setPage = function (page) {\n        var pageNumber = this.normalizePage(page);\n        if (this.isDisabled(pageNumber)) {\n            return;\n        }\n        if (pageNumber == this.getCurrentPage()) {\n            return; // Same page, no need to rerun query\n        }\n        this.accessor.state = this.accessor.state.setValue(pageNumber);\n        this.searchkit.performSearch();\n    };\n    Pagination.prototype.getPages = function () {\n        var _a = this.props, showNumbers = _a.showNumbers, pageScope = _a.pageScope, showText = _a.showText;\n        var currentPage = this.getCurrentPage();\n        var totalPages = this.getTotalPages();\n        var builder = PaginationUtils_1.Paginator.build({\n            showNumbers: showNumbers,\n            showFirst: true,\n            showPrevious: showText,\n            showNext: showText,\n            showEllipsis: showText\n        });\n        return builder(currentPage, totalPages, this.translate, pageScope);\n    };\n    Pagination.prototype.render = function () {\n        var _this = this;\n        if (!this.accessor)\n            return null;\n        if (!this.hasHits())\n            return null;\n        var className = core_1.block(this.props.mod).state({ numbered: this.props.showNumbers });\n        var view = core_1.renderComponent(this.props.listComponent, {\n            items: this.getPages(),\n            selectedItems: [this.getCurrentPage()],\n            toggleItem: this.setPage,\n            setItems: function (items) {\n                if (items && items.length > 0)\n                    _this.setPage(items[0]);\n            },\n            disabled: this.getTotalPages() <= 1\n        });\n        return React.createElement(\"div\", { className: className }, view);\n    };\n    Pagination.translations = {\n        'pagination.previous': 'Previous',\n        'pagination.next': 'Next'\n    };\n    Pagination.propTypes = defaults({\n        translations: core_1.SearchkitComponent.translationsPropType(Pagination.translations),\n        listComponent: core_1.RenderComponentPropType,\n        pageScope: PropTypes.number,\n        showNumbers: PropTypes.bool,\n        showText: PropTypes.bool,\n        showLast: PropTypes.bool\n    }, core_1.SearchkitComponent.propTypes);\n    Pagination.defaultProps = {\n        listComponent: ui_1.Toggle,\n        pageScope: 3,\n        showNumbers: false,\n        showText: true,\n        showLast: false,\n        mod: 'sk-pagination-navigation'\n    };\n    return Pagination;\n}(core_1.SearchkitComponent));\nexports.Pagination = Pagination;\nvar PaginationSelect = /** @class */ (function (_super) {\n    __extends(PaginationSelect, _super);\n    function PaginationSelect() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    PaginationSelect.defaultProps = defaults({\n        listComponent: ui_1.Select,\n        mod: 'sk-pagination-select',\n        showNumbers: true,\n        showText: false\n    }, Pagination.defaultProps);\n    return PaginationSelect;\n}(Pagination));\nexports.PaginationSelect = PaginationSelect;\n//# sourceMappingURL=Pagination.js.map"]},"metadata":{},"sourceType":"script"}