{"ast":null,"code":"\"use strict\";\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _activeElement = _interopRequireDefault(require(\"dom-helpers/activeElement\"));\n\nvar _contains = _interopRequireDefault(require(\"dom-helpers/query/contains\"));\n\nvar _inDOM = _interopRequireDefault(require(\"dom-helpers/util/inDOM\"));\n\nvar _listen = _interopRequireDefault(require(\"dom-helpers/events/listen\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _componentOrElement = _interopRequireDefault(require(\"prop-types-extra/lib/componentOrElement\"));\n\nvar _elementType = _interopRequireDefault(require(\"prop-types-extra/lib/elementType\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactDom = _interopRequireDefault(require(\"react-dom\"));\n\nvar _ModalManager = _interopRequireDefault(require(\"./ModalManager\"));\n\nvar _Portal = _interopRequireDefault(require(\"./Portal\"));\n\nvar _getContainer = _interopRequireDefault(require(\"./utils/getContainer\"));\n\nvar _ownerDocument = _interopRequireDefault(require(\"./utils/ownerDocument\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nvar modalManager = new _ModalManager.default();\n\nfunction omitProps(props, propTypes) {\n  var keys = Object.keys(props);\n  var newProps = {};\n  keys.map(function (prop) {\n    if (!Object.prototype.hasOwnProperty.call(propTypes, prop)) {\n      newProps[prop] = props[prop];\n    }\n  });\n  return newProps;\n}\n/**\n * Love them or hate them, `<Modal />` provides a solid foundation for creating dialogs, lightboxes, or whatever else.\n * The Modal component renders its `children` node in front of a backdrop component.\n *\n * The Modal offers a few helpful features over using just a `<Portal/>` component and some styles:\n *\n * - Manages dialog stacking when one-at-a-time just isn't enough.\n * - Creates a backdrop, for disabling interaction below the modal.\n * - It properly manages focus; moving to the modal content, and keeping it there until the modal is closed.\n * - It disables scrolling of the page content while open.\n * - Adds the appropriate ARIA roles are automatically.\n * - Easily pluggable animations via a `<Transition/>` component.\n *\n * Note that, in the same way the backdrop element prevents users from clicking or interacting\n * with the page content underneath the Modal, Screen readers also need to be signaled to not to\n * interact with page content while the Modal is open. To do this, we use a common technique of applying\n * the `aria-hidden='true'` attribute to the non-Modal elements in the Modal `container`. This means that for\n * a Modal to be truly modal, it should have a `container` that is _outside_ your app's\n * React hierarchy (such as the default: document.body).\n */\n\n\nvar Modal = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Modal, _React$Component);\n\n  function Modal() {\n    var _this;\n\n    for (var _len = arguments.length, _args = new Array(_len), _key = 0; _key < _len; _key++) {\n      _args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(_args)) || this;\n    _this.state = {\n      exited: !_this.props.show\n    };\n\n    _this.onPortalRendered = function () {\n      if (_this.props.onShow) {\n        _this.props.onShow();\n      } // autofocus after onShow, to not trigger a focus event for previous\n      // modals before this one is shown.\n\n\n      _this.autoFocus();\n    };\n\n    _this.onShow = function () {\n      var doc = (0, _ownerDocument.default)(_assertThisInitialized(_assertThisInitialized(_this)));\n      var container = (0, _getContainer.default)(_this.props.container, doc.body);\n\n      _this.props.manager.add(_assertThisInitialized(_assertThisInitialized(_this)), container, _this.props.containerClassName);\n\n      _this.removeKeydownListener = (0, _listen.default)(doc, 'keydown', _this.handleDocumentKeyDown);\n      _this.removeFocusListener = (0, _listen.default)(doc, 'focus', // the timeout is necessary b/c this will run before the new modal is mounted\n      // and so steals focus from it\n      function () {\n        return setTimeout(_this.enforceFocus);\n      }, true);\n    };\n\n    _this.onHide = function () {\n      _this.props.manager.remove(_assertThisInitialized(_assertThisInitialized(_this)));\n\n      _this.removeKeydownListener();\n\n      _this.removeFocusListener();\n\n      if (_this.props.restoreFocus) {\n        _this.restoreLastFocus();\n      }\n    };\n\n    _this.setDialogRef = function (ref) {\n      _this.dialog = ref;\n    };\n\n    _this.setBackdropRef = function (ref) {\n      _this.backdrop = ref && _reactDom.default.findDOMNode(ref);\n    };\n\n    _this.handleHidden = function () {\n      _this.setState({\n        exited: true\n      });\n\n      _this.onHide();\n\n      if (_this.props.onExited) {\n        var _this$props;\n\n        (_this$props = _this.props).onExited.apply(_this$props, arguments);\n      }\n    };\n\n    _this.handleBackdropClick = function (e) {\n      if (e.target !== e.currentTarget) {\n        return;\n      }\n\n      if (_this.props.onBackdropClick) {\n        _this.props.onBackdropClick(e);\n      }\n\n      if (_this.props.backdrop === true) {\n        _this.props.onHide();\n      }\n    };\n\n    _this.handleDocumentKeyDown = function (e) {\n      if (_this.props.keyboard && e.keyCode === 27 && _this.isTopModal()) {\n        if (_this.props.onEscapeKeyDown) {\n          _this.props.onEscapeKeyDown(e);\n        }\n\n        _this.props.onHide();\n      }\n    };\n\n    _this.enforceFocus = function () {\n      if (!_this.props.enforceFocus || !_this._isMounted || !_this.isTopModal()) {\n        return;\n      }\n\n      var currentActiveElement = (0, _activeElement.default)((0, _ownerDocument.default)(_assertThisInitialized(_assertThisInitialized(_this))));\n\n      if (_this.dialog && !(0, _contains.default)(_this.dialog, currentActiveElement)) {\n        _this.dialog.focus();\n      }\n    };\n\n    _this.renderBackdrop = function () {\n      var _this$props2 = _this.props,\n          renderBackdrop = _this$props2.renderBackdrop,\n          Transition = _this$props2.backdropTransition;\n      var backdrop = renderBackdrop({\n        ref: _this.setBackdropRef,\n        onClick: _this.handleBackdropClick\n      });\n\n      if (Transition) {\n        backdrop = _react.default.createElement(Transition, {\n          appear: true,\n          in: _this.props.show\n        }, backdrop);\n      }\n\n      return backdrop;\n    };\n\n    return _this;\n  }\n\n  Modal.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps) {\n    if (nextProps.show) {\n      return {\n        exited: false\n      };\n    } else if (!nextProps.transition) {\n      // Otherwise let handleHidden take care of marking exited.\n      return {\n        exited: true\n      };\n    }\n\n    return null;\n  };\n\n  var _proto = Modal.prototype;\n\n  _proto.getSnapshotBeforeUpdate = function getSnapshotBeforeUpdate(prevProps) {\n    if (_inDOM.default && !prevProps.show && this.props.show) {\n      this.lastFocus = (0, _activeElement.default)();\n    }\n\n    return null;\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    this._isMounted = true;\n\n    if (this.props.show) {\n      this.onShow();\n    }\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var transition = this.props.transition;\n\n    if (prevProps.show && !this.props.show && !transition) {\n      // Otherwise handleHidden will call this.\n      this.onHide();\n    } else if (!prevProps.show && this.props.show) {\n      this.onShow();\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    var _this$props3 = this.props,\n        show = _this$props3.show,\n        transition = _this$props3.transition;\n    this._isMounted = false;\n\n    if (show || transition && !this.state.exited) {\n      this.onHide();\n    }\n  };\n\n  _proto.autoFocus = function autoFocus() {\n    if (!this.props.autoFocus) return;\n    var currentActiveElement = (0, _activeElement.default)((0, _ownerDocument.default)(this));\n\n    if (this.dialog && !(0, _contains.default)(this.dialog, currentActiveElement)) {\n      this.lastFocus = currentActiveElement;\n      this.dialog.focus();\n    }\n  };\n\n  _proto.restoreLastFocus = function restoreLastFocus() {\n    // Support: <=IE11 doesn't support `focus()` on svg elements (RB: #917)\n    if (this.lastFocus && this.lastFocus.focus) {\n      this.lastFocus.focus();\n      this.lastFocus = null;\n    }\n  };\n\n  _proto.isTopModal = function isTopModal() {\n    return this.props.manager.isTopModal(this);\n  };\n\n  _proto.render = function render() {\n    var _this$props4 = this.props,\n        show = _this$props4.show,\n        container = _this$props4.container,\n        children = _this$props4.children,\n        renderDialog = _this$props4.renderDialog,\n        _this$props4$role = _this$props4.role,\n        role = _this$props4$role === void 0 ? 'dialog' : _this$props4$role,\n        Transition = _this$props4.transition,\n        backdrop = _this$props4.backdrop,\n        className = _this$props4.className,\n        style = _this$props4.style,\n        onExit = _this$props4.onExit,\n        onExiting = _this$props4.onExiting,\n        onEnter = _this$props4.onEnter,\n        onEntering = _this$props4.onEntering,\n        onEntered = _this$props4.onEntered,\n        props = _objectWithoutPropertiesLoose(_this$props4, [\"show\", \"container\", \"children\", \"renderDialog\", \"role\", \"transition\", \"backdrop\", \"className\", \"style\", \"onExit\", \"onExiting\", \"onEnter\", \"onEntering\", \"onEntered\"]);\n\n    if (!(show || Transition && !this.state.exited)) {\n      return null;\n    }\n\n    var dialogProps = _extends({\n      role: role,\n      ref: this.setDialogRef,\n      // apparently only works on the dialog role element\n      'aria-modal': role === 'dialog' ? true : undefined\n    }, omitProps(props, Modal.propTypes), {\n      style: style,\n      className: className,\n      tabIndex: '-1'\n    });\n\n    var dialog = renderDialog ? renderDialog(dialogProps) : _react.default.createElement(\"div\", dialogProps, _react.default.cloneElement(children, {\n      role: 'document'\n    }));\n\n    if (Transition) {\n      dialog = _react.default.createElement(Transition, {\n        appear: true,\n        unmountOnExit: true,\n        in: show,\n        onExit: onExit,\n        onExiting: onExiting,\n        onExited: this.handleHidden,\n        onEnter: onEnter,\n        onEntering: onEntering,\n        onEntered: onEntered\n      }, dialog);\n    }\n\n    return _react.default.createElement(_Portal.default, {\n      container: container,\n      onRendered: this.onPortalRendered\n    }, _react.default.createElement(_react.default.Fragment, null, backdrop && this.renderBackdrop(), dialog));\n  };\n\n  return Modal;\n}(_react.default.Component);\n\nModal.propTypes = {\n  /**\n   * Set the visibility of the Modal\n   */\n  show: _propTypes.default.bool,\n\n  /**\n   * A Node, Component instance, or function that returns either. The Modal is appended to it's container element.\n   *\n   * For the sake of assistive technologies, the container should usually be the document body, so that the rest of the\n   * page content can be placed behind a virtual backdrop as well as a visual one.\n   */\n  container: _propTypes.default.oneOfType([_componentOrElement.default, _propTypes.default.func]),\n\n  /**\n   * A callback fired when the Modal is opening.\n   */\n  onShow: _propTypes.default.func,\n\n  /**\n   * A callback fired when either the backdrop is clicked, or the escape key is pressed.\n   *\n   * The `onHide` callback only signals intent from the Modal,\n   * you must actually set the `show` prop to `false` for the Modal to close.\n   */\n  onHide: _propTypes.default.func,\n\n  /**\n   * Include a backdrop component.\n   */\n  backdrop: _propTypes.default.oneOfType([_propTypes.default.bool, _propTypes.default.oneOf(['static'])]),\n\n  /**\n   * A function that returns the dialog component. Useful for custom\n   * rendering. **Note:** the component should make sure to apply the provided ref.\n   *\n   * ```js\n   *  renderDialog={props => <MyDialog {...props} />}\n   * ```\n   */\n  renderDialog: _propTypes.default.func,\n\n  /**\n   * A function that returns a backdrop component. Useful for custom\n   * backdrop rendering.\n   *\n   * ```js\n   *  renderBackdrop={props => <MyBackdrop {...props} />}\n   * ```\n   */\n  renderBackdrop: _propTypes.default.func,\n\n  /**\n   * A callback fired when the escape key, if specified in `keyboard`, is pressed.\n   */\n  onEscapeKeyDown: _propTypes.default.func,\n\n  /**\n   * A callback fired when the backdrop, if specified, is clicked.\n   */\n  onBackdropClick: _propTypes.default.func,\n\n  /**\n   * A css class or set of classes applied to the modal container when the modal is open,\n   * and removed when it is closed.\n   */\n  containerClassName: _propTypes.default.string,\n\n  /**\n   * Close the modal when escape key is pressed\n   */\n  keyboard: _propTypes.default.bool,\n\n  /**\n   * A `react-transition-group@2.0.0` `<Transition/>` component used\n   * to control animations for the dialog component.\n   */\n  transition: _elementType.default,\n\n  /**\n   * A `react-transition-group@2.0.0` `<Transition/>` component used\n   * to control animations for the backdrop components.\n   */\n  backdropTransition: _elementType.default,\n\n  /**\n   * When `true` The modal will automatically shift focus to itself when it opens, and\n   * replace it to the last focused element when it closes. This also\n   * works correctly with any Modal children that have the `autoFocus` prop.\n   *\n   * Generally this should never be set to `false` as it makes the Modal less\n   * accessible to assistive technologies, like screen readers.\n   */\n  autoFocus: _propTypes.default.bool,\n\n  /**\n   * When `true` The modal will prevent focus from leaving the Modal while open.\n   *\n   * Generally this should never be set to `false` as it makes the Modal less\n   * accessible to assistive technologies, like screen readers.\n   */\n  enforceFocus: _propTypes.default.bool,\n\n  /**\n   * When `true` The modal will restore focus to previously focused element once\n   * modal is hidden\n   */\n  restoreFocus: _propTypes.default.bool,\n\n  /**\n   * Callback fired before the Modal transitions in\n   */\n  onEnter: _propTypes.default.func,\n\n  /**\n   * Callback fired as the Modal begins to transition in\n   */\n  onEntering: _propTypes.default.func,\n\n  /**\n   * Callback fired after the Modal finishes transitioning in\n   */\n  onEntered: _propTypes.default.func,\n\n  /**\n   * Callback fired right before the Modal transitions out\n   */\n  onExit: _propTypes.default.func,\n\n  /**\n   * Callback fired as the Modal begins to transition out\n   */\n  onExiting: _propTypes.default.func,\n\n  /**\n   * Callback fired after the Modal finishes transitioning out\n   */\n  onExited: _propTypes.default.func,\n\n  /**\n   * A ModalManager instance used to track and manage the state of open\n   * Modals. Useful when customizing how modals interact within a container\n   */\n  manager: _propTypes.default.object.isRequired\n};\nModal.defaultProps = {\n  show: false,\n  role: 'dialog',\n  backdrop: true,\n  keyboard: true,\n  autoFocus: true,\n  enforceFocus: true,\n  restoreFocus: true,\n  onHide: function onHide() {},\n  manager: modalManager,\n  renderBackdrop: function renderBackdrop(props) {\n    return _react.default.createElement(\"div\", props);\n  }\n};\nModal.Manager = _ModalManager.default;\nvar _default = Modal;\nexports.default = _default;\nmodule.exports = exports.default;","map":{"version":3,"sources":["/Users/mohitkumar/github/qhsearch/new_qhsearch/node_modules/react-overlays/Modal.js"],"names":["exports","__esModule","default","_activeElement","_interopRequireDefault","require","_contains","_inDOM","_listen","_propTypes","_componentOrElement","_elementType","_react","_reactDom","_ModalManager","_Portal","_getContainer","_ownerDocument","obj","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","_inheritsLoose","subClass","superClass","create","constructor","__proto__","_assertThisInitialized","self","ReferenceError","modalManager","omitProps","props","propTypes","newProps","map","prop","Modal","_React$Component","_this","_len","_args","Array","_key","concat","state","exited","show","onPortalRendered","onShow","autoFocus","doc","container","body","manager","add","containerClassName","removeKeydownListener","handleDocumentKeyDown","removeFocusListener","setTimeout","enforceFocus","onHide","remove","restoreFocus","restoreLastFocus","setDialogRef","ref","dialog","setBackdropRef","backdrop","findDOMNode","handleHidden","setState","onExited","_this$props","handleBackdropClick","e","currentTarget","onBackdropClick","keyboard","keyCode","isTopModal","onEscapeKeyDown","_isMounted","currentActiveElement","focus","renderBackdrop","_this$props2","Transition","backdropTransition","onClick","createElement","appear","in","getDerivedStateFromProps","nextProps","transition","_proto","getSnapshotBeforeUpdate","prevProps","lastFocus","componentDidMount","componentDidUpdate","componentWillUnmount","_this$props3","render","_this$props4","children","renderDialog","_this$props4$role","role","className","style","onExit","onExiting","onEnter","onEntering","onEntered","dialogProps","undefined","tabIndex","cloneElement","unmountOnExit","onRendered","Fragment","Component","bool","oneOfType","func","oneOf","string","object","isRequired","defaultProps","Manager","_default","module"],"mappings":"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","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _activeElement = _interopRequireDefault(require(\"dom-helpers/activeElement\"));\n\nvar _contains = _interopRequireDefault(require(\"dom-helpers/query/contains\"));\n\nvar _inDOM = _interopRequireDefault(require(\"dom-helpers/util/inDOM\"));\n\nvar _listen = _interopRequireDefault(require(\"dom-helpers/events/listen\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _componentOrElement = _interopRequireDefault(require(\"prop-types-extra/lib/componentOrElement\"));\n\nvar _elementType = _interopRequireDefault(require(\"prop-types-extra/lib/elementType\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactDom = _interopRequireDefault(require(\"react-dom\"));\n\nvar _ModalManager = _interopRequireDefault(require(\"./ModalManager\"));\n\nvar _Portal = _interopRequireDefault(require(\"./Portal\"));\n\nvar _getContainer = _interopRequireDefault(require(\"./utils/getContainer\"));\n\nvar _ownerDocument = _interopRequireDefault(require(\"./utils/ownerDocument\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nvar modalManager = new _ModalManager.default();\n\nfunction omitProps(props, propTypes) {\n  var keys = Object.keys(props);\n  var newProps = {};\n  keys.map(function (prop) {\n    if (!Object.prototype.hasOwnProperty.call(propTypes, prop)) {\n      newProps[prop] = props[prop];\n    }\n  });\n  return newProps;\n}\n/**\n * Love them or hate them, `<Modal />` provides a solid foundation for creating dialogs, lightboxes, or whatever else.\n * The Modal component renders its `children` node in front of a backdrop component.\n *\n * The Modal offers a few helpful features over using just a `<Portal/>` component and some styles:\n *\n * - Manages dialog stacking when one-at-a-time just isn't enough.\n * - Creates a backdrop, for disabling interaction below the modal.\n * - It properly manages focus; moving to the modal content, and keeping it there until the modal is closed.\n * - It disables scrolling of the page content while open.\n * - Adds the appropriate ARIA roles are automatically.\n * - Easily pluggable animations via a `<Transition/>` component.\n *\n * Note that, in the same way the backdrop element prevents users from clicking or interacting\n * with the page content underneath the Modal, Screen readers also need to be signaled to not to\n * interact with page content while the Modal is open. To do this, we use a common technique of applying\n * the `aria-hidden='true'` attribute to the non-Modal elements in the Modal `container`. This means that for\n * a Modal to be truly modal, it should have a `container` that is _outside_ your app's\n * React hierarchy (such as the default: document.body).\n */\n\n\nvar Modal =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(Modal, _React$Component);\n\n  function Modal() {\n    var _this;\n\n    for (var _len = arguments.length, _args = new Array(_len), _key = 0; _key < _len; _key++) {\n      _args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(_args)) || this;\n    _this.state = {\n      exited: !_this.props.show\n    };\n\n    _this.onPortalRendered = function () {\n      if (_this.props.onShow) {\n        _this.props.onShow();\n      } // autofocus after onShow, to not trigger a focus event for previous\n      // modals before this one is shown.\n\n\n      _this.autoFocus();\n    };\n\n    _this.onShow = function () {\n      var doc = (0, _ownerDocument.default)(_assertThisInitialized(_assertThisInitialized(_this)));\n      var container = (0, _getContainer.default)(_this.props.container, doc.body);\n\n      _this.props.manager.add(_assertThisInitialized(_assertThisInitialized(_this)), container, _this.props.containerClassName);\n\n      _this.removeKeydownListener = (0, _listen.default)(doc, 'keydown', _this.handleDocumentKeyDown);\n      _this.removeFocusListener = (0, _listen.default)(doc, 'focus', // the timeout is necessary b/c this will run before the new modal is mounted\n      // and so steals focus from it\n      function () {\n        return setTimeout(_this.enforceFocus);\n      }, true);\n    };\n\n    _this.onHide = function () {\n      _this.props.manager.remove(_assertThisInitialized(_assertThisInitialized(_this)));\n\n      _this.removeKeydownListener();\n\n      _this.removeFocusListener();\n\n      if (_this.props.restoreFocus) {\n        _this.restoreLastFocus();\n      }\n    };\n\n    _this.setDialogRef = function (ref) {\n      _this.dialog = ref;\n    };\n\n    _this.setBackdropRef = function (ref) {\n      _this.backdrop = ref && _reactDom.default.findDOMNode(ref);\n    };\n\n    _this.handleHidden = function () {\n      _this.setState({\n        exited: true\n      });\n\n      _this.onHide();\n\n      if (_this.props.onExited) {\n        var _this$props;\n\n        (_this$props = _this.props).onExited.apply(_this$props, arguments);\n      }\n    };\n\n    _this.handleBackdropClick = function (e) {\n      if (e.target !== e.currentTarget) {\n        return;\n      }\n\n      if (_this.props.onBackdropClick) {\n        _this.props.onBackdropClick(e);\n      }\n\n      if (_this.props.backdrop === true) {\n        _this.props.onHide();\n      }\n    };\n\n    _this.handleDocumentKeyDown = function (e) {\n      if (_this.props.keyboard && e.keyCode === 27 && _this.isTopModal()) {\n        if (_this.props.onEscapeKeyDown) {\n          _this.props.onEscapeKeyDown(e);\n        }\n\n        _this.props.onHide();\n      }\n    };\n\n    _this.enforceFocus = function () {\n      if (!_this.props.enforceFocus || !_this._isMounted || !_this.isTopModal()) {\n        return;\n      }\n\n      var currentActiveElement = (0, _activeElement.default)((0, _ownerDocument.default)(_assertThisInitialized(_assertThisInitialized(_this))));\n\n      if (_this.dialog && !(0, _contains.default)(_this.dialog, currentActiveElement)) {\n        _this.dialog.focus();\n      }\n    };\n\n    _this.renderBackdrop = function () {\n      var _this$props2 = _this.props,\n          renderBackdrop = _this$props2.renderBackdrop,\n          Transition = _this$props2.backdropTransition;\n      var backdrop = renderBackdrop({\n        ref: _this.setBackdropRef,\n        onClick: _this.handleBackdropClick\n      });\n\n      if (Transition) {\n        backdrop = _react.default.createElement(Transition, {\n          appear: true,\n          in: _this.props.show\n        }, backdrop);\n      }\n\n      return backdrop;\n    };\n\n    return _this;\n  }\n\n  Modal.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps) {\n    if (nextProps.show) {\n      return {\n        exited: false\n      };\n    } else if (!nextProps.transition) {\n      // Otherwise let handleHidden take care of marking exited.\n      return {\n        exited: true\n      };\n    }\n\n    return null;\n  };\n\n  var _proto = Modal.prototype;\n\n  _proto.getSnapshotBeforeUpdate = function getSnapshotBeforeUpdate(prevProps) {\n    if (_inDOM.default && !prevProps.show && this.props.show) {\n      this.lastFocus = (0, _activeElement.default)();\n    }\n\n    return null;\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    this._isMounted = true;\n\n    if (this.props.show) {\n      this.onShow();\n    }\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var transition = this.props.transition;\n\n    if (prevProps.show && !this.props.show && !transition) {\n      // Otherwise handleHidden will call this.\n      this.onHide();\n    } else if (!prevProps.show && this.props.show) {\n      this.onShow();\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    var _this$props3 = this.props,\n        show = _this$props3.show,\n        transition = _this$props3.transition;\n    this._isMounted = false;\n\n    if (show || transition && !this.state.exited) {\n      this.onHide();\n    }\n  };\n\n  _proto.autoFocus = function autoFocus() {\n    if (!this.props.autoFocus) return;\n    var currentActiveElement = (0, _activeElement.default)((0, _ownerDocument.default)(this));\n\n    if (this.dialog && !(0, _contains.default)(this.dialog, currentActiveElement)) {\n      this.lastFocus = currentActiveElement;\n      this.dialog.focus();\n    }\n  };\n\n  _proto.restoreLastFocus = function restoreLastFocus() {\n    // Support: <=IE11 doesn't support `focus()` on svg elements (RB: #917)\n    if (this.lastFocus && this.lastFocus.focus) {\n      this.lastFocus.focus();\n      this.lastFocus = null;\n    }\n  };\n\n  _proto.isTopModal = function isTopModal() {\n    return this.props.manager.isTopModal(this);\n  };\n\n  _proto.render = function render() {\n    var _this$props4 = this.props,\n        show = _this$props4.show,\n        container = _this$props4.container,\n        children = _this$props4.children,\n        renderDialog = _this$props4.renderDialog,\n        _this$props4$role = _this$props4.role,\n        role = _this$props4$role === void 0 ? 'dialog' : _this$props4$role,\n        Transition = _this$props4.transition,\n        backdrop = _this$props4.backdrop,\n        className = _this$props4.className,\n        style = _this$props4.style,\n        onExit = _this$props4.onExit,\n        onExiting = _this$props4.onExiting,\n        onEnter = _this$props4.onEnter,\n        onEntering = _this$props4.onEntering,\n        onEntered = _this$props4.onEntered,\n        props = _objectWithoutPropertiesLoose(_this$props4, [\"show\", \"container\", \"children\", \"renderDialog\", \"role\", \"transition\", \"backdrop\", \"className\", \"style\", \"onExit\", \"onExiting\", \"onEnter\", \"onEntering\", \"onEntered\"]);\n\n    if (!(show || Transition && !this.state.exited)) {\n      return null;\n    }\n\n    var dialogProps = _extends({\n      role: role,\n      ref: this.setDialogRef,\n      // apparently only works on the dialog role element\n      'aria-modal': role === 'dialog' ? true : undefined\n    }, omitProps(props, Modal.propTypes), {\n      style: style,\n      className: className,\n      tabIndex: '-1'\n    });\n\n    var dialog = renderDialog ? renderDialog(dialogProps) : _react.default.createElement(\"div\", dialogProps, _react.default.cloneElement(children, {\n      role: 'document'\n    }));\n\n    if (Transition) {\n      dialog = _react.default.createElement(Transition, {\n        appear: true,\n        unmountOnExit: true,\n        in: show,\n        onExit: onExit,\n        onExiting: onExiting,\n        onExited: this.handleHidden,\n        onEnter: onEnter,\n        onEntering: onEntering,\n        onEntered: onEntered\n      }, dialog);\n    }\n\n    return _react.default.createElement(_Portal.default, {\n      container: container,\n      onRendered: this.onPortalRendered\n    }, _react.default.createElement(_react.default.Fragment, null, backdrop && this.renderBackdrop(), dialog));\n  };\n\n  return Modal;\n}(_react.default.Component);\n\nModal.propTypes = {\n  /**\n   * Set the visibility of the Modal\n   */\n  show: _propTypes.default.bool,\n\n  /**\n   * A Node, Component instance, or function that returns either. The Modal is appended to it's container element.\n   *\n   * For the sake of assistive technologies, the container should usually be the document body, so that the rest of the\n   * page content can be placed behind a virtual backdrop as well as a visual one.\n   */\n  container: _propTypes.default.oneOfType([_componentOrElement.default, _propTypes.default.func]),\n\n  /**\n   * A callback fired when the Modal is opening.\n   */\n  onShow: _propTypes.default.func,\n\n  /**\n   * A callback fired when either the backdrop is clicked, or the escape key is pressed.\n   *\n   * The `onHide` callback only signals intent from the Modal,\n   * you must actually set the `show` prop to `false` for the Modal to close.\n   */\n  onHide: _propTypes.default.func,\n\n  /**\n   * Include a backdrop component.\n   */\n  backdrop: _propTypes.default.oneOfType([_propTypes.default.bool, _propTypes.default.oneOf(['static'])]),\n\n  /**\n   * A function that returns the dialog component. Useful for custom\n   * rendering. **Note:** the component should make sure to apply the provided ref.\n   *\n   * ```js\n   *  renderDialog={props => <MyDialog {...props} />}\n   * ```\n   */\n  renderDialog: _propTypes.default.func,\n\n  /**\n   * A function that returns a backdrop component. Useful for custom\n   * backdrop rendering.\n   *\n   * ```js\n   *  renderBackdrop={props => <MyBackdrop {...props} />}\n   * ```\n   */\n  renderBackdrop: _propTypes.default.func,\n\n  /**\n   * A callback fired when the escape key, if specified in `keyboard`, is pressed.\n   */\n  onEscapeKeyDown: _propTypes.default.func,\n\n  /**\n   * A callback fired when the backdrop, if specified, is clicked.\n   */\n  onBackdropClick: _propTypes.default.func,\n\n  /**\n   * A css class or set of classes applied to the modal container when the modal is open,\n   * and removed when it is closed.\n   */\n  containerClassName: _propTypes.default.string,\n\n  /**\n   * Close the modal when escape key is pressed\n   */\n  keyboard: _propTypes.default.bool,\n\n  /**\n   * A `react-transition-group@2.0.0` `<Transition/>` component used\n   * to control animations for the dialog component.\n   */\n  transition: _elementType.default,\n\n  /**\n   * A `react-transition-group@2.0.0` `<Transition/>` component used\n   * to control animations for the backdrop components.\n   */\n  backdropTransition: _elementType.default,\n\n  /**\n   * When `true` The modal will automatically shift focus to itself when it opens, and\n   * replace it to the last focused element when it closes. This also\n   * works correctly with any Modal children that have the `autoFocus` prop.\n   *\n   * Generally this should never be set to `false` as it makes the Modal less\n   * accessible to assistive technologies, like screen readers.\n   */\n  autoFocus: _propTypes.default.bool,\n\n  /**\n   * When `true` The modal will prevent focus from leaving the Modal while open.\n   *\n   * Generally this should never be set to `false` as it makes the Modal less\n   * accessible to assistive technologies, like screen readers.\n   */\n  enforceFocus: _propTypes.default.bool,\n\n  /**\n   * When `true` The modal will restore focus to previously focused element once\n   * modal is hidden\n   */\n  restoreFocus: _propTypes.default.bool,\n\n  /**\n   * Callback fired before the Modal transitions in\n   */\n  onEnter: _propTypes.default.func,\n\n  /**\n   * Callback fired as the Modal begins to transition in\n   */\n  onEntering: _propTypes.default.func,\n\n  /**\n   * Callback fired after the Modal finishes transitioning in\n   */\n  onEntered: _propTypes.default.func,\n\n  /**\n   * Callback fired right before the Modal transitions out\n   */\n  onExit: _propTypes.default.func,\n\n  /**\n   * Callback fired as the Modal begins to transition out\n   */\n  onExiting: _propTypes.default.func,\n\n  /**\n   * Callback fired after the Modal finishes transitioning out\n   */\n  onExited: _propTypes.default.func,\n\n  /**\n   * A ModalManager instance used to track and manage the state of open\n   * Modals. Useful when customizing how modals interact within a container\n   */\n  manager: _propTypes.default.object.isRequired\n};\nModal.defaultProps = {\n  show: false,\n  role: 'dialog',\n  backdrop: true,\n  keyboard: true,\n  autoFocus: true,\n  enforceFocus: true,\n  restoreFocus: true,\n  onHide: function onHide() {},\n  manager: modalManager,\n  renderBackdrop: function renderBackdrop(props) {\n    return _react.default.createElement(\"div\", props);\n  }\n};\nModal.Manager = _ModalManager.default;\nvar _default = Modal;\nexports.default = _default;\nmodule.exports = exports.default;"]},"metadata":{},"sourceType":"script"}