{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar PropTypes = require(\"prop-types\");\n\nvar core_1 = require(\"../../../../core\");\n\nvar map = require('lodash/map');\n\nvar defaults = require('lodash/defaults');\n\nvar HitItem =\n/** @class */\nfunction (_super) {\n  __extends(HitItem, _super);\n\n  function HitItem() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  HitItem.prototype.render = function () {\n    return React.createElement(\"div\", {\n      \"data-qa\": \"hit\",\n      className: this.props.bemBlocks.item().mix(this.props.bemBlocks.container('item'))\n    }, this.props.result._id);\n  };\n\n  return HitItem;\n}(React.PureComponent);\n\nexports.HitItem = HitItem;\n\nvar HitsList =\n/** @class */\nfunction (_super) {\n  __extends(HitsList, _super);\n\n  function HitsList() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  HitsList.prototype.render = function () {\n    var _a = this.props,\n        hits = _a.hits,\n        mod = _a.mod,\n        className = _a.className,\n        itemComponent = _a.itemComponent;\n    var bemBlocks = {\n      container: core_1.block(mod).el,\n      item: core_1.block(mod + \"-hit\").el\n    };\n    return React.createElement(\"div\", {\n      \"data-qa\": \"hits\",\n      className: bemBlocks.container().mix(className)\n    }, map(hits, function (result, index) {\n      return core_1.renderComponent(itemComponent, {\n        key: result._id + \"_\" + result._index,\n        result: result,\n        bemBlocks: bemBlocks,\n        index: index\n      });\n    }));\n  };\n\n  HitsList.defaultProps = {\n    mod: 'sk-hits',\n    itemComponent: HitItem\n  };\n  HitsList.propTypes = {\n    mod: PropTypes.string,\n    className: PropTypes.string,\n    itemComponent: core_1.RenderComponentPropType,\n    hits: PropTypes.any\n  };\n  return HitsList;\n}(React.PureComponent);\n\nexports.HitsList = HitsList;\n\nvar Hits =\n/** @class */\nfunction (_super) {\n  __extends(Hits, _super);\n\n  function Hits() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Hits.prototype.componentDidMount = function () {\n    _super.prototype.componentDidMount.call(this);\n\n    if (this.props.hitsPerPage) {\n      this.searchkit.getAccessorByType(core_1.PageSizeAccessor).defaultSize = this.props.hitsPerPage;\n    }\n\n    if (this.props.highlightFields) {\n      this.searchkit.addAccessor(new core_1.HighlightAccessor(this.props.highlightFields));\n    }\n\n    if (this.props.customHighlight) {\n      this.searchkit.addAccessor(new core_1.CustomHighlightAccessor(this.props.customHighlight));\n    }\n\n    if (this.props.sourceFilter) {\n      this.searchkit.addAccessor(new core_1.SourceFilterAccessor(this.props.sourceFilter));\n    }\n\n    this.hitsAccessor = new core_1.HitsAccessor({\n      scrollTo: this.props.scrollTo\n    });\n    this.searchkit.addAccessor(this.hitsAccessor);\n  };\n\n  Hits.prototype.render = function () {\n    var hits = this.getHits();\n    var hasHits = hits.length > 0;\n\n    if (!this.isInitialLoading() && hasHits) {\n      var _a = this.props,\n          listComponent = _a.listComponent,\n          mod = _a.mod,\n          className = _a.className,\n          itemComponent = _a.itemComponent;\n      return core_1.renderComponent(listComponent, {\n        hits: hits,\n        mod: mod,\n        className: className,\n        itemComponent: itemComponent\n      });\n    }\n\n    return null;\n  };\n\n  Hits.propTypes = defaults({\n    hitsPerPage: PropTypes.number,\n    highlightFields: PropTypes.arrayOf(PropTypes.string),\n    sourceFilterType: PropTypes.oneOf([PropTypes.string, PropTypes.arrayOf(PropTypes.string), PropTypes.bool]),\n    itemComponent: core_1.RenderComponentPropType,\n    listComponent: core_1.RenderComponentPropType\n  }, core_1.SearchkitComponent.propTypes);\n  Hits.defaultProps = {\n    listComponent: HitsList,\n    scrollTo: 'body'\n  };\n  return Hits;\n}(core_1.SearchkitComponent);\n\nexports.Hits = Hits;","map":{"version":3,"sources":["../../../../../src/components/search/hits/src/Hits.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar PropTypes = require(\"prop-types\");\nvar core_1 = require(\"../../../../core\");\nvar map = require('lodash/map');\nvar defaults = require('lodash/defaults');\nvar HitItem = /** @class */ (function (_super) {\n    __extends(HitItem, _super);\n    function HitItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    HitItem.prototype.render = function () {\n        return (React.createElement(\"div\", { \"data-qa\": \"hit\", className: this.props.bemBlocks.item().mix(this.props.bemBlocks.container('item')) }, this.props.result._id));\n    };\n    return HitItem;\n}(React.PureComponent));\nexports.HitItem = HitItem;\nvar HitsList = /** @class */ (function (_super) {\n    __extends(HitsList, _super);\n    function HitsList() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    HitsList.prototype.render = function () {\n        var _a = this.props, hits = _a.hits, mod = _a.mod, className = _a.className, itemComponent = _a.itemComponent;\n        var bemBlocks = {\n            container: core_1.block(mod).el,\n            item: core_1.block(mod + \"-hit\").el\n        };\n        return (React.createElement(\"div\", { \"data-qa\": \"hits\", className: bemBlocks.container().mix(className) }, map(hits, function (result, index) {\n            return core_1.renderComponent(itemComponent, {\n                key: result._id + \"_\" + result._index,\n                result: result,\n                bemBlocks: bemBlocks,\n                index: index\n            });\n        })));\n    };\n    HitsList.defaultProps = {\n        mod: 'sk-hits',\n        itemComponent: HitItem\n    };\n    HitsList.propTypes = {\n        mod: PropTypes.string,\n        className: PropTypes.string,\n        itemComponent: core_1.RenderComponentPropType,\n        hits: PropTypes.any\n    };\n    return HitsList;\n}(React.PureComponent));\nexports.HitsList = HitsList;\nvar Hits = /** @class */ (function (_super) {\n    __extends(Hits, _super);\n    function Hits() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Hits.prototype.componentDidMount = function () {\n        _super.prototype.componentDidMount.call(this);\n        if (this.props.hitsPerPage) {\n            this.searchkit.getAccessorByType(core_1.PageSizeAccessor).defaultSize = this.props.hitsPerPage;\n        }\n        if (this.props.highlightFields) {\n            this.searchkit.addAccessor(new core_1.HighlightAccessor(this.props.highlightFields));\n        }\n        if (this.props.customHighlight) {\n            this.searchkit.addAccessor(new core_1.CustomHighlightAccessor(this.props.customHighlight));\n        }\n        if (this.props.sourceFilter) {\n            this.searchkit.addAccessor(new core_1.SourceFilterAccessor(this.props.sourceFilter));\n        }\n        this.hitsAccessor = new core_1.HitsAccessor({ scrollTo: this.props.scrollTo });\n        this.searchkit.addAccessor(this.hitsAccessor);\n    };\n    Hits.prototype.render = function () {\n        var hits = this.getHits();\n        var hasHits = hits.length > 0;\n        if (!this.isInitialLoading() && hasHits) {\n            var _a = this.props, listComponent = _a.listComponent, mod = _a.mod, className = _a.className, itemComponent = _a.itemComponent;\n            return core_1.renderComponent(listComponent, {\n                hits: hits,\n                mod: mod,\n                className: className,\n                itemComponent: itemComponent\n            });\n        }\n        return null;\n    };\n    Hits.propTypes = defaults({\n        hitsPerPage: PropTypes.number,\n        highlightFields: PropTypes.arrayOf(PropTypes.string),\n        sourceFilterType: PropTypes.oneOf([\n            PropTypes.string,\n            PropTypes.arrayOf(PropTypes.string),\n            PropTypes.bool\n        ]),\n        itemComponent: core_1.RenderComponentPropType,\n        listComponent: core_1.RenderComponentPropType\n    }, core_1.SearchkitComponent.propTypes);\n    Hits.defaultProps = {\n        listComponent: HitsList,\n        scrollTo: 'body'\n    };\n    return Hits;\n}(core_1.SearchkitComponent));\nexports.Hits = Hits;\n//# sourceMappingURL=Hits.js.map"]},"metadata":{},"sourceType":"script"}