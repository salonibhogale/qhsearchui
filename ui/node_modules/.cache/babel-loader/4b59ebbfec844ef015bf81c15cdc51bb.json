{"ast":null,"code":"var __spreadArrays = this && this.__spreadArrays || function () {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) r[k] = a[j];\n\n  return r;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar support_1 = require(\"../support\");\n\nvar get = require('lodash/get');\n\nvar compact = require('lodash/compact');\n\nvar Accessor =\n/** @class */\nfunction () {\n  function Accessor() {\n    this.active = true;\n    this.translations = {};\n    this.refCount = 0;\n  }\n\n  Accessor.prototype.incrementRef = function () {\n    this.refCount++;\n  };\n\n  Accessor.prototype.decrementRef = function () {\n    this.refCount--;\n  };\n\n  Accessor.prototype.setActive = function (active) {\n    this.active = active;\n    return this;\n  };\n\n  Accessor.prototype.setSearchkitManager = function (searchkit) {\n    this.searchkit = searchkit;\n    this.uuid = searchkit.guid();\n    this.results = this.searchkit.results;\n  };\n\n  Accessor.prototype.translate = function (key, interpolations) {\n    var translation = this.searchkit && this.searchkit.translate(key) || this.translations[key] || key;\n    return support_1.Utils.translate(translation, interpolations);\n  };\n\n  Accessor.prototype.getResults = function () {\n    return this.results;\n  };\n\n  Accessor.prototype.setResults = function (results) {\n    this.results = results;\n  };\n\n  Accessor.prototype.getAggregations = function (path, defaultValue) {\n    var results = this.getResults();\n    var getPath = compact(__spreadArrays(['aggregations'], path));\n    return get(results, getPath, defaultValue);\n  };\n\n  Accessor.prototype.beforeBuildQuery = function () {};\n\n  Accessor.prototype.buildSharedQuery = function (query) {\n    return query;\n  };\n\n  Accessor.prototype.buildOwnQuery = function (query) {\n    return query;\n  };\n\n  return Accessor;\n}();\n\nexports.Accessor = Accessor;","map":{"version":3,"sources":["../../../src/core/accessors/Accessor.ts"],"names":[],"mappings":";;;;;;;;;;;;AAEA,IAAA,SAAA,GAAA,OAAA,CAAA,YAAA,CAAA;;AACA,IAAM,GAAG,GAAG,OAAO,CAAC,YAAD,CAAnB;;AACA,IAAM,OAAO,GAAG,OAAO,CAAC,gBAAD,CAAvB;;AAEA,IAAA,QAAA;AAAA;AAAA,YAAA;AAOE,WAAA,QAAA,GAAA;AACE,SAAK,MAAL,GAAc,IAAd;AACA,SAAK,YAAL,GAAoB,EAApB;AACA,SAAK,QAAL,GAAgB,CAAhB;AACD;;AAED,EAAA,QAAA,CAAA,SAAA,CAAA,YAAA,GAAA,YAAA;AACE,SAAK,QAAL;AACD,GAFD;;AAIA,EAAA,QAAA,CAAA,SAAA,CAAA,YAAA,GAAA,YAAA;AACE,SAAK,QAAL;AACD,GAFD;;AAIA,EAAA,QAAA,CAAA,SAAA,CAAA,SAAA,GAAA,UAAU,MAAV,EAAyB;AACvB,SAAK,MAAL,GAAc,MAAd;AACA,WAAO,IAAP;AACD,GAHD;;AAKA,EAAA,QAAA,CAAA,SAAA,CAAA,mBAAA,GAAA,UAAoB,SAApB,EAA6B;AAC3B,SAAK,SAAL,GAAiB,SAAjB;AACA,SAAK,IAAL,GAAY,SAAS,CAAC,IAAV,EAAZ;AACA,SAAK,OAAL,GAAe,KAAK,SAAL,CAAe,OAA9B;AACD,GAJD;;AAMA,EAAA,QAAA,CAAA,SAAA,CAAA,SAAA,GAAA,UAAU,GAAV,EAAe,cAAf,EAA8B;AAC5B,QAAM,WAAW,GACd,KAAK,SAAL,IAAkB,KAAK,SAAL,CAAe,SAAf,CAAyB,GAAzB,CAAnB,IAAqD,KAAK,YAAL,CAAkB,GAAlB,CAArD,IAA+E,GADjF;AAEA,WAAO,SAAA,CAAA,KAAA,CAAM,SAAN,CAAgB,WAAhB,EAA6B,cAA7B,CAAP;AACD,GAJD;;AAMA,EAAA,QAAA,CAAA,SAAA,CAAA,UAAA,GAAA,YAAA;AACE,WAAO,KAAK,OAAZ;AACD,GAFD;;AAIA,EAAA,QAAA,CAAA,SAAA,CAAA,UAAA,GAAA,UAAW,OAAX,EAAkB;AAChB,SAAK,OAAL,GAAe,OAAf;AACD,GAFD;;AAIA,EAAA,QAAA,CAAA,SAAA,CAAA,eAAA,GAAA,UAAgB,IAAhB,EAAsB,YAAtB,EAAkC;AAChC,QAAM,OAAO,GAAG,KAAK,UAAL,EAAhB;AACA,QAAM,OAAO,GAAG,OAAO,CAAA,cAAA,CAAA,CAAE,cAAF,CAAA,EAAqB,IAArB,CAAA,CAAvB;AACA,WAAO,GAAG,CAAC,OAAD,EAAU,OAAV,EAAmB,YAAnB,CAAV;AACD,GAJD;;AAMA,EAAA,QAAA,CAAA,SAAA,CAAA,gBAAA,GAAA,YAAA,CAAqB,CAArB;;AACA,EAAA,QAAA,CAAA,SAAA,CAAA,gBAAA,GAAA,UAAiB,KAAjB,EAAsC;AACpC,WAAO,KAAP;AACD,GAFD;;AAGA,EAAA,QAAA,CAAA,SAAA,CAAA,aAAA,GAAA,UAAc,KAAd,EAAmC;AACjC,WAAO,KAAP;AACD,GAFD;;AAGF,SAAA,QAAA;AAAC,CA3DD,EAAA;;AAAa,OAAA,CAAA,QAAA,GAAA,QAAA","sourceRoot":"","sourcesContent":["var __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar support_1 = require(\"../support\");\nvar get = require('lodash/get');\nvar compact = require('lodash/compact');\nvar Accessor = /** @class */ (function () {\n    function Accessor() {\n        this.active = true;\n        this.translations = {};\n        this.refCount = 0;\n    }\n    Accessor.prototype.incrementRef = function () {\n        this.refCount++;\n    };\n    Accessor.prototype.decrementRef = function () {\n        this.refCount--;\n    };\n    Accessor.prototype.setActive = function (active) {\n        this.active = active;\n        return this;\n    };\n    Accessor.prototype.setSearchkitManager = function (searchkit) {\n        this.searchkit = searchkit;\n        this.uuid = searchkit.guid();\n        this.results = this.searchkit.results;\n    };\n    Accessor.prototype.translate = function (key, interpolations) {\n        var translation = (this.searchkit && this.searchkit.translate(key)) || this.translations[key] || key;\n        return support_1.Utils.translate(translation, interpolations);\n    };\n    Accessor.prototype.getResults = function () {\n        return this.results;\n    };\n    Accessor.prototype.setResults = function (results) {\n        this.results = results;\n    };\n    Accessor.prototype.getAggregations = function (path, defaultValue) {\n        var results = this.getResults();\n        var getPath = compact(__spreadArrays(['aggregations'], path));\n        return get(results, getPath, defaultValue);\n    };\n    Accessor.prototype.beforeBuildQuery = function () { };\n    Accessor.prototype.buildSharedQuery = function (query) {\n        return query;\n    };\n    Accessor.prototype.buildOwnQuery = function (query) {\n        return query;\n    };\n    return Accessor;\n}());\nexports.Accessor = Accessor;\n//# sourceMappingURL=Accessor.js.map"]},"metadata":{},"sourceType":"script"}