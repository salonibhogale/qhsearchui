{"ast":null,"code":"var _jsxFileName = \"/Users/salonibhogale/qhsearchui/src/Components/BrowseData.js\";\nimport React, { Component } from \"react\";\nimport Popup from \"./Shared/Popup.js\";\nimport Checkbox from \"./Shared/Checkbox.js\";\nimport extend from \"lodash/extend\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport Table from \"react-bootstrap/Table\";\nimport ShowMore from \"react-show-more\";\nimport { CSVLink } from \"react-csv\";\nimport { Button } from \"react-bootstrap\"; // import * as moment from \"moment\";\n// import { DateRangeFilter, DateRangeCalendar } from \"searchkit-datefilter\";\n\nimport { SearchkitManager, SearchkitProvider, SearchBox, RefinementListFilter, HierarchicalMenuFilter, HitsStats, HitItemProps, SortingSelector, NoHits, ResetFilters, RangeFilter, NumericRefinementListFilter, ViewSwitcherHits, ViewSwitcherToggle, DynamicRangeFilter, InputFilter, GroupedSelectedFilters, Layout, TopBar, InitialLoader, LayoutBody, LayoutResults, ActionBar, ActionBarRow, SideBar, SearchkitComponent, Pagination, ItemHistogramList } from \"searchkit\"; // import \"./index.css\";\n// const ES_HOST = process.env.ES_HOST || \"localhost\";\n// const ES_PORT = process.env.ES_PORT || 9300;\n\nconst host = \"http://localhost:9300/questions3\";\nconst searchkit = new SearchkitManager(host);\nfetch(\"http://localhost:9300/questions3/_search?size=2\").then(response => response.json()).then(jsonData => {\n  // jsonData is parsed json object received from url\n  console.log(jsonData.hits.hits);\n}).catch(error => {\n  // handle your errors here\n  console.error(error);\n});\n\nsearchkit.translateFunction = key => {\n  return {\n    \"pagination.next\": \"Next Page\",\n    \"pagination.previous\": \"Previous Page\"\n  }[key];\n};\n\nconsole.log(searchkit.query);\nvar filename = \"TCPD_QH.csv\";\nconsole.log(\"found searchkit results\");\n\nclass MovieHitsTable extends React.Component {\n  render() {\n    const {\n      hits\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: \"100%\",\n        boxSizing: \"border-box\",\n        padding: 8\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      className: \"sk-table sk-table-striped\",\n      style: {\n        width: \"100%\",\n        boxSizing: \"border-box\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 15\n      }\n    }, \"LS Num\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 15\n      }\n    }, \"Question\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 15\n      }\n    }, \"Ministry\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }\n    }, map(hits, hit => /*#__PURE__*/React.createElement(\"tr\", {\n      key: hit._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      style: {\n        margin: 0,\n        padding: 0,\n        width: 40\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      \"data-qa\": \"poster\",\n      src: hit._source.poster,\n      style: {\n        width: 40\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }\n    }, hit._source.ls_no), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }\n    }, hit._source.Question), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }\n    }, hit._source.ministry))))));\n  }\n\n}\n\nconst MovieHitsListItem = props => {\n  const {\n    bemBlocks,\n    result\n  } = props;\n  let splitname = result._source.member;\n  var split_names = splitname.toString().split(\",\").map((item, i) => {\n    return /*#__PURE__*/React.createElement(\"p\", {\n      key: i,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 14\n      }\n    }, item);\n  });\n  let splitparty = result._source.party;\n  var split_party = splitparty.toString().split(\",\").map((item, i) => {\n    return /*#__PURE__*/React.createElement(\"p\", {\n      key: i,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 14\n      }\n    }, item);\n  });\n  let splitctype = result._source.constituency_type;\n  var split_ctype = splitctype.toString().split(\",\").map((item, i) => {\n    return /*#__PURE__*/React.createElement(\"p\", {\n      key: i,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 14\n      }\n    }, item);\n  });\n  const source = extend({}, result._source, result.highlight);\n  return /*#__PURE__*/React.createElement(\"tr\", {\n    \"data-qa\": \"hit\",\n    className: bemBlocks.item().mix(bemBlocks.container(\"item\")),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      width: \"100px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: bemBlocks.item(\"subtitle\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 9\n    }\n  }, source.ls_no)), /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      width: \"150px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: bemBlocks.item(\"subtitle\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 9\n    }\n  }, source.starred_unstarred)), /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      width: \"150px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: bemBlocks.item(\"subtitle\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 9\n    }\n  }, split_names)), /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      width: \"150px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: bemBlocks.item(\"subtitle\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 9\n    }\n  }, split_party)), /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      width: \"150px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: bemBlocks.item(\"subtitle\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: bemBlocks.item(\"text\"),\n    dangerouslySetInnerHTML: {\n      __html: source.ministry\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      width: \"150px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: bemBlocks.item(\"subtitle\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: bemBlocks.item(\"text\"),\n    dangerouslySetInnerHTML: {\n      __html: source.date\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      width: \"150px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: bemBlocks.item(\"subtitle\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 9\n    }\n  }, split_ctype)), /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      width: \"250px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: bemBlocks.item(\"subtitle\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ShowMore, {\n    lines: 3,\n    more: \">\",\n    less: \"<\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: bemBlocks.item(\"text\"),\n    dangerouslySetInnerHTML: {\n      __html: source.Question\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 13\n    }\n  })))));\n}; // to display the hitstats correctly: '139 results found in 27ms'\n\n\nexport class FormattedHitsStats extends HitsStats {\n  render() {\n    var timeTaken = this.searchkit.getTime();\n    var hitsCount = this.searchkit.getHitsCount();\n    var checkdata = hitsCount;\n\n    if (checkdata >= 10000) {\n      checkdata = \"More than 10,000\";\n    }\n\n    var props = {\n      bemBlocks: this.bemBlocks,\n      translate: this.translate,\n      timeTaken: timeTaken,\n      hitsCount: hitsCount,\n      resultsFoundLabel: this.translate(\"hitstats.results_found\", {\n        timeTaken: timeTaken,\n        hitCount: checkdata.toLocaleString()\n      })\n    };\n    return React.createElement(this.props.component, props);\n  }\n\n}\nexport default class BrowseData extends Component {\n  constructor(props) {\n    super(props);\n\n    this.showTermsAndConditionsPopup = () => {\n      this.setState({\n        showTermsAndConditionsPopup: true\n      });\n    };\n\n    this.CloseTermsAndConditionsPopup = () => {\n      this.setState({\n        showTermsAndConditionsPopup: false\n      });\n      this.setState({\n        isDataDownloadable: false\n      });\n    };\n\n    this.CancelTermsAndConditionsPopup = () => {\n      this.setState({\n        isDataDownloadable: false\n      });\n      this.setState({\n        showTermsAndConditionsPopup: false\n      });\n    };\n\n    this.onAcceptTermsAndConditions = (key, checked) => {\n      this.setState({\n        isDataDownloadable: checked\n      });\n\n      if (checked) {\n        this.getAllData(searchkit.query);\n        console.log(\"fetching data now\");\n      }\n    };\n\n    this.state = {\n      showTermsAndConditionsPopup: false,\n      csvData: [],\n      isDataDownloadable: false,\n      change: 0\n    };\n  }\n\n  async getAllData(query) {\n    const elasticsearch = require(\"elasticsearch\");\n\n    console.log(\"ping elasticsearch\");\n    const elasticSearchClient = new elasticsearch.Client({\n      host: \"http://localhost:9300/\"\n    });\n    const result = await elasticSearchClient.search({\n      index: \"questions3\",\n      scroll: \"2m\",\n      size: 10000,\n      body: query.query\n    });\n\n    const retriever = async ({\n      data,\n      total,\n      scrollId\n    }) => {\n      if (data.length >= total) {\n        console.log(\"Condition is true\");\n        return data;\n      }\n\n      const result = await elasticSearchClient.scroll({\n        scroll: \"1m\",\n        scroll_id: scrollId\n      });\n      data = [...data, ...result.hits.hits];\n      return retriever({\n        total,\n        scrollId: result._scroll_id,\n        data\n      });\n    };\n\n    console.log(\"This is result here\");\n    console.log(result.hits.hits);\n    console.log(result);\n    console.log(\"End of result here\");\n    const final_data = retriever({\n      total: result.hits.total,\n      scrollId: result._scroll_id,\n      data: result.hits.hits\n    });\n    console.log(final_data);\n    var for_data = [];\n    final_data.then(function (result) {\n      for_data.push([\"ls_number\", \"ministry\", \"member\", \"party\", \"question_type\", \"question_text\"]);\n\n      for (var d = 0; d < result.length; d++) {\n        for_data.push([result[d]._source.ls_no, result[d]._source.ministry, result[d]._source.member, result[d]._source.party, result[d]._source.starred_unstarred, result[d]._source.Question, console.log(result[d]._source.party)]);\n      }\n\n      console.log(\"new data populated\");\n    }).then(() => {\n      this.setState({\n        csvData: for_data\n      });\n      this.setState({\n        change: this.state.change + 1\n      });\n      console.log(\"data mapped to csvData\");\n    });\n  }\n\n  render() {\n    var csvData = this.state.csvData;\n    var change = this.state.change;\n    var showTermsAndConditionsPopup = this.state.showTermsAndConditionsPopup;\n    var isDataDownloadable = this.state.isDataDownloadable;\n    const modalBody = /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 9\n      }\n    }, \"Parliamentary Questions portal is an online web interface provided by the Trivedi Centre for Political Data. In these terms of use of the data provided by the Centre, 'Data' includes all texts and compilations of data and other material presented within the application. The users are free to download, display or include the data in other products for non-commercial purposes at no cost subject to the following limitations:\"), /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 11\n      }\n    }, \"The user must include the citation for data they use. The user must not claim or imply that the Trivedi Centre for Political Data endorses the user's use of the data or use of the Centre's logo(s) or trademarks(s) in conjunction with the same.\"), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 11\n      }\n    }, \"The Centre makes no warranties with respect to the data and the user must agree that the Centre shall not be held responsible or liable to the user for any errors, omissions, misstatements and/or misrepresentations of the data though the user is encouraged to report the same to us (following the procedure elaborated upon within the 'Contact us' tab).\"), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 11\n      }\n    }, \"The Centre may record visits to the application without collecting the personal information of the users. The records shall be used for statistical reports only.\"), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 11\n      }\n    }, \"The user must agree that the use of data presented within the application can be seen as the acknowledgement of unconditionally accepting the Terms of Use presented by the Centre.\")), /*#__PURE__*/React.createElement(Checkbox, {\n      id: \"dd_accept_condition\",\n      label: \"I accept the terms and conditions mentioned here.\",\n      checked: this.state.isDataDownloadable,\n      onChange: this.onAcceptTermsAndConditions,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 9\n      }\n    }));\n    var buttonClass = isDataDownloadable ? \"btn-lg\" : \"btn-lg disabled\";\n    const modalFooter = /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      className: \"btn-lg\",\n      variant: \"primary\",\n      onClick: this.CancelTermsAndConditionsPopup,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 9\n      }\n    }, \"Cancel\"), /*#__PURE__*/React.createElement(CSVLink, {\n      className: buttonClass,\n      data: csvData,\n      filename: filename,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      className: buttonClass,\n      variant: \"primary\",\n      onClick: this.CloseTermsAndConditionsPopup,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 11\n      }\n    }, \"Download\")));\n    return (\n      /*#__PURE__*/\n      //   <div className=\"content overflow-auto\">\n      React.createElement(\"div\", {\n        className: \"browse-data\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(SearchkitProvider, {\n        searchkit: searchkit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Layout, {\n        size: \"l\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 403,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(TopBar, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"my-logo\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 15\n        }\n      }, \"Parliamentary Questions\"), /*#__PURE__*/React.createElement(SearchBox // autofocus={true}\n      , {\n        searchOnChange: true,\n        prefixQueryFields: [\"Question^10\"] //   \"starred_unstarred^2\",\n        //   \"member\",\n        //   \"ministry^10\",\n        ,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 15\n        }\n      })), /*#__PURE__*/React.createElement(LayoutBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 416,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(SideBar, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 417,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(HierarchicalMenuFilter, {\n        fields: [\"ls_no\"],\n        title: \"Lok Sabha Number\",\n        id: \"ls_no\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 418,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(HierarchicalMenuFilter, {\n        fields: [\"starred_unstarred\"],\n        title: \"Question Type\",\n        id: \"starred_unstarred\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 440,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(HierarchicalMenuFilter, {\n        fields: [\"constituency\"],\n        title: \"Constituency \",\n        id: \"constituency\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(HierarchicalMenuFilter, {\n        fields: [\"ministry\"],\n        title: \"Ministry Names\",\n        id: \"ministry\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 451,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(RefinementListFilter, {\n        id: \"party\",\n        title: \"Party\",\n        field: \"party\",\n        size: 10,\n        operator: \"OR\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 457,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(RefinementListFilter, {\n        id: \"state\",\n        title: \"State\",\n        field: \"state\",\n        operator: \"AND\",\n        listComponent: ItemHistogramList,\n        size: 10,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 464,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(LayoutResults, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 474,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(ActionBar, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 475,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(ActionBarRow, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 476,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(HitsStats, {\n        component: FormattedHitsStats,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 477,\n          columnNumber: 21\n        }\n      })), /*#__PURE__*/React.createElement(ActionBarRow, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 480,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(GroupedSelectedFilters, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 481,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(ResetFilters, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 482,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 484,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        className: \"btn-lg\",\n        onClick: this.showTermsAndConditionsPopup,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 485,\n          columnNumber: 23\n        }\n      }, \" \", \"Download Data\"), showTermsAndConditionsPopup && /*#__PURE__*/React.createElement(Popup, {\n        id: \"tems_and_conditions_popup\",\n        show: showTermsAndConditionsPopup,\n        body: modalBody,\n        heading: /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 497,\n            columnNumber: 36\n          }\n        }, \"Terms and Conditions\"),\n        footer: modalFooter,\n        handleClose: this.CloseTermsAndConditionsPopup,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 493,\n          columnNumber: 25\n        }\n      })))), /*#__PURE__*/React.createElement(Table, {\n        striped: true,\n        bordered: true,\n        hover: true,\n        size: \"sm\",\n        style: {\n          border: 0\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 505,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"thead\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 506,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        \"data-qa\": \"hits\",\n        className: \"sk-hits-list\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 507,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 508,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        style: {\n          width: \"100px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 509,\n          columnNumber: 25\n        }\n      }, \"LS Number\"), /*#__PURE__*/React.createElement(\"th\", {\n        style: {\n          width: \"150px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 510,\n          columnNumber: 25\n        }\n      }, \"Question Type\"), /*#__PURE__*/React.createElement(\"th\", {\n        style: {\n          width: \"150px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 511,\n          columnNumber: 25\n        }\n      }, \"Member\"), /*#__PURE__*/React.createElement(\"th\", {\n        style: {\n          width: \"150px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 512,\n          columnNumber: 25\n        }\n      }, \"Party\"), /*#__PURE__*/React.createElement(\"th\", {\n        style: {\n          width: \"150px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 513,\n          columnNumber: 25\n        }\n      }, \"Ministry\"), /*#__PURE__*/React.createElement(\"th\", {\n        style: {\n          width: \"150px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 514,\n          columnNumber: 25\n        }\n      }, \"Date\"), /*#__PURE__*/React.createElement(\"th\", {\n        style: {\n          width: \"150px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 515,\n          columnNumber: 25\n        }\n      }, \"Constituency\"), /*#__PURE__*/React.createElement(\"th\", {\n        style: {\n          width: \"250px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 516,\n          columnNumber: 25\n        }\n      }, \"Question\")))), /*#__PURE__*/React.createElement(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 521,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(ViewSwitcherHits, {\n        hitsPerPage: 50,\n        highlightFields: [\"member\", \"ministry\", \"question\"],\n        sourceFilter: [\"ls_no\", \"Question\", \"starred_unstarred\", \"member\", \"party\", \"ministry\", \"date\", \"constituency\", \"constituency_type\"],\n        hitComponents: [{\n          key: \"list\",\n          title: \"List\",\n          itemComponent: MovieHitsTable,\n          defaultOption: true\n        }],\n        scrollTo: \"body\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 522,\n          columnNumber: 21\n        }\n      }))), /*#__PURE__*/React.createElement(NoHits, {\n        suggestionsField: \"ministry\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 549,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(InitialLoader, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 550,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(Pagination, {\n        showNumbers: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 551,\n          columnNumber: 17\n        }\n      })))))) //   </div>\n      //   </div>\n\n    );\n  }\n\n}","map":{"version":3,"sources":["/Users/salonibhogale/qhsearchui/src/Components/BrowseData.js"],"names":["React","Component","Popup","Checkbox","extend","Table","ShowMore","CSVLink","Button","SearchkitManager","SearchkitProvider","SearchBox","RefinementListFilter","HierarchicalMenuFilter","HitsStats","HitItemProps","SortingSelector","NoHits","ResetFilters","RangeFilter","NumericRefinementListFilter","ViewSwitcherHits","ViewSwitcherToggle","DynamicRangeFilter","InputFilter","GroupedSelectedFilters","Layout","TopBar","InitialLoader","LayoutBody","LayoutResults","ActionBar","ActionBarRow","SideBar","SearchkitComponent","Pagination","ItemHistogramList","host","searchkit","fetch","then","response","json","jsonData","console","log","hits","catch","error","translateFunction","key","query","filename","MovieHitsTable","render","props","width","boxSizing","padding","map","hit","_id","margin","_source","poster","ls_no","Question","ministry","MovieHitsListItem","bemBlocks","result","splitname","member","split_names","toString","split","item","i","splitparty","party","split_party","splitctype","constituency_type","split_ctype","source","highlight","mix","container","starred_unstarred","__html","date","FormattedHitsStats","timeTaken","getTime","hitsCount","getHitsCount","checkdata","translate","resultsFoundLabel","hitCount","toLocaleString","createElement","component","BrowseData","constructor","showTermsAndConditionsPopup","setState","CloseTermsAndConditionsPopup","isDataDownloadable","CancelTermsAndConditionsPopup","onAcceptTermsAndConditions","checked","getAllData","state","csvData","change","elasticsearch","require","elasticSearchClient","Client","search","index","scroll","size","body","retriever","data","total","scrollId","length","scroll_id","_scroll_id","final_data","for_data","push","d","modalBody","buttonClass","modalFooter","border","title","itemComponent","defaultOption"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Popup from \"./Shared/Popup.js\";\nimport Checkbox from \"./Shared/Checkbox.js\";\nimport extend from \"lodash/extend\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport Table from \"react-bootstrap/Table\";\nimport ShowMore from \"react-show-more\";\nimport { CSVLink } from \"react-csv\";\nimport { Button } from \"react-bootstrap\";\n// import * as moment from \"moment\";\n// import { DateRangeFilter, DateRangeCalendar } from \"searchkit-datefilter\";\n\nimport {\n  SearchkitManager,\n  SearchkitProvider,\n  SearchBox,\n  RefinementListFilter,\n  HierarchicalMenuFilter,\n  HitsStats,\n  HitItemProps,\n  SortingSelector,\n  NoHits,\n  ResetFilters,\n  RangeFilter,\n  NumericRefinementListFilter,\n  ViewSwitcherHits,\n  ViewSwitcherToggle,\n  DynamicRangeFilter,\n  InputFilter,\n  GroupedSelectedFilters,\n  Layout,\n  TopBar,\n  InitialLoader,\n  LayoutBody,\n  LayoutResults,\n  ActionBar,\n  ActionBarRow,\n  SideBar,\n  SearchkitComponent,\n  Pagination,\n  ItemHistogramList,\n} from \"searchkit\";\n// import \"./index.css\";\n\n// const ES_HOST = process.env.ES_HOST || \"localhost\";\n// const ES_PORT = process.env.ES_PORT || 9300;\nconst host = \"http://localhost:9300/questions3\";\nconst searchkit = new SearchkitManager(host);\n\nfetch(\"http://localhost:9300/questions3/_search?size=2\")\n  .then((response) => response.json())\n  .then((jsonData) => {\n    // jsonData is parsed json object received from url\n    console.log(jsonData.hits.hits);\n  })\n  .catch((error) => {\n    // handle your errors here\n    console.error(error);\n  });\n\nsearchkit.translateFunction = (key) => {\n  return {\n    \"pagination.next\": \"Next Page\",\n    \"pagination.previous\": \"Previous Page\",\n  }[key];\n};\n\nconsole.log(searchkit.query);\nvar filename = \"TCPD_QH.csv\";\nconsole.log(\"found searchkit results\");\n\nclass MovieHitsTable extends React.Component {\n  render() {\n    const { hits } = this.props;\n    return (\n      <div style={{ width: \"100%\", boxSizing: \"border-box\", padding: 8 }}>\n        <table\n          className=\"sk-table sk-table-striped\"\n          style={{ width: \"100%\", boxSizing: \"border-box\" }}\n        >\n          <thead>\n            <tr>\n              <th></th>\n              <th>LS Num</th>\n              <th>Question</th>\n              <th>Ministry</th>\n            </tr>\n          </thead>\n          <tbody>\n            {map(hits, (hit) => (\n              <tr key={hit._id}>\n                <td style={{ margin: 0, padding: 0, width: 40 }}>\n                  <img\n                    data-qa=\"poster\"\n                    src={hit._source.poster}\n                    style={{ width: 40 }}\n                  />\n                </td>\n                <td>{hit._source.ls_no}</td>\n                <td>{hit._source.Question}</td>\n                <td>{hit._source.ministry}</td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n\nconst MovieHitsListItem = (props) => {\n  const { bemBlocks, result } = props;\n  let splitname = result._source.member;\n  var split_names = splitname\n    .toString()\n    .split(\",\")\n    .map((item, i) => {\n      return <p key={i}>{item}</p>;\n    });\n\n  let splitparty = result._source.party;\n  var split_party = splitparty\n    .toString()\n    .split(\",\")\n    .map((item, i) => {\n      return <p key={i}>{item}</p>;\n    });\n\n  let splitctype = result._source.constituency_type;\n  var split_ctype = splitctype\n    .toString()\n    .split(\",\")\n    .map((item, i) => {\n      return <p key={i}>{item}</p>;\n    });\n\n  const source = extend({}, result._source, result.highlight);\n  return (\n    <tr\n      data-qa=\"hit\"\n      className={bemBlocks.item().mix(bemBlocks.container(\"item\"))}\n    >\n      <td style={{ width: \"100px\" }}>\n        <h3 className={bemBlocks.item(\"subtitle\")}>{source.ls_no}</h3>\n      </td>\n      <td style={{ width: \"150px\" }}>\n        <h3 className={bemBlocks.item(\"subtitle\")}>\n          {source.starred_unstarred}\n        </h3>\n      </td>\n\n      <td style={{ width: \"150px\" }}>\n        <h3 className={bemBlocks.item(\"subtitle\")}>{split_names}</h3>\n      </td>\n\n      <td style={{ width: \"150px\" }}>\n        <h3 className={bemBlocks.item(\"subtitle\")}>{split_party}</h3>\n      </td>\n\n      <td style={{ width: \"150px\" }}>\n        <h3 className={bemBlocks.item(\"subtitle\")}>\n          <div\n            className={bemBlocks.item(\"text\")}\n            dangerouslySetInnerHTML={{ __html: source.ministry }}\n          ></div>\n        </h3>\n      </td>\n      <td style={{ width: \"150px\" }}>\n        <h3 className={bemBlocks.item(\"subtitle\")}>\n          <div\n            className={bemBlocks.item(\"text\")}\n            dangerouslySetInnerHTML={{ __html: source.date }}\n          ></div>\n        </h3>\n      </td>\n      <td style={{ width: \"150px\" }}>\n        <h3 className={bemBlocks.item(\"subtitle\")}>{split_ctype}</h3>\n      </td>\n\n      <td style={{ width: \"250px\" }}>\n        <h3 className={bemBlocks.item(\"subtitle\")}>\n          <ShowMore lines={3} more=\">\" less=\"<\">\n            <div\n              className={bemBlocks.item(\"text\")}\n              dangerouslySetInnerHTML={{ __html: source.Question }}\n            ></div>\n          </ShowMore>\n        </h3>\n      </td>\n    </tr>\n  );\n};\n\n// to display the hitstats correctly: '139 results found in 27ms'\nexport class FormattedHitsStats extends HitsStats {\n  render() {\n    var timeTaken = this.searchkit.getTime();\n    var hitsCount = this.searchkit.getHitsCount();\n    var checkdata = hitsCount;\n    if (checkdata >= 10000) {\n      checkdata = \"More than 10,000\";\n    }\n\n    var props = {\n      bemBlocks: this.bemBlocks,\n      translate: this.translate,\n      timeTaken: timeTaken,\n      hitsCount: hitsCount,\n      resultsFoundLabel: this.translate(\"hitstats.results_found\", {\n        timeTaken: timeTaken,\n        hitCount: checkdata.toLocaleString(),\n      }),\n    };\n    return React.createElement(this.props.component, props);\n  }\n}\n\nexport default class BrowseData extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showTermsAndConditionsPopup: false,\n      csvData: [],\n      isDataDownloadable: false,\n      change: 0,\n    };\n  }\n\n  async getAllData(query) {\n    const elasticsearch = require(\"elasticsearch\");\n    console.log(\"ping elasticsearch\");\n    const elasticSearchClient = new elasticsearch.Client({\n      host: \"http://localhost:9300/\",\n    });\n\n    const result = await elasticSearchClient.search({\n      index: \"questions3\",\n      scroll: \"2m\",\n      size: 10000,\n      body: query.query,\n    });\n\n    const retriever = async ({ data, total, scrollId }) => {\n      if (data.length >= total) {\n        console.log(\"Condition is true\");\n        return data;\n      }\n\n      const result = await elasticSearchClient.scroll({\n        scroll: \"1m\",\n        scroll_id: scrollId,\n      });\n      data = [...data, ...result.hits.hits];\n      return retriever({\n        total,\n        scrollId: result._scroll_id,\n        data,\n      });\n    };\n    console.log(\"This is result here\");\n    console.log(result.hits.hits);\n    console.log(result);\n    console.log(\"End of result here\");\n\n    const final_data = retriever({\n      total: result.hits.total,\n      scrollId: result._scroll_id,\n      data: result.hits.hits,\n    });\n\n    console.log(final_data);\n    var for_data = [];\n    final_data\n      .then(function (result) {\n        for_data.push([\n          \"ls_number\",\n          \"ministry\",\n          \"member\",\n          \"party\",\n          \"question_type\",\n          \"question_text\",\n        ]);\n        for (var d = 0; d < result.length; d++) {\n          for_data.push([\n            result[d]._source.ls_no,\n            result[d]._source.ministry,\n            result[d]._source.member,\n            result[d]._source.party,\n            result[d]._source.starred_unstarred,\n            result[d]._source.Question,\n            console.log(result[d]._source.party),\n          ]);\n        }\n        console.log(\"new data populated\");\n      })\n      .then(() => {\n        this.setState({ csvData: for_data });\n        this.setState({ change: this.state.change + 1 });\n        console.log(\"data mapped to csvData\");\n      });\n  }\n\n  showTermsAndConditionsPopup = () => {\n    this.setState({ showTermsAndConditionsPopup: true });\n  };\n\n  CloseTermsAndConditionsPopup = () => {\n    this.setState({ showTermsAndConditionsPopup: false });\n    this.setState({ isDataDownloadable: false });\n  };\n\n  CancelTermsAndConditionsPopup = () => {\n    this.setState({ isDataDownloadable: false });\n    this.setState({ showTermsAndConditionsPopup: false });\n  };\n\n  onAcceptTermsAndConditions = (key, checked) => {\n    this.setState({ isDataDownloadable: checked });\n    if (checked) {\n      this.getAllData(searchkit.query);\n      console.log(\"fetching data now\");\n    }\n  };\n  render() {\n    var csvData = this.state.csvData;\n    var change = this.state.change;\n    var showTermsAndConditionsPopup = this.state.showTermsAndConditionsPopup;\n    var isDataDownloadable = this.state.isDataDownloadable;\n    const modalBody = (\n      <div>\n        <p>\n          Parliamentary Questions portal is an online web interface provided by\n          the Trivedi Centre for Political Data. In these terms of use of the\n          data provided by the Centre, 'Data' includes all texts and\n          compilations of data and other material presented within the\n          application. The users are free to download, display or include the\n          data in other products for non-commercial purposes at no cost subject\n          to the following limitations:\n        </p>\n        <ul>\n          <li>\n            The user must include the citation for data they use. The user must\n            not claim or imply that the Trivedi Centre for Political Data\n            endorses the user's use of the data or use of the Centre's logo(s)\n            or trademarks(s) in conjunction with the same.\n          </li>\n          <li>\n            The Centre makes no warranties with respect to the data and the user\n            must agree that the Centre shall not be held responsible or liable\n            to the user for any errors, omissions, misstatements and/or\n            misrepresentations of the data though the user is encouraged to\n            report the same to us (following the procedure elaborated upon\n            within the 'Contact us' tab).\n          </li>\n          <li>\n            The Centre may record visits to the application without collecting\n            the personal information of the users. The records shall be used for\n            statistical reports only.\n          </li>\n          <li>\n            The user must agree that the use of data presented within the\n            application can be seen as the acknowledgement of unconditionally\n            accepting the Terms of Use presented by the Centre.\n          </li>\n        </ul>\n\n        <Checkbox\n          id={\"dd_accept_condition\"}\n          label={\"I accept the terms and conditions mentioned here.\"}\n          checked={this.state.isDataDownloadable}\n          onChange={this.onAcceptTermsAndConditions}\n        />\n      </div>\n    );\n    var buttonClass = isDataDownloadable ? \"btn-lg\" : \"btn-lg disabled\";\n    const modalFooter = (\n      <div>\n        <Button\n          className=\"btn-lg\"\n          variant=\"primary\"\n          onClick={this.CancelTermsAndConditionsPopup}\n        >\n          Cancel\n        </Button>\n        <CSVLink className={buttonClass} data={csvData} filename={filename}>\n          <Button\n            className={buttonClass}\n            variant=\"primary\"\n            onClick={this.CloseTermsAndConditionsPopup}\n          >\n            Download\n            {/* {change} */}\n          </Button>\n        </CSVLink>\n      </div>\n    );\n    return (\n      //   <div className=\"content overflow-auto\">\n      <div className=\"browse-data\">\n        {/* <div className=\"row\"> */}\n        {/* <h2>Browse Data Page</h2> */}\n        <SearchkitProvider searchkit={searchkit}>\n          <Layout size=\"l\">\n            <TopBar>\n              <div className=\"my-logo\">Parliamentary Questions</div>\n              <SearchBox\n                // autofocus={true}\n                searchOnChange={true}\n                prefixQueryFields={[\"Question^10\"]}\n                //   \"starred_unstarred^2\",\n                //   \"member\",\n                //   \"ministry^10\",\n              />\n            </TopBar>\n\n            <LayoutBody>\n              <SideBar>\n                <HierarchicalMenuFilter\n                  fields={[\"ls_no\"]}\n                  title=\"Lok Sabha Number\"\n                  id=\"ls_no\"\n                />\n                {/* <DateRangeFilter\n                  id=\"date\"\n                  title=\"Date range\"\n                  fromDateField=\"date\"\n                  toDateField=\"date\"\n                  calendarComponent={DateRangeCalendar}\n                  // fieldOptions={{\n                  //   type: \"embedded\",\n                  //   options: {\n                  //     path: \"date\",\n                  //   },\n                  // }}\n                  // rangeFormatter={(v) =>\n                  //   moment(parseInt(\"\" + v)).format(\"D.M.YYYY\")\n                  // }\n                /> */}\n\n                <HierarchicalMenuFilter\n                  fields={[\"starred_unstarred\"]}\n                  title=\"Question Type\"\n                  id=\"starred_unstarred\"\n                />\n                <HierarchicalMenuFilter\n                  fields={[\"constituency\"]}\n                  title=\"Constituency \"\n                  id=\"constituency\"\n                />\n\n                <HierarchicalMenuFilter\n                  fields={[\"ministry\"]}\n                  title=\"Ministry Names\"\n                  id=\"ministry\"\n                />\n\n                <RefinementListFilter\n                  id=\"party\"\n                  title=\"Party\"\n                  field=\"party\"\n                  size={10}\n                  operator=\"OR\"\n                />\n                <RefinementListFilter\n                  id=\"state\"\n                  title=\"State\"\n                  field=\"state\"\n                  operator=\"AND\"\n                  listComponent={ItemHistogramList}\n                  size={10}\n                />\n              </SideBar>\n\n              <LayoutResults>\n                <ActionBar>\n                  <ActionBarRow>\n                    <HitsStats component={FormattedHitsStats} />\n                  </ActionBarRow>\n\n                  <ActionBarRow>\n                    <GroupedSelectedFilters />\n                    <ResetFilters />\n\n                    <div>\n                      <Button\n                        className=\"btn-lg\"\n                        onClick={this.showTermsAndConditionsPopup}\n                      >\n                        {\" \"}\n                        Download Data\n                      </Button>\n                      {showTermsAndConditionsPopup && (\n                        <Popup\n                          id=\"tems_and_conditions_popup\"\n                          show={showTermsAndConditionsPopup}\n                          body={modalBody}\n                          heading={<p>Terms and Conditions</p>}\n                          footer={modalFooter}\n                          handleClose={this.CloseTermsAndConditionsPopup}\n                        />\n                      )}\n                    </div>\n                  </ActionBarRow>\n                </ActionBar>\n                <Table striped bordered hover size=\"sm\" style={{ border: 0 }}>\n                  <thead>\n                    <div data-qa=\"hits\" className=\"sk-hits-list\">\n                      <tr>\n                        <th style={{ width: \"100px\" }}>LS Number</th>\n                        <th style={{ width: \"150px\" }}>Question Type</th>\n                        <th style={{ width: \"150px\" }}>Member</th>\n                        <th style={{ width: \"150px\" }}>Party</th>\n                        <th style={{ width: \"150px\" }}>Ministry</th>\n                        <th style={{ width: \"150px\" }}>Date</th>\n                        <th style={{ width: \"150px\" }}>Constituency</th>\n                        <th style={{ width: \"250px\" }}>Question</th>\n                      </tr>\n                    </div>\n                  </thead>\n\n                  <tbody>\n                    <ViewSwitcherHits\n                      hitsPerPage={50}\n                      highlightFields={[\"member\", \"ministry\", \"question\"]}\n                      sourceFilter={[\n                        \"ls_no\",\n                        \"Question\",\n                        \"starred_unstarred\",\n                        \"member\",\n                        \"party\",\n                        \"ministry\",\n                        \"date\",\n                        \"constituency\",\n                        \"constituency_type\",\n                      ]}\n                      hitComponents={[\n                        {\n                          key: \"list\",\n                          title: \"List\",\n                          itemComponent: MovieHitsTable,\n                          defaultOption: true,\n                        },\n                      ]}\n                      scrollTo=\"body\"\n                    />\n                  </tbody>\n                </Table>\n\n                <NoHits suggestionsField={\"ministry\"} />\n                <InitialLoader />\n                <Pagination showNumbers={true} />\n              </LayoutResults>\n            </LayoutBody>\n          </Layout>\n        </SearchkitProvider>\n      </div>\n      //   </div>\n      //   </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}